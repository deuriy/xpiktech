function isObject(obj){return obj!==null&&typeof obj==="object"&&"constructor"in obj&&obj.constructor===Object}function extend(target,src){if(target===void 0){target={}}if(src===void 0){src={}}const noExtend=["__proto__","constructor","prototype"];Object.keys(src).filter(key=>noExtend.indexOf(key)<0).forEach(key=>{if(typeof target[key]==="undefined")target[key]=src[key];else if(isObject(src[key])&&isObject(target[key])&&Object.keys(src[key]).length>0){extend(target[key],src[key])}})}var ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const doc=typeof document!=="undefined"?document:{};extend(doc,ssrDocument);return doc}var ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function CustomEvent(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(callback){if(typeof setTimeout==="undefined"){callback();return null}return setTimeout(callback,0)},cancelAnimationFrame(id){if(typeof setTimeout==="undefined"){return}clearTimeout(id)}};function getWindow(){const win=typeof window!=="undefined"?window:{};extend(win,ssrWindow);return win}function classesToTokens(classes2){if(classes2===void 0){classes2=""}return classes2.trim().split(" ").filter(c=>!!c.trim())}function deleteProps(obj){const object=obj;Object.keys(object).forEach(key=>{try{object[key]=null}catch(e){}try{delete object[key]}catch(e){}})}function nextTick(callback,delay){if(delay===void 0){delay=0}return setTimeout(callback,delay)}function now(){return Date.now()}function getComputedStyle2(el){const window2=getWindow();let style;if(window2.getComputedStyle){style=window2.getComputedStyle(el,null)}if(!style&&el.currentStyle){style=el.currentStyle}if(!style){style=el.style}return style}function getTranslate(el,axis){if(axis===void 0){axis="x"}const window2=getWindow();let matrix;let curTransform;let transformMatrix;const curStyle=getComputedStyle2(el);if(window2.WebKitCSSMatrix){curTransform=curStyle.transform||curStyle.webkitTransform;if(curTransform.split(",").length>6){curTransform=curTransform.split(", ").map(a=>a.replace(",",".")).join(", ")}transformMatrix=new window2.WebKitCSSMatrix(curTransform==="none"?"":curTransform)}else{transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");matrix=transformMatrix.toString().split(",")}if(axis==="x"){if(window2.WebKitCSSMatrix)curTransform=transformMatrix.m41;else if(matrix.length===16)curTransform=parseFloat(matrix[12]);else curTransform=parseFloat(matrix[4])}if(axis==="y"){if(window2.WebKitCSSMatrix)curTransform=transformMatrix.m42;else if(matrix.length===16)curTransform=parseFloat(matrix[13]);else curTransform=parseFloat(matrix[5])}return curTransform||0}function isObject2(o){return typeof o==="object"&&o!==null&&o.constructor&&Object.prototype.toString.call(o).slice(8,-1)==="Object"}function isNode(node){if(typeof window!=="undefined"&&typeof window.HTMLElement!=="undefined"){return node instanceof HTMLElement}return node&&(node.nodeType===1||node.nodeType===11)}function extend2(){const to=Object(arguments.length<=0?void 0:arguments[0]);const noExtend=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const nextSource=i<0||arguments.length<=i?void 0:arguments[i];if(nextSource!==void 0&&nextSource!==null&&!isNode(nextSource)){const keysArray=Object.keys(Object(nextSource)).filter(key=>noExtend.indexOf(key)<0);for(let nextIndex=0,len=keysArray.length;nextIndex<len;nextIndex+=1){const nextKey=keysArray[nextIndex];const desc=Object.getOwnPropertyDescriptor(nextSource,nextKey);if(desc!==void 0&&desc.enumerable){if(isObject2(to[nextKey])&&isObject2(nextSource[nextKey])){if(nextSource[nextKey].__swiper__){to[nextKey]=nextSource[nextKey]}else{extend2(to[nextKey],nextSource[nextKey])}}else if(!isObject2(to[nextKey])&&isObject2(nextSource[nextKey])){to[nextKey]={};if(nextSource[nextKey].__swiper__){to[nextKey]=nextSource[nextKey]}else{extend2(to[nextKey],nextSource[nextKey])}}else{to[nextKey]=nextSource[nextKey]}}}}}return to}function setCSSProperty(el,varName,varValue){el.style.setProperty(varName,varValue)}function animateCSSModeScroll(_ref){let{swiper,targetPosition,side}=_ref;const window2=getWindow();const startPosition=-swiper.translate;let startTime=null;let time;const duration=swiper.params.speed;swiper.wrapperEl.style.scrollSnapType="none";window2.cancelAnimationFrame(swiper.cssModeFrameID);const dir=targetPosition>startPosition?"next":"prev";const isOutOfBound=(current,target)=>{return dir==="next"&&current>=target||dir==="prev"&&current<=target};const animate=()=>{time=new Date().getTime();if(startTime===null){startTime=time}const progress=Math.max(Math.min((time-startTime)/duration,1),0);const easeProgress=.5-Math.cos(progress*Math.PI)/2;let currentPosition=startPosition+easeProgress*(targetPosition-startPosition);if(isOutOfBound(currentPosition,targetPosition)){currentPosition=targetPosition}swiper.wrapperEl.scrollTo({[side]:currentPosition});if(isOutOfBound(currentPosition,targetPosition)){swiper.wrapperEl.style.overflow="hidden";swiper.wrapperEl.style.scrollSnapType="";setTimeout(()=>{swiper.wrapperEl.style.overflow="";swiper.wrapperEl.scrollTo({[side]:currentPosition})});window2.cancelAnimationFrame(swiper.cssModeFrameID);return}swiper.cssModeFrameID=window2.requestAnimationFrame(animate)};animate()}function getSlideTransformEl(slideEl){return slideEl.querySelector(".swiper-slide-transform")||slideEl.shadowRoot&&slideEl.shadowRoot.querySelector(".swiper-slide-transform")||slideEl}function elementChildren(element,selector){if(selector===void 0){selector=""}const window2=getWindow();const children=[...element.children];if(window2.HTMLSlotElement&&element instanceof HTMLSlotElement){children.push(...element.assignedElements())}if(!selector){return children}return children.filter(el=>el.matches(selector))}function elementIsChildOfSlot(el,slot){const elementsQueue=[slot];while(elementsQueue.length>0){const elementToCheck=elementsQueue.shift();if(el===elementToCheck){return true}elementsQueue.push(...elementToCheck.children,...elementToCheck.shadowRoot?elementToCheck.shadowRoot.children:[],...elementToCheck.assignedElements?elementToCheck.assignedElements():[])}}function elementIsChildOf(el,parent){const window2=getWindow();let isChild=parent.contains(el);if(!isChild&&window2.HTMLSlotElement&&parent instanceof HTMLSlotElement){const children=[...parent.assignedElements()];isChild=children.includes(el);if(!isChild){isChild=elementIsChildOfSlot(el,parent)}}return isChild}function showWarning(text){try{console.warn(text);return}catch(err){}}function createElement(tag,classes2){if(classes2===void 0){classes2=[]}const el=document.createElement(tag);el.classList.add(...Array.isArray(classes2)?classes2:classesToTokens(classes2));return el}function elementPrevAll(el,selector){const prevEls=[];while(el.previousElementSibling){const prev=el.previousElementSibling;if(selector){if(prev.matches(selector))prevEls.push(prev)}else prevEls.push(prev);el=prev}return prevEls}function elementNextAll(el,selector){const nextEls=[];while(el.nextElementSibling){const next=el.nextElementSibling;if(selector){if(next.matches(selector))nextEls.push(next)}else nextEls.push(next);el=next}return nextEls}function elementStyle(el,prop){const window2=getWindow();return window2.getComputedStyle(el,null).getPropertyValue(prop)}function elementIndex(el){let child=el;let i;if(child){i=0;while((child=child.previousSibling)!==null){if(child.nodeType===1)i+=1}return i}return void 0}function elementParents(el,selector){const parents=[];let parent=el.parentElement;while(parent){if(selector){if(parent.matches(selector))parents.push(parent)}else{parents.push(parent)}parent=parent.parentElement}return parents}function elementTransitionEnd(el,callback){function fireCallBack(e){if(e.target!==el)return;callback.call(el,e);el.removeEventListener("transitionend",fireCallBack)}if(callback){el.addEventListener("transitionend",fireCallBack)}}function elementOuterSize(el,size,includeMargins){const window2=getWindow();if(includeMargins){return el[size==="width"?"offsetWidth":"offsetHeight"]+parseFloat(window2.getComputedStyle(el,null).getPropertyValue(size==="width"?"margin-right":"margin-top"))+parseFloat(window2.getComputedStyle(el,null).getPropertyValue(size==="width"?"margin-left":"margin-bottom"))}return el.offsetWidth}function makeElementsArray(el){return(Array.isArray(el)?el:[el]).filter(e=>!!e)}function setInnerHTML(el,html){if(html===void 0){html=""}if(typeof trustedTypes!=="undefined"){el.innerHTML=trustedTypes.createPolicy("html",{createHTML:s=>s}).createHTML(html)}else{el.innerHTML=html}}var support;function calcSupport(){const window2=getWindow();const document2=getDocument();return{smoothScroll:document2.documentElement&&document2.documentElement.style&&"scrollBehavior"in document2.documentElement.style,touch:!!("ontouchstart"in window2||window2.DocumentTouch&&document2 instanceof window2.DocumentTouch)}}function getSupport(){if(!support){support=calcSupport()}return support}var deviceCached;function calcDevice(_temp){let{userAgent}=_temp===void 0?{}:_temp;const support2=getSupport();const window2=getWindow();const platform=window2.navigator.platform;const ua=userAgent||window2.navigator.userAgent;const device={ios:false,android:false};const screenWidth=window2.screen.width;const screenHeight=window2.screen.height;const android=ua.match(/(Android);?[\s\/]+([\d.]+)?/);let ipad=ua.match(/(iPad).*OS\s([\d_]+)/);const ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/);const iphone=!ipad&&ua.match(/(iPhone\sOS|iOS)\s([\d_]+)/);const windows=platform==="Win32";let macos=platform==="MacIntel";const iPadScreens=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];if(!ipad&&macos&&support2.touch&&iPadScreens.indexOf(`${screenWidth}x${screenHeight}`)>=0){ipad=ua.match(/(Version)\/([\d.]+)/);if(!ipad)ipad=[0,1,"13_0_0"];macos=false}if(android&&!windows){device.os="android";device.android=true}if(ipad||iphone||ipod){device.os="ios";device.ios=true}return device}function getDevice(overrides){if(overrides===void 0){overrides={}}if(!deviceCached){deviceCached=calcDevice(overrides)}return deviceCached}var browser;function calcBrowser(){const window2=getWindow();const device=getDevice();let needPerspectiveFix=false;function isSafari(){const ua=window2.navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0&&ua.indexOf("android")<0}if(isSafari()){const ua=String(window2.navigator.userAgent);if(ua.includes("Version/")){const[major,minor]=ua.split("Version/")[1].split(" ")[0].split(".").map(num=>Number(num));needPerspectiveFix=major<16||major===16&&minor<2}}const isWebView=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window2.navigator.userAgent);const isSafariBrowser=isSafari();const need3dFix=isSafariBrowser||isWebView&&device.ios;return{isSafari:needPerspectiveFix||isSafariBrowser,needPerspectiveFix,need3dFix,isWebView}}function getBrowser(){if(!browser){browser=calcBrowser()}return browser}function Resize(_ref){let{swiper,on,emit}=_ref;const window2=getWindow();let observer=null;let animationFrame=null;const resizeHandler=()=>{if(!swiper||swiper.destroyed||!swiper.initialized)return;emit("beforeResize");emit("resize")};const createObserver=()=>{if(!swiper||swiper.destroyed||!swiper.initialized)return;observer=new ResizeObserver(entries=>{animationFrame=window2.requestAnimationFrame(()=>{const{width,height}=swiper;let newWidth=width;let newHeight=height;entries.forEach(_ref2=>{let{contentBoxSize,contentRect,target}=_ref2;if(target&&target!==swiper.el)return;newWidth=contentRect?contentRect.width:(contentBoxSize[0]||contentBoxSize).inlineSize;newHeight=contentRect?contentRect.height:(contentBoxSize[0]||contentBoxSize).blockSize});if(newWidth!==width||newHeight!==height){resizeHandler()}})});observer.observe(swiper.el)};const removeObserver=()=>{if(animationFrame){window2.cancelAnimationFrame(animationFrame)}if(observer&&observer.unobserve&&swiper.el){observer.unobserve(swiper.el);observer=null}};const orientationChangeHandler=()=>{if(!swiper||swiper.destroyed||!swiper.initialized)return;emit("orientationchange")};on("init",()=>{if(swiper.params.resizeObserver&&typeof window2.ResizeObserver!=="undefined"){createObserver();return}window2.addEventListener("resize",resizeHandler);window2.addEventListener("orientationchange",orientationChangeHandler)});on("destroy",()=>{removeObserver();window2.removeEventListener("resize",resizeHandler);window2.removeEventListener("orientationchange",orientationChangeHandler)})}function Observer(_ref){let{swiper,extendParams,on,emit}=_ref;const observers=[];const window2=getWindow();const attach=function(target,options){if(options===void 0){options={}}const ObserverFunc=window2.MutationObserver||window2.WebkitMutationObserver;const observer=new ObserverFunc(mutations=>{if(swiper.__preventObserver__)return;if(mutations.length===1){emit("observerUpdate",mutations[0]);return}const observerUpdate=function observerUpdate2(){emit("observerUpdate",mutations[0])};if(window2.requestAnimationFrame){window2.requestAnimationFrame(observerUpdate)}else{window2.setTimeout(observerUpdate,0)}});observer.observe(target,{attributes:typeof options.attributes==="undefined"?true:options.attributes,childList:swiper.isElement||(typeof options.childList==="undefined"?true:options).childList,characterData:typeof options.characterData==="undefined"?true:options.characterData});observers.push(observer)};const init=()=>{if(!swiper.params.observer)return;if(swiper.params.observeParents){const containerParents=elementParents(swiper.hostEl);for(let i=0;i<containerParents.length;i+=1){attach(containerParents[i])}}attach(swiper.hostEl,{childList:swiper.params.observeSlideChildren});attach(swiper.wrapperEl,{attributes:false})};const destroy=()=>{observers.forEach(observer=>{observer.disconnect()});observers.splice(0,observers.length)};extendParams({observer:false,observeParents:false,observeSlideChildren:false});on("init",init);on("destroy",destroy)}var eventsEmitter={on(events2,handler,priority){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(typeof handler!=="function")return self;const method=priority?"unshift":"push";events2.split(" ").forEach(event2=>{if(!self.eventsListeners[event2])self.eventsListeners[event2]=[];self.eventsListeners[event2][method](handler)});return self},once(events2,handler,priority){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(typeof handler!=="function")return self;function onceHandler(){self.off(events2,onceHandler);if(onceHandler.__emitterProxy){delete onceHandler.__emitterProxy}for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}handler.apply(self,args)}onceHandler.__emitterProxy=handler;return self.on(events2,onceHandler,priority)},onAny(handler,priority){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(typeof handler!=="function")return self;const method=priority?"unshift":"push";if(self.eventsAnyListeners.indexOf(handler)<0){self.eventsAnyListeners[method](handler)}return self},offAny(handler){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(!self.eventsAnyListeners)return self;const index=self.eventsAnyListeners.indexOf(handler);if(index>=0){self.eventsAnyListeners.splice(index,1)}return self},off(events2,handler){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(!self.eventsListeners)return self;events2.split(" ").forEach(event2=>{if(typeof handler==="undefined"){self.eventsListeners[event2]=[]}else if(self.eventsListeners[event2]){self.eventsListeners[event2].forEach((eventHandler,index)=>{if(eventHandler===handler||eventHandler.__emitterProxy&&eventHandler.__emitterProxy===handler){self.eventsListeners[event2].splice(index,1)}})}});return self},emit(){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(!self.eventsListeners)return self;let events2;let data;let context;for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}if(typeof args[0]==="string"||Array.isArray(args[0])){events2=args[0];data=args.slice(1,args.length);context=self}else{events2=args[0].events;data=args[0].data;context=args[0].context||self}data.unshift(context);const eventsArray=Array.isArray(events2)?events2:events2.split(" ");eventsArray.forEach(event2=>{if(self.eventsAnyListeners&&self.eventsAnyListeners.length){self.eventsAnyListeners.forEach(eventHandler=>{eventHandler.apply(context,[event2,...data])})}if(self.eventsListeners&&self.eventsListeners[event2]){self.eventsListeners[event2].forEach(eventHandler=>{eventHandler.apply(context,data)})}});return self}};function updateSize(){const swiper=this;let width;let height;const el=swiper.el;if(typeof swiper.params.width!=="undefined"&&swiper.params.width!==null){width=swiper.params.width}else{width=el.clientWidth}if(typeof swiper.params.height!=="undefined"&&swiper.params.height!==null){height=swiper.params.height}else{height=el.clientHeight}if(width===0&&swiper.isHorizontal()||height===0&&swiper.isVertical()){return}width=width-parseInt(elementStyle(el,"padding-left")||0,10)-parseInt(elementStyle(el,"padding-right")||0,10);height=height-parseInt(elementStyle(el,"padding-top")||0,10)-parseInt(elementStyle(el,"padding-bottom")||0,10);if(Number.isNaN(width))width=0;if(Number.isNaN(height))height=0;Object.assign(swiper,{width,height,size:swiper.isHorizontal()?width:height})}function updateSlides(){const swiper=this;function getDirectionPropertyValue(node,label){return parseFloat(node.getPropertyValue(swiper.getDirectionLabel(label))||0)}const params=swiper.params;const{wrapperEl,slidesEl,size:swiperSize,rtlTranslate:rtl,wrongRTL}=swiper;const isVirtual=swiper.virtual&&params.virtual.enabled;const previousSlidesLength=isVirtual?swiper.virtual.slides.length:swiper.slides.length;const slides=elementChildren(slidesEl,`.${swiper.params.slideClass}, swiper-slide`);const slidesLength=isVirtual?swiper.virtual.slides.length:slides.length;let snapGrid=[];const slidesGrid=[];const slidesSizesGrid=[];let offsetBefore=params.slidesOffsetBefore;if(typeof offsetBefore==="function"){offsetBefore=params.slidesOffsetBefore.call(swiper)}let offsetAfter=params.slidesOffsetAfter;if(typeof offsetAfter==="function"){offsetAfter=params.slidesOffsetAfter.call(swiper)}const previousSnapGridLength=swiper.snapGrid.length;const previousSlidesGridLength=swiper.slidesGrid.length;let spaceBetween=params.spaceBetween;let slidePosition=-offsetBefore;let prevSlideSize=0;let index=0;if(typeof swiperSize==="undefined"){return}if(typeof spaceBetween==="string"&&spaceBetween.indexOf("%")>=0){spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*swiperSize}else if(typeof spaceBetween==="string"){spaceBetween=parseFloat(spaceBetween)}swiper.virtualSize=-spaceBetween;slides.forEach(slideEl=>{if(rtl){slideEl.style.marginLeft=""}else{slideEl.style.marginRight=""}slideEl.style.marginBottom="";slideEl.style.marginTop=""});if(params.centeredSlides&&params.cssMode){setCSSProperty(wrapperEl,"--swiper-centered-offset-before","");setCSSProperty(wrapperEl,"--swiper-centered-offset-after","")}const gridEnabled=params.grid&&params.grid.rows>1&&swiper.grid;if(gridEnabled){swiper.grid.initSlides(slides)}else if(swiper.grid){swiper.grid.unsetSlides()}let slideSize;const shouldResetSlideSize=params.slidesPerView==="auto"&&params.breakpoints&&Object.keys(params.breakpoints).filter(key=>{return typeof params.breakpoints[key].slidesPerView!=="undefined"}).length>0;for(let i=0;i<slidesLength;i+=1){slideSize=0;let slide2;if(slides[i])slide2=slides[i];if(gridEnabled){swiper.grid.updateSlide(i,slide2,slides)}if(slides[i]&&elementStyle(slide2,"display")==="none")continue;if(params.slidesPerView==="auto"){if(shouldResetSlideSize){slides[i].style[swiper.getDirectionLabel("width")]=``}const slideStyles=getComputedStyle(slide2);const currentTransform=slide2.style.transform;const currentWebKitTransform=slide2.style.webkitTransform;if(currentTransform){slide2.style.transform="none"}if(currentWebKitTransform){slide2.style.webkitTransform="none"}if(params.roundLengths){slideSize=swiper.isHorizontal()?elementOuterSize(slide2,"width",true):elementOuterSize(slide2,"height",true)}else{const width=getDirectionPropertyValue(slideStyles,"width");const paddingLeft=getDirectionPropertyValue(slideStyles,"padding-left");const paddingRight=getDirectionPropertyValue(slideStyles,"padding-right");const marginLeft=getDirectionPropertyValue(slideStyles,"margin-left");const marginRight=getDirectionPropertyValue(slideStyles,"margin-right");const boxSizing=slideStyles.getPropertyValue("box-sizing");if(boxSizing&&boxSizing==="border-box"){slideSize=width+marginLeft+marginRight}else{const{clientWidth,offsetWidth}=slide2;slideSize=width+paddingLeft+paddingRight+marginLeft+marginRight+(offsetWidth-clientWidth)}}if(currentTransform){slide2.style.transform=currentTransform}if(currentWebKitTransform){slide2.style.webkitTransform=currentWebKitTransform}if(params.roundLengths)slideSize=Math.floor(slideSize)}else{slideSize=(swiperSize-(params.slidesPerView-1)*spaceBetween)/params.slidesPerView;if(params.roundLengths)slideSize=Math.floor(slideSize);if(slides[i]){slides[i].style[swiper.getDirectionLabel("width")]=`${slideSize}px`}}if(slides[i]){slides[i].swiperSlideSize=slideSize}slidesSizesGrid.push(slideSize);if(params.centeredSlides){slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween;if(prevSlideSize===0&&i!==0)slidePosition=slidePosition-swiperSize/2-spaceBetween;if(i===0)slidePosition=slidePosition-swiperSize/2-spaceBetween;if(Math.abs(slidePosition)<1/1e3)slidePosition=0;if(params.roundLengths)slidePosition=Math.floor(slidePosition);if(index%params.slidesPerGroup===0)snapGrid.push(slidePosition);slidesGrid.push(slidePosition)}else{if(params.roundLengths)slidePosition=Math.floor(slidePosition);if((index-Math.min(swiper.params.slidesPerGroupSkip,index))%swiper.params.slidesPerGroup===0)snapGrid.push(slidePosition);slidesGrid.push(slidePosition);slidePosition=slidePosition+slideSize+spaceBetween}swiper.virtualSize+=slideSize+spaceBetween;prevSlideSize=slideSize;index+=1}swiper.virtualSize=Math.max(swiper.virtualSize,swiperSize)+offsetAfter;if(rtl&&wrongRTL&&(params.effect==="slide"||params.effect==="coverflow")){wrapperEl.style.width=`${swiper.virtualSize+spaceBetween}px`}if(params.setWrapperSize){wrapperEl.style[swiper.getDirectionLabel("width")]=`${swiper.virtualSize+spaceBetween}px`}if(gridEnabled){swiper.grid.updateWrapperSize(slideSize,snapGrid)}if(!params.centeredSlides){const newSlidesGrid=[];for(let i=0;i<snapGrid.length;i+=1){let slidesGridItem=snapGrid[i];if(params.roundLengths)slidesGridItem=Math.floor(slidesGridItem);if(snapGrid[i]<=swiper.virtualSize-swiperSize){newSlidesGrid.push(slidesGridItem)}}snapGrid=newSlidesGrid;if(Math.floor(swiper.virtualSize-swiperSize)-Math.floor(snapGrid[snapGrid.length-1])>1){snapGrid.push(swiper.virtualSize-swiperSize)}}if(isVirtual&&params.loop){const size=slidesSizesGrid[0]+spaceBetween;if(params.slidesPerGroup>1){const groups=Math.ceil((swiper.virtual.slidesBefore+swiper.virtual.slidesAfter)/params.slidesPerGroup);const groupSize=size*params.slidesPerGroup;for(let i=0;i<groups;i+=1){snapGrid.push(snapGrid[snapGrid.length-1]+groupSize)}}for(let i=0;i<swiper.virtual.slidesBefore+swiper.virtual.slidesAfter;i+=1){if(params.slidesPerGroup===1){snapGrid.push(snapGrid[snapGrid.length-1]+size)}slidesGrid.push(slidesGrid[slidesGrid.length-1]+size);swiper.virtualSize+=size}}if(snapGrid.length===0)snapGrid=[0];if(spaceBetween!==0){const key=swiper.isHorizontal()&&rtl?"marginLeft":swiper.getDirectionLabel("marginRight");slides.filter((_,slideIndex)=>{if(!params.cssMode||params.loop)return true;if(slideIndex===slides.length-1){return false}return true}).forEach(slideEl=>{slideEl.style[key]=`${spaceBetween}px`})}if(params.centeredSlides&&params.centeredSlidesBounds){let allSlidesSize=0;slidesSizesGrid.forEach(slideSizeValue=>{allSlidesSize+=slideSizeValue+(spaceBetween||0)});allSlidesSize-=spaceBetween;const maxSnap=allSlidesSize>swiperSize?allSlidesSize-swiperSize:0;snapGrid=snapGrid.map(snap=>{if(snap<=0)return-offsetBefore;if(snap>maxSnap)return maxSnap+offsetAfter;return snap})}if(params.centerInsufficientSlides){let allSlidesSize=0;slidesSizesGrid.forEach(slideSizeValue=>{allSlidesSize+=slideSizeValue+(spaceBetween||0)});allSlidesSize-=spaceBetween;const offsetSize=(params.slidesOffsetBefore||0)+(params.slidesOffsetAfter||0);if(allSlidesSize+offsetSize<swiperSize){const allSlidesOffset=(swiperSize-allSlidesSize-offsetSize)/2;snapGrid.forEach((snap,snapIndex)=>{snapGrid[snapIndex]=snap-allSlidesOffset});slidesGrid.forEach((snap,snapIndex)=>{slidesGrid[snapIndex]=snap+allSlidesOffset})}}Object.assign(swiper,{slides,snapGrid,slidesGrid,slidesSizesGrid});if(params.centeredSlides&&params.cssMode&&!params.centeredSlidesBounds){setCSSProperty(wrapperEl,"--swiper-centered-offset-before",`${-snapGrid[0]}px`);setCSSProperty(wrapperEl,"--swiper-centered-offset-after",`${swiper.size/2-slidesSizesGrid[slidesSizesGrid.length-1]/2}px`);const addToSnapGrid=-swiper.snapGrid[0];const addToSlidesGrid=-swiper.slidesGrid[0];swiper.snapGrid=swiper.snapGrid.map(v=>v+addToSnapGrid);swiper.slidesGrid=swiper.slidesGrid.map(v=>v+addToSlidesGrid)}if(slidesLength!==previousSlidesLength){swiper.emit("slidesLengthChange")}if(snapGrid.length!==previousSnapGridLength){if(swiper.params.watchOverflow)swiper.checkOverflow();swiper.emit("snapGridLengthChange")}if(slidesGrid.length!==previousSlidesGridLength){swiper.emit("slidesGridLengthChange")}if(params.watchSlidesProgress){swiper.updateSlidesOffset()}swiper.emit("slidesUpdated");if(!isVirtual&&!params.cssMode&&(params.effect==="slide"||params.effect==="fade")){const backFaceHiddenClass=`${params.containerModifierClass}backface-hidden`;const hasClassBackfaceClassAdded=swiper.el.classList.contains(backFaceHiddenClass);if(slidesLength<=params.maxBackfaceHiddenSlides){if(!hasClassBackfaceClassAdded)swiper.el.classList.add(backFaceHiddenClass)}else if(hasClassBackfaceClassAdded){swiper.el.classList.remove(backFaceHiddenClass)}}}function updateAutoHeight(speed){const swiper=this;const activeSlides=[];const isVirtual=swiper.virtual&&swiper.params.virtual.enabled;let newHeight=0;let i;if(typeof speed==="number"){swiper.setTransition(speed)}else if(speed===true){swiper.setTransition(swiper.params.speed)}const getSlideByIndex=index=>{if(isVirtual){return swiper.slides[swiper.getSlideIndexByData(index)]}return swiper.slides[index]};if(swiper.params.slidesPerView!=="auto"&&swiper.params.slidesPerView>1){if(swiper.params.centeredSlides){(swiper.visibleSlides||[]).forEach(slide2=>{activeSlides.push(slide2)})}else{for(i=0;i<Math.ceil(swiper.params.slidesPerView);i+=1){const index=swiper.activeIndex+i;if(index>swiper.slides.length&&!isVirtual)break;activeSlides.push(getSlideByIndex(index))}}}else{activeSlides.push(getSlideByIndex(swiper.activeIndex))}for(i=0;i<activeSlides.length;i+=1){if(typeof activeSlides[i]!=="undefined"){const height=activeSlides[i].offsetHeight;newHeight=height>newHeight?height:newHeight}}if(newHeight||newHeight===0)swiper.wrapperEl.style.height=`${newHeight}px`}function updateSlidesOffset(){const swiper=this;const slides=swiper.slides;const minusOffset=swiper.isElement?swiper.isHorizontal()?swiper.wrapperEl.offsetLeft:swiper.wrapperEl.offsetTop:0;for(let i=0;i<slides.length;i+=1){slides[i].swiperSlideOffset=(swiper.isHorizontal()?slides[i].offsetLeft:slides[i].offsetTop)-minusOffset-swiper.cssOverflowAdjustment()}}var toggleSlideClasses$1=(slideEl,condition,className)=>{if(condition&&!slideEl.classList.contains(className)){slideEl.classList.add(className)}else if(!condition&&slideEl.classList.contains(className)){slideEl.classList.remove(className)}};function updateSlidesProgress(translate2){if(translate2===void 0){translate2=this&&this.translate||0}const swiper=this;const params=swiper.params;const{slides,rtlTranslate:rtl,snapGrid}=swiper;if(slides.length===0)return;if(typeof slides[0].swiperSlideOffset==="undefined")swiper.updateSlidesOffset();let offsetCenter=-translate2;if(rtl)offsetCenter=translate2;swiper.visibleSlidesIndexes=[];swiper.visibleSlides=[];let spaceBetween=params.spaceBetween;if(typeof spaceBetween==="string"&&spaceBetween.indexOf("%")>=0){spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*swiper.size}else if(typeof spaceBetween==="string"){spaceBetween=parseFloat(spaceBetween)}for(let i=0;i<slides.length;i+=1){const slide2=slides[i];let slideOffset=slide2.swiperSlideOffset;if(params.cssMode&&params.centeredSlides){slideOffset-=slides[0].swiperSlideOffset}const slideProgress=(offsetCenter+(params.centeredSlides?swiper.minTranslate():0)-slideOffset)/(slide2.swiperSlideSize+spaceBetween);const originalSlideProgress=(offsetCenter-snapGrid[0]+(params.centeredSlides?swiper.minTranslate():0)-slideOffset)/(slide2.swiperSlideSize+spaceBetween);const slideBefore=-(offsetCenter-slideOffset);const slideAfter=slideBefore+swiper.slidesSizesGrid[i];const isFullyVisible=slideBefore>=0&&slideBefore<=swiper.size-swiper.slidesSizesGrid[i];const isVisible=slideBefore>=0&&slideBefore<swiper.size-1||slideAfter>1&&slideAfter<=swiper.size||slideBefore<=0&&slideAfter>=swiper.size;if(isVisible){swiper.visibleSlides.push(slide2);swiper.visibleSlidesIndexes.push(i)}toggleSlideClasses$1(slide2,isVisible,params.slideVisibleClass);toggleSlideClasses$1(slide2,isFullyVisible,params.slideFullyVisibleClass);slide2.progress=rtl?-slideProgress:slideProgress;slide2.originalProgress=rtl?-originalSlideProgress:originalSlideProgress}}function updateProgress(translate2){const swiper=this;if(typeof translate2==="undefined"){const multiplier=swiper.rtlTranslate?-1:1;translate2=swiper&&swiper.translate&&swiper.translate*multiplier||0}const params=swiper.params;const translatesDiff=swiper.maxTranslate()-swiper.minTranslate();let{progress,isBeginning,isEnd,progressLoop}=swiper;const wasBeginning=isBeginning;const wasEnd=isEnd;if(translatesDiff===0){progress=0;isBeginning=true;isEnd=true}else{progress=(translate2-swiper.minTranslate())/translatesDiff;const isBeginningRounded=Math.abs(translate2-swiper.minTranslate())<1;const isEndRounded=Math.abs(translate2-swiper.maxTranslate())<1;isBeginning=isBeginningRounded||progress<=0;isEnd=isEndRounded||progress>=1;if(isBeginningRounded)progress=0;if(isEndRounded)progress=1}if(params.loop){const firstSlideIndex=swiper.getSlideIndexByData(0);const lastSlideIndex=swiper.getSlideIndexByData(swiper.slides.length-1);const firstSlideTranslate=swiper.slidesGrid[firstSlideIndex];const lastSlideTranslate=swiper.slidesGrid[lastSlideIndex];const translateMax=swiper.slidesGrid[swiper.slidesGrid.length-1];const translateAbs=Math.abs(translate2);if(translateAbs>=firstSlideTranslate){progressLoop=(translateAbs-firstSlideTranslate)/translateMax}else{progressLoop=(translateAbs+translateMax-lastSlideTranslate)/translateMax}if(progressLoop>1)progressLoop-=1}Object.assign(swiper,{progress,progressLoop,isBeginning,isEnd});if(params.watchSlidesProgress||params.centeredSlides&&params.autoHeight)swiper.updateSlidesProgress(translate2);if(isBeginning&&!wasBeginning){swiper.emit("reachBeginning toEdge")}if(isEnd&&!wasEnd){swiper.emit("reachEnd toEdge")}if(wasBeginning&&!isBeginning||wasEnd&&!isEnd){swiper.emit("fromEdge")}swiper.emit("progress",progress)}var toggleSlideClasses=(slideEl,condition,className)=>{if(condition&&!slideEl.classList.contains(className)){slideEl.classList.add(className)}else if(!condition&&slideEl.classList.contains(className)){slideEl.classList.remove(className)}};function updateSlidesClasses(){const swiper=this;const{slides,params,slidesEl,activeIndex}=swiper;const isVirtual=swiper.virtual&&params.virtual.enabled;const gridEnabled=swiper.grid&&params.grid&&params.grid.rows>1;const getFilteredSlide=selector=>{return elementChildren(slidesEl,`.${params.slideClass}${selector}, swiper-slide${selector}`)[0]};let activeSlide;let prevSlide;let nextSlide;if(isVirtual){if(params.loop){let slideIndex=activeIndex-swiper.virtual.slidesBefore;if(slideIndex<0)slideIndex=swiper.virtual.slides.length+slideIndex;if(slideIndex>=swiper.virtual.slides.length)slideIndex-=swiper.virtual.slides.length;activeSlide=getFilteredSlide(`[data-swiper-slide-index="${slideIndex}"]`)}else{activeSlide=getFilteredSlide(`[data-swiper-slide-index="${activeIndex}"]`)}}else{if(gridEnabled){activeSlide=slides.find(slideEl=>slideEl.column===activeIndex);nextSlide=slides.find(slideEl=>slideEl.column===activeIndex+1);prevSlide=slides.find(slideEl=>slideEl.column===activeIndex-1)}else{activeSlide=slides[activeIndex]}}if(activeSlide){if(!gridEnabled){nextSlide=elementNextAll(activeSlide,`.${params.slideClass}, swiper-slide`)[0];if(params.loop&&!nextSlide){nextSlide=slides[0]}prevSlide=elementPrevAll(activeSlide,`.${params.slideClass}, swiper-slide`)[0];if(params.loop&&!prevSlide===0){prevSlide=slides[slides.length-1]}}}slides.forEach(slideEl=>{toggleSlideClasses(slideEl,slideEl===activeSlide,params.slideActiveClass);toggleSlideClasses(slideEl,slideEl===nextSlide,params.slideNextClass);toggleSlideClasses(slideEl,slideEl===prevSlide,params.slidePrevClass)});swiper.emitSlidesClasses()}var processLazyPreloader=(swiper,imageEl)=>{if(!swiper||swiper.destroyed||!swiper.params)return;const slideSelector=()=>swiper.isElement?`swiper-slide`:`.${swiper.params.slideClass}`;const slideEl=imageEl.closest(slideSelector());if(slideEl){let lazyEl=slideEl.querySelector(`.${swiper.params.lazyPreloaderClass}`);if(!lazyEl&&swiper.isElement){if(slideEl.shadowRoot){lazyEl=slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`)}else{requestAnimationFrame(()=>{if(slideEl.shadowRoot){lazyEl=slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`);if(lazyEl)lazyEl.remove()}})}}if(lazyEl)lazyEl.remove()}};var unlazy=(swiper,index)=>{if(!swiper.slides[index])return;const imageEl=swiper.slides[index].querySelector('[loading="lazy"]');if(imageEl)imageEl.removeAttribute("loading")};var preload=swiper=>{if(!swiper||swiper.destroyed||!swiper.params)return;let amount=swiper.params.lazyPreloadPrevNext;const len=swiper.slides.length;if(!len||!amount||amount<0)return;amount=Math.min(amount,len);const slidesPerView=swiper.params.slidesPerView==="auto"?swiper.slidesPerViewDynamic():Math.ceil(swiper.params.slidesPerView);const activeIndex=swiper.activeIndex;if(swiper.params.grid&&swiper.params.grid.rows>1){const activeColumn=activeIndex;const preloadColumns=[activeColumn-amount];preloadColumns.push(...Array.from({length:amount}).map((_,i)=>{return activeColumn+slidesPerView+i}));swiper.slides.forEach((slideEl,i)=>{if(preloadColumns.includes(slideEl.column))unlazy(swiper,i)});return}const slideIndexLastInView=activeIndex+slidesPerView-1;if(swiper.params.rewind||swiper.params.loop){for(let i=activeIndex-amount;i<=slideIndexLastInView+amount;i+=1){const realIndex=(i%len+len)%len;if(realIndex<activeIndex||realIndex>slideIndexLastInView)unlazy(swiper,realIndex)}}else{for(let i=Math.max(activeIndex-amount,0);i<=Math.min(slideIndexLastInView+amount,len-1);i+=1){if(i!==activeIndex&&(i>slideIndexLastInView||i<activeIndex)){unlazy(swiper,i)}}}};function getActiveIndexByTranslate(swiper){const{slidesGrid,params}=swiper;const translate2=swiper.rtlTranslate?swiper.translate:-swiper.translate;let activeIndex;for(let i=0;i<slidesGrid.length;i+=1){if(typeof slidesGrid[i+1]!=="undefined"){if(translate2>=slidesGrid[i]&&translate2<slidesGrid[i+1]-(slidesGrid[i+1]-slidesGrid[i])/2){activeIndex=i}else if(translate2>=slidesGrid[i]&&translate2<slidesGrid[i+1]){activeIndex=i+1}}else if(translate2>=slidesGrid[i]){activeIndex=i}}if(params.normalizeSlideIndex){if(activeIndex<0||typeof activeIndex==="undefined")activeIndex=0}return activeIndex}function updateActiveIndex(newActiveIndex){const swiper=this;const translate2=swiper.rtlTranslate?swiper.translate:-swiper.translate;const{snapGrid,params,activeIndex:previousIndex,realIndex:previousRealIndex,snapIndex:previousSnapIndex}=swiper;let activeIndex=newActiveIndex;let snapIndex;const getVirtualRealIndex=aIndex=>{let realIndex2=aIndex-swiper.virtual.slidesBefore;if(realIndex2<0){realIndex2=swiper.virtual.slides.length+realIndex2}if(realIndex2>=swiper.virtual.slides.length){realIndex2-=swiper.virtual.slides.length}return realIndex2};if(typeof activeIndex==="undefined"){activeIndex=getActiveIndexByTranslate(swiper)}if(snapGrid.indexOf(translate2)>=0){snapIndex=snapGrid.indexOf(translate2)}else{const skip=Math.min(params.slidesPerGroupSkip,activeIndex);snapIndex=skip+Math.floor((activeIndex-skip)/params.slidesPerGroup)}if(snapIndex>=snapGrid.length)snapIndex=snapGrid.length-1;if(activeIndex===previousIndex&&!swiper.params.loop){if(snapIndex!==previousSnapIndex){swiper.snapIndex=snapIndex;swiper.emit("snapIndexChange")}return}if(activeIndex===previousIndex&&swiper.params.loop&&swiper.virtual&&swiper.params.virtual.enabled){swiper.realIndex=getVirtualRealIndex(activeIndex);return}const gridEnabled=swiper.grid&&params.grid&&params.grid.rows>1;let realIndex;if(swiper.virtual&&params.virtual.enabled&&params.loop){realIndex=getVirtualRealIndex(activeIndex)}else if(gridEnabled){const firstSlideInColumn=swiper.slides.find(slideEl=>slideEl.column===activeIndex);let activeSlideIndex=parseInt(firstSlideInColumn.getAttribute("data-swiper-slide-index"),10);if(Number.isNaN(activeSlideIndex)){activeSlideIndex=Math.max(swiper.slides.indexOf(firstSlideInColumn),0)}realIndex=Math.floor(activeSlideIndex/params.grid.rows)}else if(swiper.slides[activeIndex]){const slideIndex=swiper.slides[activeIndex].getAttribute("data-swiper-slide-index");if(slideIndex){realIndex=parseInt(slideIndex,10)}else{realIndex=activeIndex}}else{realIndex=activeIndex}Object.assign(swiper,{previousSnapIndex,snapIndex,previousRealIndex,realIndex,previousIndex,activeIndex});if(swiper.initialized){preload(swiper)}swiper.emit("activeIndexChange");swiper.emit("snapIndexChange");if(swiper.initialized||swiper.params.runCallbacksOnInit){if(previousRealIndex!==realIndex){swiper.emit("realIndexChange")}swiper.emit("slideChange")}}function updateClickedSlide(el,path){const swiper=this;const params=swiper.params;let slide2=el.closest(`.${params.slideClass}, swiper-slide`);if(!slide2&&swiper.isElement&&path&&path.length>1&&path.includes(el)){[...path.slice(path.indexOf(el)+1,path.length)].forEach(pathEl=>{if(!slide2&&pathEl.matches&&pathEl.matches(`.${params.slideClass}, swiper-slide`)){slide2=pathEl}})}let slideFound=false;let slideIndex;if(slide2){for(let i=0;i<swiper.slides.length;i+=1){if(swiper.slides[i]===slide2){slideFound=true;slideIndex=i;break}}}if(slide2&&slideFound){swiper.clickedSlide=slide2;if(swiper.virtual&&swiper.params.virtual.enabled){swiper.clickedIndex=parseInt(slide2.getAttribute("data-swiper-slide-index"),10)}else{swiper.clickedIndex=slideIndex}}else{swiper.clickedSlide=void 0;swiper.clickedIndex=void 0;return}if(params.slideToClickedSlide&&swiper.clickedIndex!==void 0&&swiper.clickedIndex!==swiper.activeIndex){swiper.slideToClickedSlide()}}var update={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(axis){if(axis===void 0){axis=this.isHorizontal()?"x":"y"}const swiper=this;const{params,rtlTranslate:rtl,translate:translate2,wrapperEl}=swiper;if(params.virtualTranslate){return rtl?-translate2:translate2}if(params.cssMode){return translate2}let currentTranslate=getTranslate(wrapperEl,axis);currentTranslate+=swiper.cssOverflowAdjustment();if(rtl)currentTranslate=-currentTranslate;return currentTranslate||0}function setTranslate(translate2,byController){const swiper=this;const{rtlTranslate:rtl,params,wrapperEl,progress}=swiper;let x=0;let y=0;const z=0;if(swiper.isHorizontal()){x=rtl?-translate2:translate2}else{y=translate2}if(params.roundLengths){x=Math.floor(x);y=Math.floor(y)}swiper.previousTranslate=swiper.translate;swiper.translate=swiper.isHorizontal()?x:y;if(params.cssMode){wrapperEl[swiper.isHorizontal()?"scrollLeft":"scrollTop"]=swiper.isHorizontal()?-x:-y}else if(!params.virtualTranslate){if(swiper.isHorizontal()){x-=swiper.cssOverflowAdjustment()}else{y-=swiper.cssOverflowAdjustment()}wrapperEl.style.transform=`translate3d(${x}px, ${y}px, ${z}px)`}let newProgress;const translatesDiff=swiper.maxTranslate()-swiper.minTranslate();if(translatesDiff===0){newProgress=0}else{newProgress=(translate2-swiper.minTranslate())/translatesDiff}if(newProgress!==progress){swiper.updateProgress(translate2)}swiper.emit("setTranslate",swiper.translate,byController)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(translate2,speed,runCallbacks,translateBounds,internal){if(translate2===void 0){translate2=0}if(speed===void 0){speed=this.params.speed}if(runCallbacks===void 0){runCallbacks=true}if(translateBounds===void 0){translateBounds=true}const swiper=this;const{params,wrapperEl}=swiper;if(swiper.animating&&params.preventInteractionOnTransition){return false}const minTranslate2=swiper.minTranslate();const maxTranslate2=swiper.maxTranslate();let newTranslate;if(translateBounds&&translate2>minTranslate2)newTranslate=minTranslate2;else if(translateBounds&&translate2<maxTranslate2)newTranslate=maxTranslate2;else newTranslate=translate2;swiper.updateProgress(newTranslate);if(params.cssMode){const isH=swiper.isHorizontal();if(speed===0){wrapperEl[isH?"scrollLeft":"scrollTop"]=-newTranslate}else{if(!swiper.support.smoothScroll){animateCSSModeScroll({swiper,targetPosition:-newTranslate,side:isH?"left":"top"});return true}wrapperEl.scrollTo({[isH?"left":"top"]:-newTranslate,behavior:"smooth"})}return true}if(speed===0){swiper.setTransition(0);swiper.setTranslate(newTranslate);if(runCallbacks){swiper.emit("beforeTransitionStart",speed,internal);swiper.emit("transitionEnd")}}else{swiper.setTransition(speed);swiper.setTranslate(newTranslate);if(runCallbacks){swiper.emit("beforeTransitionStart",speed,internal);swiper.emit("transitionStart")}if(!swiper.animating){swiper.animating=true;if(!swiper.onTranslateToWrapperTransitionEnd){swiper.onTranslateToWrapperTransitionEnd=function transitionEnd2(e){if(!swiper||swiper.destroyed)return;if(e.target!==this)return;swiper.wrapperEl.removeEventListener("transitionend",swiper.onTranslateToWrapperTransitionEnd);swiper.onTranslateToWrapperTransitionEnd=null;delete swiper.onTranslateToWrapperTransitionEnd;swiper.animating=false;if(runCallbacks){swiper.emit("transitionEnd")}}}swiper.wrapperEl.addEventListener("transitionend",swiper.onTranslateToWrapperTransitionEnd)}}return true}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(duration,byController){const swiper=this;if(!swiper.params.cssMode){swiper.wrapperEl.style.transitionDuration=`${duration}ms`;swiper.wrapperEl.style.transitionDelay=duration===0?`0ms`:""}swiper.emit("setTransition",duration,byController)}function transitionEmit(_ref){let{swiper,runCallbacks,direction,step}=_ref;const{activeIndex,previousIndex}=swiper;let dir=direction;if(!dir){if(activeIndex>previousIndex)dir="next";else if(activeIndex<previousIndex)dir="prev";else dir="reset"}swiper.emit(`transition${step}`);if(runCallbacks&&dir==="reset"){swiper.emit(`slideResetTransition${step}`)}else if(runCallbacks&&activeIndex!==previousIndex){swiper.emit(`slideChangeTransition${step}`);if(dir==="next"){swiper.emit(`slideNextTransition${step}`)}else{swiper.emit(`slidePrevTransition${step}`)}}}function transitionStart(runCallbacks,direction){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;const{params}=swiper;if(params.cssMode)return;if(params.autoHeight){swiper.updateAutoHeight()}transitionEmit({swiper,runCallbacks,direction,step:"Start"})}function transitionEnd(runCallbacks,direction){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;const{params}=swiper;swiper.animating=false;if(params.cssMode)return;swiper.setTransition(0);transitionEmit({swiper,runCallbacks,direction,step:"End"})}var transition={setTransition,transitionStart,transitionEnd};function slideTo(index,speed,runCallbacks,internal,initial){if(index===void 0){index=0}if(runCallbacks===void 0){runCallbacks=true}if(typeof index==="string"){index=parseInt(index,10)}const swiper=this;let slideIndex=index;if(slideIndex<0)slideIndex=0;const{params,snapGrid,slidesGrid,previousIndex,activeIndex,rtlTranslate:rtl,wrapperEl,enabled}=swiper;if(!enabled&&!internal&&!initial||swiper.destroyed||swiper.animating&&params.preventInteractionOnTransition){return false}if(typeof speed==="undefined"){speed=swiper.params.speed}const skip=Math.min(swiper.params.slidesPerGroupSkip,slideIndex);let snapIndex=skip+Math.floor((slideIndex-skip)/swiper.params.slidesPerGroup);if(snapIndex>=snapGrid.length)snapIndex=snapGrid.length-1;const translate2=-snapGrid[snapIndex];if(params.normalizeSlideIndex){for(let i=0;i<slidesGrid.length;i+=1){const normalizedTranslate=-Math.floor(translate2*100);const normalizedGrid=Math.floor(slidesGrid[i]*100);const normalizedGridNext=Math.floor(slidesGrid[i+1]*100);if(typeof slidesGrid[i+1]!=="undefined"){if(normalizedTranslate>=normalizedGrid&&normalizedTranslate<normalizedGridNext-(normalizedGridNext-normalizedGrid)/2){slideIndex=i}else if(normalizedTranslate>=normalizedGrid&&normalizedTranslate<normalizedGridNext){slideIndex=i+1}}else if(normalizedTranslate>=normalizedGrid){slideIndex=i}}}if(swiper.initialized&&slideIndex!==activeIndex){if(!swiper.allowSlideNext&&(rtl?translate2>swiper.translate&&translate2>swiper.minTranslate():translate2<swiper.translate&&translate2<swiper.minTranslate())){return false}if(!swiper.allowSlidePrev&&translate2>swiper.translate&&translate2>swiper.maxTranslate()){if((activeIndex||0)!==slideIndex){return false}}}if(slideIndex!==(previousIndex||0)&&runCallbacks){swiper.emit("beforeSlideChangeStart")}swiper.updateProgress(translate2);let direction;if(slideIndex>activeIndex)direction="next";else if(slideIndex<activeIndex)direction="prev";else direction="reset";const isVirtual=swiper.virtual&&swiper.params.virtual.enabled;const isInitialVirtual=isVirtual&&initial;if(!isInitialVirtual&&(rtl&&-translate2===swiper.translate||!rtl&&translate2===swiper.translate)){swiper.updateActiveIndex(slideIndex);if(params.autoHeight){swiper.updateAutoHeight()}swiper.updateSlidesClasses();if(params.effect!=="slide"){swiper.setTranslate(translate2)}if(direction!=="reset"){swiper.transitionStart(runCallbacks,direction);swiper.transitionEnd(runCallbacks,direction)}return false}if(params.cssMode){const isH=swiper.isHorizontal();const t=rtl?translate2:-translate2;if(speed===0){if(isVirtual){swiper.wrapperEl.style.scrollSnapType="none";swiper._immediateVirtual=true}if(isVirtual&&!swiper._cssModeVirtualInitialSet&&swiper.params.initialSlide>0){swiper._cssModeVirtualInitialSet=true;requestAnimationFrame(()=>{wrapperEl[isH?"scrollLeft":"scrollTop"]=t})}else{wrapperEl[isH?"scrollLeft":"scrollTop"]=t}if(isVirtual){requestAnimationFrame(()=>{swiper.wrapperEl.style.scrollSnapType="";swiper._immediateVirtual=false})}}else{if(!swiper.support.smoothScroll){animateCSSModeScroll({swiper,targetPosition:t,side:isH?"left":"top"});return true}wrapperEl.scrollTo({[isH?"left":"top"]:t,behavior:"smooth"})}return true}const browser2=getBrowser();const isSafari=browser2.isSafari;if(isVirtual&&!initial&&isSafari&&swiper.isElement){swiper.virtual.update(false,false,slideIndex)}swiper.setTransition(speed);swiper.setTranslate(translate2);swiper.updateActiveIndex(slideIndex);swiper.updateSlidesClasses();swiper.emit("beforeTransitionStart",speed,internal);swiper.transitionStart(runCallbacks,direction);if(speed===0){swiper.transitionEnd(runCallbacks,direction)}else if(!swiper.animating){swiper.animating=true;if(!swiper.onSlideToWrapperTransitionEnd){swiper.onSlideToWrapperTransitionEnd=function transitionEnd2(e){if(!swiper||swiper.destroyed)return;if(e.target!==this)return;swiper.wrapperEl.removeEventListener("transitionend",swiper.onSlideToWrapperTransitionEnd);swiper.onSlideToWrapperTransitionEnd=null;delete swiper.onSlideToWrapperTransitionEnd;swiper.transitionEnd(runCallbacks,direction)}}swiper.wrapperEl.addEventListener("transitionend",swiper.onSlideToWrapperTransitionEnd)}return true}function slideToLoop(index,speed,runCallbacks,internal){if(index===void 0){index=0}if(runCallbacks===void 0){runCallbacks=true}if(typeof index==="string"){const indexAsNumber=parseInt(index,10);index=indexAsNumber}const swiper=this;if(swiper.destroyed)return;if(typeof speed==="undefined"){speed=swiper.params.speed}const gridEnabled=swiper.grid&&swiper.params.grid&&swiper.params.grid.rows>1;let newIndex=index;if(swiper.params.loop){if(swiper.virtual&&swiper.params.virtual.enabled){newIndex=newIndex+swiper.virtual.slidesBefore}else{let targetSlideIndex;if(gridEnabled){const slideIndex=newIndex*swiper.params.grid.rows;targetSlideIndex=swiper.slides.find(slideEl=>slideEl.getAttribute("data-swiper-slide-index")*1===slideIndex).column}else{targetSlideIndex=swiper.getSlideIndexByData(newIndex)}const cols=gridEnabled?Math.ceil(swiper.slides.length/swiper.params.grid.rows):swiper.slides.length;const{centeredSlides}=swiper.params;let slidesPerView=swiper.params.slidesPerView;if(slidesPerView==="auto"){slidesPerView=swiper.slidesPerViewDynamic()}else{slidesPerView=Math.ceil(parseFloat(swiper.params.slidesPerView,10));if(centeredSlides&&slidesPerView%2===0){slidesPerView=slidesPerView+1}}let needLoopFix=cols-targetSlideIndex<slidesPerView;if(centeredSlides){needLoopFix=needLoopFix||targetSlideIndex<Math.ceil(slidesPerView/2)}if(internal&&centeredSlides&&swiper.params.slidesPerView!=="auto"&&!gridEnabled){needLoopFix=false}if(needLoopFix){const direction=centeredSlides?targetSlideIndex<swiper.activeIndex?"prev":"next":targetSlideIndex-swiper.activeIndex-1<swiper.params.slidesPerView?"next":"prev";swiper.loopFix({direction,slideTo:true,activeSlideIndex:direction==="next"?targetSlideIndex+1:targetSlideIndex-cols+1,slideRealIndex:direction==="next"?swiper.realIndex:void 0})}if(gridEnabled){const slideIndex=newIndex*swiper.params.grid.rows;newIndex=swiper.slides.find(slideEl=>slideEl.getAttribute("data-swiper-slide-index")*1===slideIndex).column}else{newIndex=swiper.getSlideIndexByData(newIndex)}}}requestAnimationFrame(()=>{swiper.slideTo(newIndex,speed,runCallbacks,internal)});return swiper}function slideNext(speed,runCallbacks,internal){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;const{enabled,params,animating}=swiper;if(!enabled||swiper.destroyed)return swiper;if(typeof speed==="undefined"){speed=swiper.params.speed}let perGroup=params.slidesPerGroup;if(params.slidesPerView==="auto"&&params.slidesPerGroup===1&&params.slidesPerGroupAuto){perGroup=Math.max(swiper.slidesPerViewDynamic("current",true),1)}const increment=swiper.activeIndex<params.slidesPerGroupSkip?1:perGroup;const isVirtual=swiper.virtual&&params.virtual.enabled;if(params.loop){if(animating&&!isVirtual&&params.loopPreventsSliding)return false;swiper.loopFix({direction:"next"});swiper._clientLeft=swiper.wrapperEl.clientLeft;if(swiper.activeIndex===swiper.slides.length-1&&params.cssMode){requestAnimationFrame(()=>{swiper.slideTo(swiper.activeIndex+increment,speed,runCallbacks,internal)});return true}}if(params.rewind&&swiper.isEnd){return swiper.slideTo(0,speed,runCallbacks,internal)}return swiper.slideTo(swiper.activeIndex+increment,speed,runCallbacks,internal)}function slidePrev(speed,runCallbacks,internal){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;const{params,snapGrid,slidesGrid,rtlTranslate,enabled,animating}=swiper;if(!enabled||swiper.destroyed)return swiper;if(typeof speed==="undefined"){speed=swiper.params.speed}const isVirtual=swiper.virtual&&params.virtual.enabled;if(params.loop){if(animating&&!isVirtual&&params.loopPreventsSliding)return false;swiper.loopFix({direction:"prev"});swiper._clientLeft=swiper.wrapperEl.clientLeft}const translate2=rtlTranslate?swiper.translate:-swiper.translate;function normalize(val){if(val<0)return-Math.floor(Math.abs(val));return Math.floor(val)}const normalizedTranslate=normalize(translate2);const normalizedSnapGrid=snapGrid.map(val=>normalize(val));const isFreeMode=params.freeMode&&params.freeMode.enabled;let prevSnap=snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate)-1];if(typeof prevSnap==="undefined"&&(params.cssMode||isFreeMode)){let prevSnapIndex;snapGrid.forEach((snap,snapIndex)=>{if(normalizedTranslate>=snap){prevSnapIndex=snapIndex}});if(typeof prevSnapIndex!=="undefined"){prevSnap=isFreeMode?snapGrid[prevSnapIndex]:snapGrid[prevSnapIndex>0?prevSnapIndex-1:prevSnapIndex]}}let prevIndex=0;if(typeof prevSnap!=="undefined"){prevIndex=slidesGrid.indexOf(prevSnap);if(prevIndex<0)prevIndex=swiper.activeIndex-1;if(params.slidesPerView==="auto"&&params.slidesPerGroup===1&&params.slidesPerGroupAuto){prevIndex=prevIndex-swiper.slidesPerViewDynamic("previous",true)+1;prevIndex=Math.max(prevIndex,0)}}if(params.rewind&&swiper.isBeginning){const lastIndex=swiper.params.virtual&&swiper.params.virtual.enabled&&swiper.virtual?swiper.virtual.slides.length-1:swiper.slides.length-1;return swiper.slideTo(lastIndex,speed,runCallbacks,internal)}else if(params.loop&&swiper.activeIndex===0&&params.cssMode){requestAnimationFrame(()=>{swiper.slideTo(prevIndex,speed,runCallbacks,internal)});return true}return swiper.slideTo(prevIndex,speed,runCallbacks,internal)}function slideReset(speed,runCallbacks,internal){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;if(swiper.destroyed)return;if(typeof speed==="undefined"){speed=swiper.params.speed}return swiper.slideTo(swiper.activeIndex,speed,runCallbacks,internal)}function slideToClosest(speed,runCallbacks,internal,threshold){if(runCallbacks===void 0){runCallbacks=true}if(threshold===void 0){threshold=.5}const swiper=this;if(swiper.destroyed)return;if(typeof speed==="undefined"){speed=swiper.params.speed}let index=swiper.activeIndex;const skip=Math.min(swiper.params.slidesPerGroupSkip,index);const snapIndex=skip+Math.floor((index-skip)/swiper.params.slidesPerGroup);const translate2=swiper.rtlTranslate?swiper.translate:-swiper.translate;if(translate2>=swiper.snapGrid[snapIndex]){const currentSnap=swiper.snapGrid[snapIndex];const nextSnap=swiper.snapGrid[snapIndex+1];if(translate2-currentSnap>(nextSnap-currentSnap)*threshold){index+=swiper.params.slidesPerGroup}}else{const prevSnap=swiper.snapGrid[snapIndex-1];const currentSnap=swiper.snapGrid[snapIndex];if(translate2-prevSnap<=(currentSnap-prevSnap)*threshold){index-=swiper.params.slidesPerGroup}}index=Math.max(index,0);index=Math.min(index,swiper.slidesGrid.length-1);return swiper.slideTo(index,speed,runCallbacks,internal)}function slideToClickedSlide(){const swiper=this;if(swiper.destroyed)return;const{params,slidesEl}=swiper;const slidesPerView=params.slidesPerView==="auto"?swiper.slidesPerViewDynamic():params.slidesPerView;let slideToIndex=swiper.getSlideIndexWhenGrid(swiper.clickedIndex);let realIndex;const slideSelector=swiper.isElement?`swiper-slide`:`.${params.slideClass}`;const isGrid=swiper.grid&&swiper.params.grid&&swiper.params.grid.rows>1;if(params.loop){if(swiper.animating)return;realIndex=parseInt(swiper.clickedSlide.getAttribute("data-swiper-slide-index"),10);if(params.centeredSlides){swiper.slideToLoop(realIndex)}else if(slideToIndex>(isGrid?(swiper.slides.length-slidesPerView)/2-(swiper.params.grid.rows-1):swiper.slides.length-slidesPerView)){swiper.loopFix();slideToIndex=swiper.getSlideIndex(elementChildren(slidesEl,`${slideSelector}[data-swiper-slide-index="${realIndex}"]`)[0]);nextTick(()=>{swiper.slideTo(slideToIndex)})}else{swiper.slideTo(slideToIndex)}}else{swiper.slideTo(slideToIndex)}}var slide={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(slideRealIndex,initial){const swiper=this;const{params,slidesEl}=swiper;if(!params.loop||swiper.virtual&&swiper.params.virtual.enabled)return;const initSlides=()=>{const slides=elementChildren(slidesEl,`.${params.slideClass}, swiper-slide`);slides.forEach((el,index)=>{el.setAttribute("data-swiper-slide-index",index)})};const clearBlankSlides=()=>{const slides=elementChildren(slidesEl,`.${params.slideBlankClass}`);slides.forEach(el=>{el.remove()});if(slides.length>0){swiper.recalcSlides();swiper.updateSlides()}};const gridEnabled=swiper.grid&&params.grid&&params.grid.rows>1;if(params.loopAddBlankSlides&&(params.slidesPerGroup>1||gridEnabled)){clearBlankSlides()}const slidesPerGroup=params.slidesPerGroup*(gridEnabled?params.grid.rows:1);const shouldFillGroup=swiper.slides.length%slidesPerGroup!==0;const shouldFillGrid=gridEnabled&&swiper.slides.length%params.grid.rows!==0;const addBlankSlides=amountOfSlides=>{for(let i=0;i<amountOfSlides;i+=1){const slideEl=swiper.isElement?createElement("swiper-slide",[params.slideBlankClass]):createElement("div",[params.slideClass,params.slideBlankClass]);swiper.slidesEl.append(slideEl)}};if(shouldFillGroup){if(params.loopAddBlankSlides){const slidesToAdd=slidesPerGroup-swiper.slides.length%slidesPerGroup;addBlankSlides(slidesToAdd);swiper.recalcSlides();swiper.updateSlides()}else{showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)")}initSlides()}else if(shouldFillGrid){if(params.loopAddBlankSlides){const slidesToAdd=params.grid.rows-swiper.slides.length%params.grid.rows;addBlankSlides(slidesToAdd);swiper.recalcSlides();swiper.updateSlides()}else{showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)")}initSlides()}else{initSlides()}swiper.loopFix({slideRealIndex,direction:params.centeredSlides?void 0:"next",initial})}function loopFix(_temp){let{slideRealIndex,slideTo:slideTo2=true,direction,setTranslate:setTranslate2,activeSlideIndex,initial,byController,byMousewheel}=_temp===void 0?{}:_temp;const swiper=this;if(!swiper.params.loop)return;swiper.emit("beforeLoopFix");const{slides,allowSlidePrev,allowSlideNext,slidesEl,params}=swiper;const{centeredSlides,initialSlide}=params;swiper.allowSlidePrev=true;swiper.allowSlideNext=true;if(swiper.virtual&&params.virtual.enabled){if(slideTo2){if(!params.centeredSlides&&swiper.snapIndex===0){swiper.slideTo(swiper.virtual.slides.length,0,false,true)}else if(params.centeredSlides&&swiper.snapIndex<params.slidesPerView){swiper.slideTo(swiper.virtual.slides.length+swiper.snapIndex,0,false,true)}else if(swiper.snapIndex===swiper.snapGrid.length-1){swiper.slideTo(swiper.virtual.slidesBefore,0,false,true)}}swiper.allowSlidePrev=allowSlidePrev;swiper.allowSlideNext=allowSlideNext;swiper.emit("loopFix");return}let slidesPerView=params.slidesPerView;if(slidesPerView==="auto"){slidesPerView=swiper.slidesPerViewDynamic()}else{slidesPerView=Math.ceil(parseFloat(params.slidesPerView,10));if(centeredSlides&&slidesPerView%2===0){slidesPerView=slidesPerView+1}}const slidesPerGroup=params.slidesPerGroupAuto?slidesPerView:params.slidesPerGroup;let loopedSlides=centeredSlides?Math.max(slidesPerGroup,Math.ceil(slidesPerView/2)):slidesPerGroup;if(loopedSlides%slidesPerGroup!==0){loopedSlides+=slidesPerGroup-loopedSlides%slidesPerGroup}loopedSlides+=params.loopAdditionalSlides;swiper.loopedSlides=loopedSlides;const gridEnabled=swiper.grid&&params.grid&&params.grid.rows>1;if(slides.length<slidesPerView+loopedSlides||swiper.params.effect==="cards"&&slides.length<slidesPerView+loopedSlides*2){showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters")}else if(gridEnabled&&params.grid.fill==="row"){showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`")}const prependSlidesIndexes=[];const appendSlidesIndexes=[];const cols=gridEnabled?Math.ceil(slides.length/params.grid.rows):slides.length;const isInitialOverflow=initial&&cols-initialSlide<slidesPerView&&!centeredSlides;let activeIndex=isInitialOverflow?initialSlide:swiper.activeIndex;if(typeof activeSlideIndex==="undefined"){activeSlideIndex=swiper.getSlideIndex(slides.find(el=>el.classList.contains(params.slideActiveClass)))}else{activeIndex=activeSlideIndex}const isNext=direction==="next"||!direction;const isPrev=direction==="prev"||!direction;let slidesPrepended=0;let slidesAppended=0;const activeColIndex=gridEnabled?slides[activeSlideIndex].column:activeSlideIndex;const activeColIndexWithShift=activeColIndex+(centeredSlides&&typeof setTranslate2==="undefined"?-slidesPerView/2+.5:0);if(activeColIndexWithShift<loopedSlides){slidesPrepended=Math.max(loopedSlides-activeColIndexWithShift,slidesPerGroup);for(let i=0;i<loopedSlides-activeColIndexWithShift;i+=1){const index=i-Math.floor(i/cols)*cols;if(gridEnabled){const colIndexToPrepend=cols-index-1;for(let i2=slides.length-1;i2>=0;i2-=1){if(slides[i2].column===colIndexToPrepend)prependSlidesIndexes.push(i2)}}else{prependSlidesIndexes.push(cols-index-1)}}}else if(activeColIndexWithShift+slidesPerView>cols-loopedSlides){slidesAppended=Math.max(activeColIndexWithShift-(cols-loopedSlides*2),slidesPerGroup);if(isInitialOverflow){slidesAppended=Math.max(slidesAppended,slidesPerView-cols+initialSlide+1)}for(let i=0;i<slidesAppended;i+=1){const index=i-Math.floor(i/cols)*cols;if(gridEnabled){slides.forEach((slide2,slideIndex)=>{if(slide2.column===index)appendSlidesIndexes.push(slideIndex)})}else{appendSlidesIndexes.push(index)}}}swiper.__preventObserver__=true;requestAnimationFrame(()=>{swiper.__preventObserver__=false});if(swiper.params.effect==="cards"&&slides.length<slidesPerView+loopedSlides*2){if(appendSlidesIndexes.includes(activeSlideIndex)){appendSlidesIndexes.splice(appendSlidesIndexes.indexOf(activeSlideIndex),1)}if(prependSlidesIndexes.includes(activeSlideIndex)){prependSlidesIndexes.splice(prependSlidesIndexes.indexOf(activeSlideIndex),1)}}if(isPrev){prependSlidesIndexes.forEach(index=>{slides[index].swiperLoopMoveDOM=true;slidesEl.prepend(slides[index]);slides[index].swiperLoopMoveDOM=false})}if(isNext){appendSlidesIndexes.forEach(index=>{slides[index].swiperLoopMoveDOM=true;slidesEl.append(slides[index]);slides[index].swiperLoopMoveDOM=false})}swiper.recalcSlides();if(params.slidesPerView==="auto"){swiper.updateSlides()}else if(gridEnabled&&(prependSlidesIndexes.length>0&&isPrev||appendSlidesIndexes.length>0&&isNext)){swiper.slides.forEach((slide2,slideIndex)=>{swiper.grid.updateSlide(slideIndex,slide2,swiper.slides)})}if(params.watchSlidesProgress){swiper.updateSlidesOffset()}if(slideTo2){if(prependSlidesIndexes.length>0&&isPrev){if(typeof slideRealIndex==="undefined"){const currentSlideTranslate=swiper.slidesGrid[activeIndex];const newSlideTranslate=swiper.slidesGrid[activeIndex+slidesPrepended];const diff=newSlideTranslate-currentSlideTranslate;if(byMousewheel){swiper.setTranslate(swiper.translate-diff)}else{swiper.slideTo(activeIndex+Math.ceil(slidesPrepended),0,false,true);if(setTranslate2){swiper.touchEventsData.startTranslate=swiper.touchEventsData.startTranslate-diff;swiper.touchEventsData.currentTranslate=swiper.touchEventsData.currentTranslate-diff}}}else{if(setTranslate2){const shift=gridEnabled?prependSlidesIndexes.length/params.grid.rows:prependSlidesIndexes.length;swiper.slideTo(swiper.activeIndex+shift,0,false,true);swiper.touchEventsData.currentTranslate=swiper.translate}}}else if(appendSlidesIndexes.length>0&&isNext){if(typeof slideRealIndex==="undefined"){const currentSlideTranslate=swiper.slidesGrid[activeIndex];const newSlideTranslate=swiper.slidesGrid[activeIndex-slidesAppended];const diff=newSlideTranslate-currentSlideTranslate;if(byMousewheel){swiper.setTranslate(swiper.translate-diff)}else{swiper.slideTo(activeIndex-slidesAppended,0,false,true);if(setTranslate2){swiper.touchEventsData.startTranslate=swiper.touchEventsData.startTranslate-diff;swiper.touchEventsData.currentTranslate=swiper.touchEventsData.currentTranslate-diff}}}else{const shift=gridEnabled?appendSlidesIndexes.length/params.grid.rows:appendSlidesIndexes.length;swiper.slideTo(swiper.activeIndex-shift,0,false,true)}}}swiper.allowSlidePrev=allowSlidePrev;swiper.allowSlideNext=allowSlideNext;if(swiper.controller&&swiper.controller.control&&!byController){const loopParams={slideRealIndex,direction,setTranslate:setTranslate2,activeSlideIndex,byController:true};if(Array.isArray(swiper.controller.control)){swiper.controller.control.forEach(c=>{if(!c.destroyed&&c.params.loop)c.loopFix({...loopParams,slideTo:c.params.slidesPerView===params.slidesPerView?slideTo2:false})})}else if(swiper.controller.control instanceof swiper.constructor&&swiper.controller.control.params.loop){swiper.controller.control.loopFix({...loopParams,slideTo:swiper.controller.control.params.slidesPerView===params.slidesPerView?slideTo2:false})}}swiper.emit("loopFix")}function loopDestroy(){const swiper=this;const{params,slidesEl}=swiper;if(!params.loop||!slidesEl||swiper.virtual&&swiper.params.virtual.enabled)return;swiper.recalcSlides();const newSlidesOrder=[];swiper.slides.forEach(slideEl=>{const index=typeof slideEl.swiperSlideIndex==="undefined"?slideEl.getAttribute("data-swiper-slide-index")*1:slideEl.swiperSlideIndex;newSlidesOrder[index]=slideEl});swiper.slides.forEach(slideEl=>{slideEl.removeAttribute("data-swiper-slide-index")});newSlidesOrder.forEach(slideEl=>{slidesEl.append(slideEl)});swiper.recalcSlides();swiper.slideTo(swiper.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(moving){const swiper=this;if(!swiper.params.simulateTouch||swiper.params.watchOverflow&&swiper.isLocked||swiper.params.cssMode)return;const el=swiper.params.touchEventsTarget==="container"?swiper.el:swiper.wrapperEl;if(swiper.isElement){swiper.__preventObserver__=true}el.style.cursor="move";el.style.cursor=moving?"grabbing":"grab";if(swiper.isElement){requestAnimationFrame(()=>{swiper.__preventObserver__=false})}}function unsetGrabCursor(){const swiper=this;if(swiper.params.watchOverflow&&swiper.isLocked||swiper.params.cssMode){return}if(swiper.isElement){swiper.__preventObserver__=true}swiper[swiper.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="";if(swiper.isElement){requestAnimationFrame(()=>{swiper.__preventObserver__=false})}}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(selector,base){if(base===void 0){base=this}function __closestFrom(el){if(!el||el===getDocument()||el===getWindow())return null;if(el.assignedSlot)el=el.assignedSlot;const found=el.closest(selector);if(!found&&!el.getRootNode){return null}return found||__closestFrom(el.getRootNode().host)}return __closestFrom(base)}function preventEdgeSwipe(swiper,event2,startX){const window2=getWindow();const{params}=swiper;const edgeSwipeDetection=params.edgeSwipeDetection;const edgeSwipeThreshold=params.edgeSwipeThreshold;if(edgeSwipeDetection&&(startX<=edgeSwipeThreshold||startX>=window2.innerWidth-edgeSwipeThreshold)){if(edgeSwipeDetection==="prevent"){event2.preventDefault();return true}return false}return true}function onTouchStart(event2){const swiper=this;const document2=getDocument();let e=event2;if(e.originalEvent)e=e.originalEvent;const data=swiper.touchEventsData;if(e.type==="pointerdown"){if(data.pointerId!==null&&data.pointerId!==e.pointerId){return}data.pointerId=e.pointerId}else if(e.type==="touchstart"&&e.targetTouches.length===1){data.touchId=e.targetTouches[0].identifier}if(e.type==="touchstart"){preventEdgeSwipe(swiper,e,e.targetTouches[0].pageX);return}const{params,touches,enabled}=swiper;if(!enabled)return;if(!params.simulateTouch&&e.pointerType==="mouse")return;if(swiper.animating&&params.preventInteractionOnTransition){return}if(!swiper.animating&&params.cssMode&&params.loop){swiper.loopFix()}let targetEl=e.target;if(params.touchEventsTarget==="wrapper"){if(!elementIsChildOf(targetEl,swiper.wrapperEl))return}if("which"in e&&e.which===3)return;if("button"in e&&e.button>0)return;if(data.isTouched&&data.isMoved)return;const swipingClassHasValue=!!params.noSwipingClass&&params.noSwipingClass!=="";const eventPath=e.composedPath?e.composedPath():e.path;if(swipingClassHasValue&&e.target&&e.target.shadowRoot&&eventPath){targetEl=eventPath[0]}const noSwipingSelector=params.noSwipingSelector?params.noSwipingSelector:`.${params.noSwipingClass}`;const isTargetShadow=!!(e.target&&e.target.shadowRoot);if(params.noSwiping&&(isTargetShadow?closestElement(noSwipingSelector,targetEl):targetEl.closest(noSwipingSelector))){swiper.allowClick=true;return}if(params.swipeHandler){if(!targetEl.closest(params.swipeHandler))return}touches.currentX=e.pageX;touches.currentY=e.pageY;const startX=touches.currentX;const startY=touches.currentY;if(!preventEdgeSwipe(swiper,e,startX)){return}Object.assign(data,{isTouched:true,isMoved:false,allowTouchCallbacks:true,isScrolling:void 0,startMoving:void 0});touches.startX=startX;touches.startY=startY;data.touchStartTime=now();swiper.allowClick=true;swiper.updateSize();swiper.swipeDirection=void 0;if(params.threshold>0)data.allowThresholdMove=false;let preventDefault=true;if(targetEl.matches(data.focusableElements)){preventDefault=false;if(targetEl.nodeName==="SELECT"){data.isTouched=false}}if(document2.activeElement&&document2.activeElement.matches(data.focusableElements)&&document2.activeElement!==targetEl&&(e.pointerType==="mouse"||e.pointerType!=="mouse"&&!targetEl.matches(data.focusableElements))){document2.activeElement.blur()}const shouldPreventDefault=preventDefault&&swiper.allowTouchMove&&params.touchStartPreventDefault;if((params.touchStartForcePreventDefault||shouldPreventDefault)&&!targetEl.isContentEditable){e.preventDefault()}if(params.freeMode&&params.freeMode.enabled&&swiper.freeMode&&swiper.animating&&!params.cssMode){swiper.freeMode.onTouchStart()}swiper.emit("touchStart",e)}function onTouchMove(event2){const document2=getDocument();const swiper=this;const data=swiper.touchEventsData;const{params,touches,rtlTranslate:rtl,enabled}=swiper;if(!enabled)return;if(!params.simulateTouch&&event2.pointerType==="mouse")return;let e=event2;if(e.originalEvent)e=e.originalEvent;if(e.type==="pointermove"){if(data.touchId!==null)return;const id=e.pointerId;if(id!==data.pointerId)return}let targetTouch;if(e.type==="touchmove"){targetTouch=[...e.changedTouches].find(t=>t.identifier===data.touchId);if(!targetTouch||targetTouch.identifier!==data.touchId)return}else{targetTouch=e}if(!data.isTouched){if(data.startMoving&&data.isScrolling){swiper.emit("touchMoveOpposite",e)}return}const pageX=targetTouch.pageX;const pageY=targetTouch.pageY;if(e.preventedByNestedSwiper){touches.startX=pageX;touches.startY=pageY;return}if(!swiper.allowTouchMove){if(!e.target.matches(data.focusableElements)){swiper.allowClick=false}if(data.isTouched){Object.assign(touches,{startX:pageX,startY:pageY,currentX:pageX,currentY:pageY});data.touchStartTime=now()}return}if(params.touchReleaseOnEdges&&!params.loop){if(swiper.isVertical()){if(pageY<touches.startY&&swiper.translate<=swiper.maxTranslate()||pageY>touches.startY&&swiper.translate>=swiper.minTranslate()){data.isTouched=false;data.isMoved=false;return}}else if(rtl&&(pageX>touches.startX&&-swiper.translate<=swiper.maxTranslate()||pageX<touches.startX&&-swiper.translate>=swiper.minTranslate())){return}else if(!rtl&&(pageX<touches.startX&&swiper.translate<=swiper.maxTranslate()||pageX>touches.startX&&swiper.translate>=swiper.minTranslate())){return}}if(document2.activeElement&&document2.activeElement.matches(data.focusableElements)&&document2.activeElement!==e.target&&e.pointerType!=="mouse"){document2.activeElement.blur()}if(document2.activeElement){if(e.target===document2.activeElement&&e.target.matches(data.focusableElements)){data.isMoved=true;swiper.allowClick=false;return}}if(data.allowTouchCallbacks){swiper.emit("touchMove",e)}touches.previousX=touches.currentX;touches.previousY=touches.currentY;touches.currentX=pageX;touches.currentY=pageY;const diffX=touches.currentX-touches.startX;const diffY=touches.currentY-touches.startY;if(swiper.params.threshold&&Math.sqrt(diffX**2+diffY**2)<swiper.params.threshold)return;if(typeof data.isScrolling==="undefined"){let touchAngle;if(swiper.isHorizontal()&&touches.currentY===touches.startY||swiper.isVertical()&&touches.currentX===touches.startX){data.isScrolling=false}else{if(diffX*diffX+diffY*diffY>=25){touchAngle=Math.atan2(Math.abs(diffY),Math.abs(diffX))*180/Math.PI;data.isScrolling=swiper.isHorizontal()?touchAngle>params.touchAngle:90-touchAngle>params.touchAngle}}}if(data.isScrolling){swiper.emit("touchMoveOpposite",e)}if(typeof data.startMoving==="undefined"){if(touches.currentX!==touches.startX||touches.currentY!==touches.startY){data.startMoving=true}}if(data.isScrolling||e.type==="touchmove"&&data.preventTouchMoveFromPointerMove){data.isTouched=false;return}if(!data.startMoving){return}swiper.allowClick=false;if(!params.cssMode&&e.cancelable){e.preventDefault()}if(params.touchMoveStopPropagation&&!params.nested){e.stopPropagation()}let diff=swiper.isHorizontal()?diffX:diffY;let touchesDiff=swiper.isHorizontal()?touches.currentX-touches.previousX:touches.currentY-touches.previousY;if(params.oneWayMovement){diff=Math.abs(diff)*(rtl?1:-1);touchesDiff=Math.abs(touchesDiff)*(rtl?1:-1)}touches.diff=diff;diff*=params.touchRatio;if(rtl){diff=-diff;touchesDiff=-touchesDiff}const prevTouchesDirection=swiper.touchesDirection;swiper.swipeDirection=diff>0?"prev":"next";swiper.touchesDirection=touchesDiff>0?"prev":"next";const isLoop=swiper.params.loop&&!params.cssMode;const allowLoopFix=swiper.touchesDirection==="next"&&swiper.allowSlideNext||swiper.touchesDirection==="prev"&&swiper.allowSlidePrev;if(!data.isMoved){if(isLoop&&allowLoopFix){swiper.loopFix({direction:swiper.swipeDirection})}data.startTranslate=swiper.getTranslate();swiper.setTransition(0);if(swiper.animating){const evt=new window.CustomEvent("transitionend",{bubbles:true,cancelable:true,detail:{bySwiperTouchMove:true}});swiper.wrapperEl.dispatchEvent(evt)}data.allowMomentumBounce=false;if(params.grabCursor&&(swiper.allowSlideNext===true||swiper.allowSlidePrev===true)){swiper.setGrabCursor(true)}swiper.emit("sliderFirstMove",e)}let loopFixed;new Date().getTime();if(params._loopSwapReset!==false&&data.isMoved&&data.allowThresholdMove&&prevTouchesDirection!==swiper.touchesDirection&&isLoop&&allowLoopFix&&Math.abs(diff)>=1){Object.assign(touches,{startX:pageX,startY:pageY,currentX:pageX,currentY:pageY,startTranslate:data.currentTranslate});data.loopSwapReset=true;data.startTranslate=data.currentTranslate;return}swiper.emit("sliderMove",e);data.isMoved=true;data.currentTranslate=diff+data.startTranslate;let disableParentSwiper=true;let resistanceRatio=params.resistanceRatio;if(params.touchReleaseOnEdges){resistanceRatio=0}if(diff>0){if(isLoop&&allowLoopFix&&!loopFixed&&data.allowThresholdMove&&data.currentTranslate>(params.centeredSlides?swiper.minTranslate()-swiper.slidesSizesGrid[swiper.activeIndex+1]-(params.slidesPerView!=="auto"&&swiper.slides.length-params.slidesPerView>=2?swiper.slidesSizesGrid[swiper.activeIndex+1]+swiper.params.spaceBetween:0)-swiper.params.spaceBetween:swiper.minTranslate())){swiper.loopFix({direction:"prev",setTranslate:true,activeSlideIndex:0})}if(data.currentTranslate>swiper.minTranslate()){disableParentSwiper=false;if(params.resistance){data.currentTranslate=swiper.minTranslate()-1+(-swiper.minTranslate()+data.startTranslate+diff)**resistanceRatio}}}else if(diff<0){if(isLoop&&allowLoopFix&&!loopFixed&&data.allowThresholdMove&&data.currentTranslate<(params.centeredSlides?swiper.maxTranslate()+swiper.slidesSizesGrid[swiper.slidesSizesGrid.length-1]+swiper.params.spaceBetween+(params.slidesPerView!=="auto"&&swiper.slides.length-params.slidesPerView>=2?swiper.slidesSizesGrid[swiper.slidesSizesGrid.length-1]+swiper.params.spaceBetween:0):swiper.maxTranslate())){swiper.loopFix({direction:"next",setTranslate:true,activeSlideIndex:swiper.slides.length-(params.slidesPerView==="auto"?swiper.slidesPerViewDynamic():Math.ceil(parseFloat(params.slidesPerView,10)))})}if(data.currentTranslate<swiper.maxTranslate()){disableParentSwiper=false;if(params.resistance){data.currentTranslate=swiper.maxTranslate()+1-(swiper.maxTranslate()-data.startTranslate-diff)**resistanceRatio}}}if(disableParentSwiper){e.preventedByNestedSwiper=true}if(!swiper.allowSlideNext&&swiper.swipeDirection==="next"&&data.currentTranslate<data.startTranslate){data.currentTranslate=data.startTranslate}if(!swiper.allowSlidePrev&&swiper.swipeDirection==="prev"&&data.currentTranslate>data.startTranslate){data.currentTranslate=data.startTranslate}if(!swiper.allowSlidePrev&&!swiper.allowSlideNext){data.currentTranslate=data.startTranslate}if(params.threshold>0){if(Math.abs(diff)>params.threshold||data.allowThresholdMove){if(!data.allowThresholdMove){data.allowThresholdMove=true;touches.startX=touches.currentX;touches.startY=touches.currentY;data.currentTranslate=data.startTranslate;touches.diff=swiper.isHorizontal()?touches.currentX-touches.startX:touches.currentY-touches.startY;return}}else{data.currentTranslate=data.startTranslate;return}}if(!params.followFinger||params.cssMode)return;if(params.freeMode&&params.freeMode.enabled&&swiper.freeMode||params.watchSlidesProgress){swiper.updateActiveIndex();swiper.updateSlidesClasses()}if(params.freeMode&&params.freeMode.enabled&&swiper.freeMode){swiper.freeMode.onTouchMove()}swiper.updateProgress(data.currentTranslate);swiper.setTranslate(data.currentTranslate)}function onTouchEnd(event2){const swiper=this;const data=swiper.touchEventsData;let e=event2;if(e.originalEvent)e=e.originalEvent;let targetTouch;const isTouchEvent=e.type==="touchend"||e.type==="touchcancel";if(!isTouchEvent){if(data.touchId!==null)return;if(e.pointerId!==data.pointerId)return;targetTouch=e}else{targetTouch=[...e.changedTouches].find(t=>t.identifier===data.touchId);if(!targetTouch||targetTouch.identifier!==data.touchId)return}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(e.type)){const proceed=["pointercancel","contextmenu"].includes(e.type)&&(swiper.browser.isSafari||swiper.browser.isWebView);if(!proceed){return}}data.pointerId=null;data.touchId=null;const{params,touches,rtlTranslate:rtl,slidesGrid,enabled}=swiper;if(!enabled)return;if(!params.simulateTouch&&e.pointerType==="mouse")return;if(data.allowTouchCallbacks){swiper.emit("touchEnd",e)}data.allowTouchCallbacks=false;if(!data.isTouched){if(data.isMoved&&params.grabCursor){swiper.setGrabCursor(false)}data.isMoved=false;data.startMoving=false;return}if(params.grabCursor&&data.isMoved&&data.isTouched&&(swiper.allowSlideNext===true||swiper.allowSlidePrev===true)){swiper.setGrabCursor(false)}const touchEndTime=now();const timeDiff=touchEndTime-data.touchStartTime;if(swiper.allowClick){const pathTree=e.path||e.composedPath&&e.composedPath();swiper.updateClickedSlide(pathTree&&pathTree[0]||e.target,pathTree);swiper.emit("tap click",e);if(timeDiff<300&&touchEndTime-data.lastClickTime<300){swiper.emit("doubleTap doubleClick",e)}}data.lastClickTime=now();nextTick(()=>{if(!swiper.destroyed)swiper.allowClick=true});if(!data.isTouched||!data.isMoved||!swiper.swipeDirection||touches.diff===0&&!data.loopSwapReset||data.currentTranslate===data.startTranslate&&!data.loopSwapReset){data.isTouched=false;data.isMoved=false;data.startMoving=false;return}data.isTouched=false;data.isMoved=false;data.startMoving=false;let currentPos;if(params.followFinger){currentPos=rtl?swiper.translate:-swiper.translate}else{currentPos=-data.currentTranslate}if(params.cssMode){return}if(params.freeMode&&params.freeMode.enabled){swiper.freeMode.onTouchEnd({currentPos});return}const swipeToLast=currentPos>=-swiper.maxTranslate()&&!swiper.params.loop;let stopIndex=0;let groupSize=swiper.slidesSizesGrid[0];for(let i=0;i<slidesGrid.length;i+=i<params.slidesPerGroupSkip?1:params.slidesPerGroup){const increment2=i<params.slidesPerGroupSkip-1?1:params.slidesPerGroup;if(typeof slidesGrid[i+increment2]!=="undefined"){if(swipeToLast||currentPos>=slidesGrid[i]&&currentPos<slidesGrid[i+increment2]){stopIndex=i;groupSize=slidesGrid[i+increment2]-slidesGrid[i]}}else if(swipeToLast||currentPos>=slidesGrid[i]){stopIndex=i;groupSize=slidesGrid[slidesGrid.length-1]-slidesGrid[slidesGrid.length-2]}}let rewindFirstIndex=null;let rewindLastIndex=null;if(params.rewind){if(swiper.isBeginning){rewindLastIndex=params.virtual&&params.virtual.enabled&&swiper.virtual?swiper.virtual.slides.length-1:swiper.slides.length-1}else if(swiper.isEnd){rewindFirstIndex=0}}const ratio=(currentPos-slidesGrid[stopIndex])/groupSize;const increment=stopIndex<params.slidesPerGroupSkip-1?1:params.slidesPerGroup;if(timeDiff>params.longSwipesMs){if(!params.longSwipes){swiper.slideTo(swiper.activeIndex);return}if(swiper.swipeDirection==="next"){if(ratio>=params.longSwipesRatio)swiper.slideTo(params.rewind&&swiper.isEnd?rewindFirstIndex:stopIndex+increment);else swiper.slideTo(stopIndex)}if(swiper.swipeDirection==="prev"){if(ratio>1-params.longSwipesRatio){swiper.slideTo(stopIndex+increment)}else if(rewindLastIndex!==null&&ratio<0&&Math.abs(ratio)>params.longSwipesRatio){swiper.slideTo(rewindLastIndex)}else{swiper.slideTo(stopIndex)}}}else{if(!params.shortSwipes){swiper.slideTo(swiper.activeIndex);return}const isNavButtonTarget=swiper.navigation&&(e.target===swiper.navigation.nextEl||e.target===swiper.navigation.prevEl);if(!isNavButtonTarget){if(swiper.swipeDirection==="next"){swiper.slideTo(rewindFirstIndex!==null?rewindFirstIndex:stopIndex+increment)}if(swiper.swipeDirection==="prev"){swiper.slideTo(rewindLastIndex!==null?rewindLastIndex:stopIndex)}}else if(e.target===swiper.navigation.nextEl){swiper.slideTo(stopIndex+increment)}else{swiper.slideTo(stopIndex)}}}function onResize(){const swiper=this;const{params,el}=swiper;if(el&&el.offsetWidth===0)return;if(params.breakpoints){swiper.setBreakpoint()}const{allowSlideNext,allowSlidePrev,snapGrid}=swiper;const isVirtual=swiper.virtual&&swiper.params.virtual.enabled;swiper.allowSlideNext=true;swiper.allowSlidePrev=true;swiper.updateSize();swiper.updateSlides();swiper.updateSlidesClasses();const isVirtualLoop=isVirtual&&params.loop;if((params.slidesPerView==="auto"||params.slidesPerView>1)&&swiper.isEnd&&!swiper.isBeginning&&!swiper.params.centeredSlides&&!isVirtualLoop){swiper.slideTo(swiper.slides.length-1,0,false,true)}else{if(swiper.params.loop&&!isVirtual){swiper.slideToLoop(swiper.realIndex,0,false,true)}else{swiper.slideTo(swiper.activeIndex,0,false,true)}}if(swiper.autoplay&&swiper.autoplay.running&&swiper.autoplay.paused){clearTimeout(swiper.autoplay.resizeTimeout);swiper.autoplay.resizeTimeout=setTimeout(()=>{if(swiper.autoplay&&swiper.autoplay.running&&swiper.autoplay.paused){swiper.autoplay.resume()}},500)}swiper.allowSlidePrev=allowSlidePrev;swiper.allowSlideNext=allowSlideNext;if(swiper.params.watchOverflow&&snapGrid!==swiper.snapGrid){swiper.checkOverflow()}}function onClick(e){const swiper=this;if(!swiper.enabled)return;if(!swiper.allowClick){if(swiper.params.preventClicks)e.preventDefault();if(swiper.params.preventClicksPropagation&&swiper.animating){e.stopPropagation();e.stopImmediatePropagation()}}}function onScroll(){const swiper=this;const{wrapperEl,rtlTranslate,enabled}=swiper;if(!enabled)return;swiper.previousTranslate=swiper.translate;if(swiper.isHorizontal()){swiper.translate=-wrapperEl.scrollLeft}else{swiper.translate=-wrapperEl.scrollTop}if(swiper.translate===0)swiper.translate=0;swiper.updateActiveIndex();swiper.updateSlidesClasses();let newProgress;const translatesDiff=swiper.maxTranslate()-swiper.minTranslate();if(translatesDiff===0){newProgress=0}else{newProgress=(swiper.translate-swiper.minTranslate())/translatesDiff}if(newProgress!==swiper.progress){swiper.updateProgress(rtlTranslate?-swiper.translate:swiper.translate)}swiper.emit("setTranslate",swiper.translate,false)}function onLoad(e){const swiper=this;processLazyPreloader(swiper,e.target);if(swiper.params.cssMode||swiper.params.slidesPerView!=="auto"&&!swiper.params.autoHeight){return}swiper.update()}function onDocumentTouchStart(){const swiper=this;if(swiper.documentTouchHandlerProceeded)return;swiper.documentTouchHandlerProceeded=true;if(swiper.params.touchReleaseOnEdges){swiper.el.style.touchAction="auto"}}var events=(swiper,method)=>{const document2=getDocument();const{params,el,wrapperEl,device}=swiper;const capture=!!params.nested;const domMethod=method==="on"?"addEventListener":"removeEventListener";const swiperMethod=method;if(!el||typeof el==="string")return;document2[domMethod]("touchstart",swiper.onDocumentTouchStart,{passive:false,capture});el[domMethod]("touchstart",swiper.onTouchStart,{passive:false});el[domMethod]("pointerdown",swiper.onTouchStart,{passive:false});document2[domMethod]("touchmove",swiper.onTouchMove,{passive:false,capture});document2[domMethod]("pointermove",swiper.onTouchMove,{passive:false,capture});document2[domMethod]("touchend",swiper.onTouchEnd,{passive:true});document2[domMethod]("pointerup",swiper.onTouchEnd,{passive:true});document2[domMethod]("pointercancel",swiper.onTouchEnd,{passive:true});document2[domMethod]("touchcancel",swiper.onTouchEnd,{passive:true});document2[domMethod]("pointerout",swiper.onTouchEnd,{passive:true});document2[domMethod]("pointerleave",swiper.onTouchEnd,{passive:true});document2[domMethod]("contextmenu",swiper.onTouchEnd,{passive:true});if(params.preventClicks||params.preventClicksPropagation){el[domMethod]("click",swiper.onClick,true)}if(params.cssMode){wrapperEl[domMethod]("scroll",swiper.onScroll)}if(params.updateOnWindowResize){swiper[swiperMethod](device.ios||device.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,true)}else{swiper[swiperMethod]("observerUpdate",onResize,true)}el[domMethod]("load",swiper.onLoad,{capture:true})};function attachEvents(){const swiper=this;const{params}=swiper;swiper.onTouchStart=onTouchStart.bind(swiper);swiper.onTouchMove=onTouchMove.bind(swiper);swiper.onTouchEnd=onTouchEnd.bind(swiper);swiper.onDocumentTouchStart=onDocumentTouchStart.bind(swiper);if(params.cssMode){swiper.onScroll=onScroll.bind(swiper)}swiper.onClick=onClick.bind(swiper);swiper.onLoad=onLoad.bind(swiper);events(swiper,"on")}function detachEvents(){const swiper=this;events(swiper,"off")}var events$1={attachEvents,detachEvents};var isGridEnabled=(swiper,params)=>{return swiper.grid&&params.grid&&params.grid.rows>1};function setBreakpoint(){const swiper=this;const{realIndex,initialized,params,el}=swiper;const breakpoints2=params.breakpoints;if(!breakpoints2||breakpoints2&&Object.keys(breakpoints2).length===0)return;const document2=getDocument();const breakpointsBase=params.breakpointsBase==="window"||!params.breakpointsBase?params.breakpointsBase:"container";const breakpointContainer=["window","container"].includes(params.breakpointsBase)||!params.breakpointsBase?swiper.el:document2.querySelector(params.breakpointsBase);const breakpoint=swiper.getBreakpoint(breakpoints2,breakpointsBase,breakpointContainer);if(!breakpoint||swiper.currentBreakpoint===breakpoint)return;const breakpointOnlyParams=breakpoint in breakpoints2?breakpoints2[breakpoint]:void 0;const breakpointParams=breakpointOnlyParams||swiper.originalParams;const wasMultiRow=isGridEnabled(swiper,params);const isMultiRow=isGridEnabled(swiper,breakpointParams);const wasGrabCursor=swiper.params.grabCursor;const isGrabCursor=breakpointParams.grabCursor;const wasEnabled=params.enabled;if(wasMultiRow&&!isMultiRow){el.classList.remove(`${params.containerModifierClass}grid`,`${params.containerModifierClass}grid-column`);swiper.emitContainerClasses()}else if(!wasMultiRow&&isMultiRow){el.classList.add(`${params.containerModifierClass}grid`);if(breakpointParams.grid.fill&&breakpointParams.grid.fill==="column"||!breakpointParams.grid.fill&&params.grid.fill==="column"){el.classList.add(`${params.containerModifierClass}grid-column`)}swiper.emitContainerClasses()}if(wasGrabCursor&&!isGrabCursor){swiper.unsetGrabCursor()}else if(!wasGrabCursor&&isGrabCursor){swiper.setGrabCursor()}["navigation","pagination","scrollbar"].forEach(prop=>{if(typeof breakpointParams[prop]==="undefined")return;const wasModuleEnabled=params[prop]&&params[prop].enabled;const isModuleEnabled=breakpointParams[prop]&&breakpointParams[prop].enabled;if(wasModuleEnabled&&!isModuleEnabled){swiper[prop].disable()}if(!wasModuleEnabled&&isModuleEnabled){swiper[prop].enable()}});const directionChanged=breakpointParams.direction&&breakpointParams.direction!==params.direction;const needsReLoop=params.loop&&(breakpointParams.slidesPerView!==params.slidesPerView||directionChanged);const wasLoop=params.loop;if(directionChanged&&initialized){swiper.changeDirection()}extend2(swiper.params,breakpointParams);const isEnabled=swiper.params.enabled;const hasLoop=swiper.params.loop;Object.assign(swiper,{allowTouchMove:swiper.params.allowTouchMove,allowSlideNext:swiper.params.allowSlideNext,allowSlidePrev:swiper.params.allowSlidePrev});if(wasEnabled&&!isEnabled){swiper.disable()}else if(!wasEnabled&&isEnabled){swiper.enable()}swiper.currentBreakpoint=breakpoint;swiper.emit("_beforeBreakpoint",breakpointParams);if(initialized){if(needsReLoop){swiper.loopDestroy();swiper.loopCreate(realIndex);swiper.updateSlides()}else if(!wasLoop&&hasLoop){swiper.loopCreate(realIndex);swiper.updateSlides()}else if(wasLoop&&!hasLoop){swiper.loopDestroy()}}swiper.emit("breakpoint",breakpointParams)}function getBreakpoint(breakpoints2,base,containerEl){if(base===void 0){base="window"}if(!breakpoints2||base==="container"&&!containerEl)return void 0;let breakpoint=false;const window2=getWindow();const currentHeight=base==="window"?window2.innerHeight:containerEl.clientHeight;const points=Object.keys(breakpoints2).map(point=>{if(typeof point==="string"&&point.indexOf("@")===0){const minRatio=parseFloat(point.substr(1));const value=currentHeight*minRatio;return{value,point}}return{value:point,point}});points.sort((a,b)=>parseInt(a.value,10)-parseInt(b.value,10));for(let i=0;i<points.length;i+=1){const{point,value}=points[i];if(base==="window"){if(window2.matchMedia(`(min-width: ${value}px)`).matches){breakpoint=point}}else if(value<=containerEl.clientWidth){breakpoint=point}}return breakpoint||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(entries,prefix){const resultClasses=[];entries.forEach(item=>{if(typeof item==="object"){Object.keys(item).forEach(classNames=>{if(item[classNames]){resultClasses.push(prefix+classNames)}})}else if(typeof item==="string"){resultClasses.push(prefix+item)}});return resultClasses}function addClasses(){const swiper=this;const{classNames,params,rtl,el,device}=swiper;const suffixes=prepareClasses(["initialized",params.direction,{"free-mode":swiper.params.freeMode&&params.freeMode.enabled},{"autoheight":params.autoHeight},{"rtl":rtl},{"grid":params.grid&&params.grid.rows>1},{"grid-column":params.grid&&params.grid.rows>1&&params.grid.fill==="column"},{"android":device.android},{"ios":device.ios},{"css-mode":params.cssMode},{"centered":params.cssMode&&params.centeredSlides},{"watch-progress":params.watchSlidesProgress}],params.containerModifierClass);classNames.push(...suffixes);el.classList.add(...classNames);swiper.emitContainerClasses()}function removeClasses(){const swiper=this;const{el,classNames}=swiper;if(!el||typeof el==="string")return;el.classList.remove(...classNames);swiper.emitContainerClasses()}var classes={addClasses,removeClasses};function checkOverflow(){const swiper=this;const{isLocked:wasLocked,params}=swiper;const{slidesOffsetBefore}=params;if(slidesOffsetBefore){const lastSlideIndex=swiper.slides.length-1;const lastSlideRightEdge=swiper.slidesGrid[lastSlideIndex]+swiper.slidesSizesGrid[lastSlideIndex]+slidesOffsetBefore*2;swiper.isLocked=swiper.size>lastSlideRightEdge}else{swiper.isLocked=swiper.snapGrid.length===1}if(params.allowSlideNext===true){swiper.allowSlideNext=!swiper.isLocked}if(params.allowSlidePrev===true){swiper.allowSlidePrev=!swiper.isLocked}if(wasLocked&&wasLocked!==swiper.isLocked){swiper.isEnd=false}if(wasLocked!==swiper.isLocked){swiper.emit(swiper.isLocked?"lock":"unlock")}}var checkOverflow$1={checkOverflow};var defaults={init:true,direction:"horizontal",oneWayMovement:false,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:false,updateOnWindowResize:true,resizeObserver:true,nested:false,createElements:false,eventsPrefix:"swiper",enabled:true,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:false,userAgent:null,url:null,edgeSwipeDetection:false,edgeSwipeThreshold:20,autoHeight:false,setWrapperSize:false,virtualTranslate:false,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:false,centeredSlides:false,centeredSlidesBounds:false,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:true,centerInsufficientSlides:false,watchOverflow:true,roundLengths:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,allowTouchMove:true,threshold:5,touchMoveStopPropagation:false,touchStartPreventDefault:true,touchStartForcePreventDefault:false,touchReleaseOnEdges:false,uniqueNavElements:true,resistance:true,resistanceRatio:.85,watchSlidesProgress:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,loop:false,loopAddBlankSlides:true,loopAdditionalSlides:0,loopPreventsSliding:true,rewind:false,allowSlidePrev:true,allowSlideNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:true,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:true,_emitClasses:false};function moduleExtendParams(params,allModulesParams){return function extendParams(obj){if(obj===void 0){obj={}}const moduleParamName=Object.keys(obj)[0];const moduleParams=obj[moduleParamName];if(typeof moduleParams!=="object"||moduleParams===null){extend2(allModulesParams,obj);return}if(params[moduleParamName]===true){params[moduleParamName]={enabled:true}}if(moduleParamName==="navigation"&&params[moduleParamName]&&params[moduleParamName].enabled&&!params[moduleParamName].prevEl&&!params[moduleParamName].nextEl){params[moduleParamName].auto=true}if(["pagination","scrollbar"].indexOf(moduleParamName)>=0&&params[moduleParamName]&&params[moduleParamName].enabled&&!params[moduleParamName].el){params[moduleParamName].auto=true}if(!(moduleParamName in params&&"enabled"in moduleParams)){extend2(allModulesParams,obj);return}if(typeof params[moduleParamName]==="object"&&!("enabled"in params[moduleParamName])){params[moduleParamName].enabled=true}if(!params[moduleParamName])params[moduleParamName]={enabled:false};extend2(allModulesParams,obj)}}var prototypes={eventsEmitter,update,translate,transition,slide,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes};var extendedDefaults={};var Swiper=class _Swiper{constructor(){let el;let params;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(args.length===1&&args[0].constructor&&Object.prototype.toString.call(args[0]).slice(8,-1)==="Object"){params=args[0]}else{[el,params]=args}if(!params)params={};params=extend2({},params);if(el&&!params.el)params.el=el;const document2=getDocument();if(params.el&&typeof params.el==="string"&&document2.querySelectorAll(params.el).length>1){const swipers=[];document2.querySelectorAll(params.el).forEach(containerEl=>{const newParams=extend2({},params,{el:containerEl});swipers.push(new _Swiper(newParams))});return swipers}const swiper=this;swiper.__swiper__=true;swiper.support=getSupport();swiper.device=getDevice({userAgent:params.userAgent});swiper.browser=getBrowser();swiper.eventsListeners={};swiper.eventsAnyListeners=[];swiper.modules=[...swiper.__modules__];if(params.modules&&Array.isArray(params.modules)){swiper.modules.push(...params.modules)}const allModulesParams={};swiper.modules.forEach(mod=>{mod({params,swiper,extendParams:moduleExtendParams(params,allModulesParams),on:swiper.on.bind(swiper),once:swiper.once.bind(swiper),off:swiper.off.bind(swiper),emit:swiper.emit.bind(swiper)})});const swiperParams=extend2({},defaults,allModulesParams);swiper.params=extend2({},swiperParams,extendedDefaults,params);swiper.originalParams=extend2({},swiper.params);swiper.passedParams=extend2({},params);if(swiper.params&&swiper.params.on){Object.keys(swiper.params.on).forEach(eventName=>{swiper.on(eventName,swiper.params.on[eventName])})}if(swiper.params&&swiper.params.onAny){swiper.onAny(swiper.params.onAny)}Object.assign(swiper,{enabled:swiper.params.enabled,el,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return swiper.params.direction==="horizontal"},isVertical(){return swiper.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:true,isEnd:false,translate:0,previousTranslate:0,progress:0,velocity:0,animating:false,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:swiper.params.allowSlideNext,allowSlidePrev:swiper.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:swiper.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:true,allowTouchMove:swiper.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0});swiper.emit("_swiper");if(swiper.params.init){swiper.init()}return swiper}getDirectionLabel(property){if(this.isHorizontal()){return property}return{"width":"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom","marginRight":"marginBottom"}[property]}getSlideIndex(slideEl){const{slidesEl,params}=this;const slides=elementChildren(slidesEl,`.${params.slideClass}, swiper-slide`);const firstSlideIndex=elementIndex(slides[0]);return elementIndex(slideEl)-firstSlideIndex}getSlideIndexByData(index){return this.getSlideIndex(this.slides.find(slideEl=>slideEl.getAttribute("data-swiper-slide-index")*1===index))}getSlideIndexWhenGrid(index){if(this.grid&&this.params.grid&&this.params.grid.rows>1){if(this.params.grid.fill==="column"){index=Math.floor(index/this.params.grid.rows)}else if(this.params.grid.fill==="row"){index=index%Math.ceil(this.slides.length/this.params.grid.rows)}}return index}recalcSlides(){const swiper=this;const{slidesEl,params}=swiper;swiper.slides=elementChildren(slidesEl,`.${params.slideClass}, swiper-slide`)}enable(){const swiper=this;if(swiper.enabled)return;swiper.enabled=true;if(swiper.params.grabCursor){swiper.setGrabCursor()}swiper.emit("enable")}disable(){const swiper=this;if(!swiper.enabled)return;swiper.enabled=false;if(swiper.params.grabCursor){swiper.unsetGrabCursor()}swiper.emit("disable")}setProgress(progress,speed){const swiper=this;progress=Math.min(Math.max(progress,0),1);const min=swiper.minTranslate();const max=swiper.maxTranslate();const current=(max-min)*progress+min;swiper.translateTo(current,typeof speed==="undefined"?0:speed);swiper.updateActiveIndex();swiper.updateSlidesClasses()}emitContainerClasses(){const swiper=this;if(!swiper.params._emitClasses||!swiper.el)return;const cls=swiper.el.className.split(" ").filter(className=>{return className.indexOf("swiper")===0||className.indexOf(swiper.params.containerModifierClass)===0});swiper.emit("_containerClasses",cls.join(" "))}getSlideClasses(slideEl){const swiper=this;if(swiper.destroyed)return"";return slideEl.className.split(" ").filter(className=>{return className.indexOf("swiper-slide")===0||className.indexOf(swiper.params.slideClass)===0}).join(" ")}emitSlidesClasses(){const swiper=this;if(!swiper.params._emitClasses||!swiper.el)return;const updates=[];swiper.slides.forEach(slideEl=>{const classNames=swiper.getSlideClasses(slideEl);updates.push({slideEl,classNames});swiper.emit("_slideClass",slideEl,classNames)});swiper.emit("_slideClasses",updates)}slidesPerViewDynamic(view,exact){if(view===void 0){view="current"}if(exact===void 0){exact=false}const swiper=this;const{params,slides,slidesGrid,slidesSizesGrid,size:swiperSize,activeIndex}=swiper;let spv=1;if(typeof params.slidesPerView==="number")return params.slidesPerView;if(params.centeredSlides){let slideSize=slides[activeIndex]?Math.ceil(slides[activeIndex].swiperSlideSize):0;let breakLoop;for(let i=activeIndex+1;i<slides.length;i+=1){if(slides[i]&&!breakLoop){slideSize+=Math.ceil(slides[i].swiperSlideSize);spv+=1;if(slideSize>swiperSize)breakLoop=true}}for(let i=activeIndex-1;i>=0;i-=1){if(slides[i]&&!breakLoop){slideSize+=slides[i].swiperSlideSize;spv+=1;if(slideSize>swiperSize)breakLoop=true}}}else{if(view==="current"){for(let i=activeIndex+1;i<slides.length;i+=1){const slideInView=exact?slidesGrid[i]+slidesSizesGrid[i]-slidesGrid[activeIndex]<swiperSize:slidesGrid[i]-slidesGrid[activeIndex]<swiperSize;if(slideInView){spv+=1}}}else{for(let i=activeIndex-1;i>=0;i-=1){const slideInView=slidesGrid[activeIndex]-slidesGrid[i]<swiperSize;if(slideInView){spv+=1}}}}return spv}update(){const swiper=this;if(!swiper||swiper.destroyed)return;const{snapGrid,params}=swiper;if(params.breakpoints){swiper.setBreakpoint()}[...swiper.el.querySelectorAll('[loading="lazy"]')].forEach(imageEl=>{if(imageEl.complete){processLazyPreloader(swiper,imageEl)}});swiper.updateSize();swiper.updateSlides();swiper.updateProgress();swiper.updateSlidesClasses();function setTranslate2(){const translateValue=swiper.rtlTranslate?swiper.translate*-1:swiper.translate;const newTranslate=Math.min(Math.max(translateValue,swiper.maxTranslate()),swiper.minTranslate());swiper.setTranslate(newTranslate);swiper.updateActiveIndex();swiper.updateSlidesClasses()}let translated;if(params.freeMode&&params.freeMode.enabled&&!params.cssMode){setTranslate2();if(params.autoHeight){swiper.updateAutoHeight()}}else{if((params.slidesPerView==="auto"||params.slidesPerView>1)&&swiper.isEnd&&!params.centeredSlides){const slides=swiper.virtual&&params.virtual.enabled?swiper.virtual.slides:swiper.slides;translated=swiper.slideTo(slides.length-1,0,false,true)}else{translated=swiper.slideTo(swiper.activeIndex,0,false,true)}if(!translated){setTranslate2()}}if(params.watchOverflow&&snapGrid!==swiper.snapGrid){swiper.checkOverflow()}swiper.emit("update")}changeDirection(newDirection,needUpdate){if(needUpdate===void 0){needUpdate=true}const swiper=this;const currentDirection=swiper.params.direction;if(!newDirection){newDirection=currentDirection==="horizontal"?"vertical":"horizontal"}if(newDirection===currentDirection||newDirection!=="horizontal"&&newDirection!=="vertical"){return swiper}swiper.el.classList.remove(`${swiper.params.containerModifierClass}${currentDirection}`);swiper.el.classList.add(`${swiper.params.containerModifierClass}${newDirection}`);swiper.emitContainerClasses();swiper.params.direction=newDirection;swiper.slides.forEach(slideEl=>{if(newDirection==="vertical"){slideEl.style.width=""}else{slideEl.style.height=""}});swiper.emit("changeDirection");if(needUpdate)swiper.update();return swiper}changeLanguageDirection(direction){const swiper=this;if(swiper.rtl&&direction==="rtl"||!swiper.rtl&&direction==="ltr")return;swiper.rtl=direction==="rtl";swiper.rtlTranslate=swiper.params.direction==="horizontal"&&swiper.rtl;if(swiper.rtl){swiper.el.classList.add(`${swiper.params.containerModifierClass}rtl`);swiper.el.dir="rtl"}else{swiper.el.classList.remove(`${swiper.params.containerModifierClass}rtl`);swiper.el.dir="ltr"}swiper.update()}mount(element){const swiper=this;if(swiper.mounted)return true;let el=element||swiper.params.el;if(typeof el==="string"){el=document.querySelector(el)}if(!el){return false}el.swiper=swiper;if(el.parentNode&&el.parentNode.host&&el.parentNode.host.nodeName===swiper.params.swiperElementNodeName.toUpperCase()){swiper.isElement=true}const getWrapperSelector=()=>{return`.${(swiper.params.wrapperClass||"").trim().split(" ").join(".")}`};const getWrapper=()=>{if(el&&el.shadowRoot&&el.shadowRoot.querySelector){const res=el.shadowRoot.querySelector(getWrapperSelector());return res}return elementChildren(el,getWrapperSelector())[0]};let wrapperEl=getWrapper();if(!wrapperEl&&swiper.params.createElements){wrapperEl=createElement("div",swiper.params.wrapperClass);el.append(wrapperEl);elementChildren(el,`.${swiper.params.slideClass}`).forEach(slideEl=>{wrapperEl.append(slideEl)})}Object.assign(swiper,{el,wrapperEl,slidesEl:swiper.isElement&&!el.parentNode.host.slideSlots?el.parentNode.host:wrapperEl,hostEl:swiper.isElement?el.parentNode.host:el,mounted:true,rtl:el.dir.toLowerCase()==="rtl"||elementStyle(el,"direction")==="rtl",rtlTranslate:swiper.params.direction==="horizontal"&&(el.dir.toLowerCase()==="rtl"||elementStyle(el,"direction")==="rtl"),wrongRTL:elementStyle(wrapperEl,"display")==="-webkit-box"});return true}init(el){const swiper=this;if(swiper.initialized)return swiper;const mounted=swiper.mount(el);if(mounted===false)return swiper;swiper.emit("beforeInit");if(swiper.params.breakpoints){swiper.setBreakpoint()}swiper.addClasses();swiper.updateSize();swiper.updateSlides();if(swiper.params.watchOverflow){swiper.checkOverflow()}if(swiper.params.grabCursor&&swiper.enabled){swiper.setGrabCursor()}if(swiper.params.loop&&swiper.virtual&&swiper.params.virtual.enabled){swiper.slideTo(swiper.params.initialSlide+swiper.virtual.slidesBefore,0,swiper.params.runCallbacksOnInit,false,true)}else{swiper.slideTo(swiper.params.initialSlide,0,swiper.params.runCallbacksOnInit,false,true)}if(swiper.params.loop){swiper.loopCreate(void 0,true)}swiper.attachEvents();const lazyElements=[...swiper.el.querySelectorAll('[loading="lazy"]')];if(swiper.isElement){lazyElements.push(...swiper.hostEl.querySelectorAll('[loading="lazy"]'))}lazyElements.forEach(imageEl=>{if(imageEl.complete){processLazyPreloader(swiper,imageEl)}else{imageEl.addEventListener("load",e=>{processLazyPreloader(swiper,e.target)})}});preload(swiper);swiper.initialized=true;preload(swiper);swiper.emit("init");swiper.emit("afterInit");return swiper}destroy(deleteInstance,cleanStyles){if(deleteInstance===void 0){deleteInstance=true}if(cleanStyles===void 0){cleanStyles=true}const swiper=this;const{params,el,wrapperEl,slides}=swiper;if(typeof swiper.params==="undefined"||swiper.destroyed){return null}swiper.emit("beforeDestroy");swiper.initialized=false;swiper.detachEvents();if(params.loop){swiper.loopDestroy()}if(cleanStyles){swiper.removeClasses();if(el&&typeof el!=="string"){el.removeAttribute("style")}if(wrapperEl){wrapperEl.removeAttribute("style")}if(slides&&slides.length){slides.forEach(slideEl=>{slideEl.classList.remove(params.slideVisibleClass,params.slideFullyVisibleClass,params.slideActiveClass,params.slideNextClass,params.slidePrevClass);slideEl.removeAttribute("style");slideEl.removeAttribute("data-swiper-slide-index")})}}swiper.emit("destroy");Object.keys(swiper.eventsListeners).forEach(eventName=>{swiper.off(eventName)});if(deleteInstance!==false){if(swiper.el&&typeof swiper.el!=="string"){swiper.el.swiper=null}deleteProps(swiper)}swiper.destroyed=true;return null}static extendDefaults(newDefaults){extend2(extendedDefaults,newDefaults)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults}static installModule(mod){if(!_Swiper.prototype.__modules__)_Swiper.prototype.__modules__=[];const modules=_Swiper.prototype.__modules__;if(typeof mod==="function"&&modules.indexOf(mod)<0){modules.push(mod)}}static use(module){if(Array.isArray(module)){module.forEach(m=>_Swiper.installModule(m));return _Swiper}_Swiper.installModule(module);return _Swiper}};Object.keys(prototypes).forEach(prototypeGroup=>{Object.keys(prototypes[prototypeGroup]).forEach(protoMethod=>{Swiper.prototype[protoMethod]=prototypes[prototypeGroup][protoMethod]})});Swiper.use([Resize,Observer]);function createElementIfNotDefined(swiper,originalParams,params,checkProps){if(swiper.params.createElements){Object.keys(checkProps).forEach(key=>{if(!params[key]&&params.auto===true){let element=elementChildren(swiper.el,`.${checkProps[key]}`)[0];if(!element){element=createElement("div",checkProps[key]);element.className=checkProps[key];swiper.el.append(element)}params[key]=element;originalParams[key]=element}})}return params}function Navigation(_ref){let{swiper,extendParams,on,emit}=_ref;extendParams({navigation:{nextEl:null,prevEl:null,hideOnClick:false,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}});swiper.navigation={nextEl:null,prevEl:null};function getEl(el){let res;if(el&&typeof el==="string"&&swiper.isElement){res=swiper.el.querySelector(el)||swiper.hostEl.querySelector(el);if(res)return res}if(el){if(typeof el==="string")res=[...document.querySelectorAll(el)];if(swiper.params.uniqueNavElements&&typeof el==="string"&&res&&res.length>1&&swiper.el.querySelectorAll(el).length===1){res=swiper.el.querySelector(el)}else if(res&&res.length===1){res=res[0]}}if(el&&!res)return el;return res}function toggleEl(el,disabled){const params=swiper.params.navigation;el=makeElementsArray(el);el.forEach(subEl=>{if(subEl){subEl.classList[disabled?"add":"remove"](...params.disabledClass.split(" "));if(subEl.tagName==="BUTTON")subEl.disabled=disabled;if(swiper.params.watchOverflow&&swiper.enabled){subEl.classList[swiper.isLocked?"add":"remove"](params.lockClass)}}})}function update2(){const{nextEl,prevEl}=swiper.navigation;if(swiper.params.loop){toggleEl(prevEl,false);toggleEl(nextEl,false);return}toggleEl(prevEl,swiper.isBeginning&&!swiper.params.rewind);toggleEl(nextEl,swiper.isEnd&&!swiper.params.rewind)}function onPrevClick(e){e.preventDefault();if(swiper.isBeginning&&!swiper.params.loop&&!swiper.params.rewind)return;swiper.slidePrev();emit("navigationPrev")}function onNextClick(e){e.preventDefault();if(swiper.isEnd&&!swiper.params.loop&&!swiper.params.rewind)return;swiper.slideNext();emit("navigationNext")}function init(){const params=swiper.params.navigation;swiper.params.navigation=createElementIfNotDefined(swiper,swiper.originalParams.navigation,swiper.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"});if(!(params.nextEl||params.prevEl))return;let nextEl=getEl(params.nextEl);let prevEl=getEl(params.prevEl);Object.assign(swiper.navigation,{nextEl,prevEl});nextEl=makeElementsArray(nextEl);prevEl=makeElementsArray(prevEl);const initButton=(el,dir)=>{if(el){el.addEventListener("click",dir==="next"?onNextClick:onPrevClick)}if(!swiper.enabled&&el){el.classList.add(...params.lockClass.split(" "))}};nextEl.forEach(el=>initButton(el,"next"));prevEl.forEach(el=>initButton(el,"prev"))}function destroy(){let{nextEl,prevEl}=swiper.navigation;nextEl=makeElementsArray(nextEl);prevEl=makeElementsArray(prevEl);const destroyButton=(el,dir)=>{el.removeEventListener("click",dir==="next"?onNextClick:onPrevClick);el.classList.remove(...swiper.params.navigation.disabledClass.split(" "))};nextEl.forEach(el=>destroyButton(el,"next"));prevEl.forEach(el=>destroyButton(el,"prev"))}on("init",()=>{if(swiper.params.navigation.enabled===false){disable()}else{init();update2()}});on("toEdge fromEdge lock unlock",()=>{update2()});on("destroy",()=>{destroy()});on("enable disable",()=>{let{nextEl,prevEl}=swiper.navigation;nextEl=makeElementsArray(nextEl);prevEl=makeElementsArray(prevEl);if(swiper.enabled){update2();return}[...nextEl,...prevEl].filter(el=>!!el).forEach(el=>el.classList.add(swiper.params.navigation.lockClass))});on("click",(_s,e)=>{let{nextEl,prevEl}=swiper.navigation;nextEl=makeElementsArray(nextEl);prevEl=makeElementsArray(prevEl);const targetEl=e.target;let targetIsButton=prevEl.includes(targetEl)||nextEl.includes(targetEl);if(swiper.isElement&&!targetIsButton){const path=e.path||e.composedPath&&e.composedPath();if(path){targetIsButton=path.find(pathEl=>nextEl.includes(pathEl)||prevEl.includes(pathEl))}}if(swiper.params.navigation.hideOnClick&&!targetIsButton){if(swiper.pagination&&swiper.params.pagination&&swiper.params.pagination.clickable&&(swiper.pagination.el===targetEl||swiper.pagination.el.contains(targetEl)))return;let isHidden;if(nextEl.length){isHidden=nextEl[0].classList.contains(swiper.params.navigation.hiddenClass)}else if(prevEl.length){isHidden=prevEl[0].classList.contains(swiper.params.navigation.hiddenClass)}if(isHidden===true){emit("navigationShow")}else{emit("navigationHide")}[...nextEl,...prevEl].filter(el=>!!el).forEach(el=>el.classList.toggle(swiper.params.navigation.hiddenClass))}});const enable=()=>{swiper.el.classList.remove(...swiper.params.navigation.navigationDisabledClass.split(" "));init();update2()};const disable=()=>{swiper.el.classList.add(...swiper.params.navigation.navigationDisabledClass.split(" "));destroy()};Object.assign(swiper.navigation,{enable,disable,update:update2,init,destroy})}function classesToSelector(classes2){if(classes2===void 0){classes2=""}return`.${classes2.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Pagination(_ref){let{swiper,extendParams,on,emit}=_ref;const pfx="swiper-pagination";extendParams({pagination:{el:null,bulletElement:"span",clickable:false,hideOnClick:false,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:false,type:"bullets",dynamicBullets:false,dynamicMainBullets:1,formatFractionCurrent:number=>number,formatFractionTotal:number=>number,bulletClass:`${pfx}-bullet`,bulletActiveClass:`${pfx}-bullet-active`,modifierClass:`${pfx}-`,currentClass:`${pfx}-current`,totalClass:`${pfx}-total`,hiddenClass:`${pfx}-hidden`,progressbarFillClass:`${pfx}-progressbar-fill`,progressbarOppositeClass:`${pfx}-progressbar-opposite`,clickableClass:`${pfx}-clickable`,lockClass:`${pfx}-lock`,horizontalClass:`${pfx}-horizontal`,verticalClass:`${pfx}-vertical`,paginationDisabledClass:`${pfx}-disabled`}});swiper.pagination={el:null,bullets:[]};let bulletSize;let dynamicBulletIndex=0;function isPaginationDisabled(){return!swiper.params.pagination.el||!swiper.pagination.el||Array.isArray(swiper.pagination.el)&&swiper.pagination.el.length===0}function setSideBullets(bulletEl,position){const{bulletActiveClass}=swiper.params.pagination;if(!bulletEl)return;bulletEl=bulletEl[`${position==="prev"?"previous":"next"}ElementSibling`];if(bulletEl){bulletEl.classList.add(`${bulletActiveClass}-${position}`);bulletEl=bulletEl[`${position==="prev"?"previous":"next"}ElementSibling`];if(bulletEl){bulletEl.classList.add(`${bulletActiveClass}-${position}-${position}`)}}}function getMoveDirection(prevIndex,nextIndex,length){prevIndex=prevIndex%length;nextIndex=nextIndex%length;if(nextIndex===prevIndex+1){return"next"}else if(nextIndex===prevIndex-1){return"previous"}return}function onBulletClick(e){const bulletEl=e.target.closest(classesToSelector(swiper.params.pagination.bulletClass));if(!bulletEl){return}e.preventDefault();const index=elementIndex(bulletEl)*swiper.params.slidesPerGroup;if(swiper.params.loop){if(swiper.realIndex===index)return;const moveDirection=getMoveDirection(swiper.realIndex,index,swiper.slides.length);if(moveDirection==="next"){swiper.slideNext()}else if(moveDirection==="previous"){swiper.slidePrev()}else{swiper.slideToLoop(index)}}else{swiper.slideTo(index)}}function update2(){const rtl=swiper.rtl;const params=swiper.params.pagination;if(isPaginationDisabled())return;let el=swiper.pagination.el;el=makeElementsArray(el);let current;let previousIndex;const slidesLength=swiper.virtual&&swiper.params.virtual.enabled?swiper.virtual.slides.length:swiper.slides.length;const total=swiper.params.loop?Math.ceil(slidesLength/swiper.params.slidesPerGroup):swiper.snapGrid.length;if(swiper.params.loop){previousIndex=swiper.previousRealIndex||0;current=swiper.params.slidesPerGroup>1?Math.floor(swiper.realIndex/swiper.params.slidesPerGroup):swiper.realIndex}else if(typeof swiper.snapIndex!=="undefined"){current=swiper.snapIndex;previousIndex=swiper.previousSnapIndex}else{previousIndex=swiper.previousIndex||0;current=swiper.activeIndex||0}if(params.type==="bullets"&&swiper.pagination.bullets&&swiper.pagination.bullets.length>0){const bullets=swiper.pagination.bullets;let firstIndex;let lastIndex;let midIndex;if(params.dynamicBullets){bulletSize=elementOuterSize(bullets[0],swiper.isHorizontal()?"width":"height",true);el.forEach(subEl=>{subEl.style[swiper.isHorizontal()?"width":"height"]=`${bulletSize*(params.dynamicMainBullets+4)}px`});if(params.dynamicMainBullets>1&&previousIndex!==void 0){dynamicBulletIndex+=current-(previousIndex||0);if(dynamicBulletIndex>params.dynamicMainBullets-1){dynamicBulletIndex=params.dynamicMainBullets-1}else if(dynamicBulletIndex<0){dynamicBulletIndex=0}}firstIndex=Math.max(current-dynamicBulletIndex,0);lastIndex=firstIndex+(Math.min(bullets.length,params.dynamicMainBullets)-1);midIndex=(lastIndex+firstIndex)/2}bullets.forEach(bulletEl=>{const classesToRemove=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(suffix=>`${params.bulletActiveClass}${suffix}`)].map(s=>typeof s==="string"&&s.includes(" ")?s.split(" "):s).flat();bulletEl.classList.remove(...classesToRemove)});if(el.length>1){bullets.forEach(bullet=>{const bulletIndex=elementIndex(bullet);if(bulletIndex===current){bullet.classList.add(...params.bulletActiveClass.split(" "))}else if(swiper.isElement){bullet.setAttribute("part","bullet")}if(params.dynamicBullets){if(bulletIndex>=firstIndex&&bulletIndex<=lastIndex){bullet.classList.add(...`${params.bulletActiveClass}-main`.split(" "))}if(bulletIndex===firstIndex){setSideBullets(bullet,"prev")}if(bulletIndex===lastIndex){setSideBullets(bullet,"next")}}})}else{const bullet=bullets[current];if(bullet){bullet.classList.add(...params.bulletActiveClass.split(" "))}if(swiper.isElement){bullets.forEach((bulletEl,bulletIndex)=>{bulletEl.setAttribute("part",bulletIndex===current?"bullet-active":"bullet")})}if(params.dynamicBullets){const firstDisplayedBullet=bullets[firstIndex];const lastDisplayedBullet=bullets[lastIndex];for(let i=firstIndex;i<=lastIndex;i+=1){if(bullets[i]){bullets[i].classList.add(...`${params.bulletActiveClass}-main`.split(" "))}}setSideBullets(firstDisplayedBullet,"prev");setSideBullets(lastDisplayedBullet,"next")}}if(params.dynamicBullets){const dynamicBulletsLength=Math.min(bullets.length,params.dynamicMainBullets+4);const bulletsOffset=(bulletSize*dynamicBulletsLength-bulletSize)/2-midIndex*bulletSize;const offsetProp=rtl?"right":"left";bullets.forEach(bullet=>{bullet.style[swiper.isHorizontal()?offsetProp:"top"]=`${bulletsOffset}px`})}}el.forEach((subEl,subElIndex)=>{if(params.type==="fraction"){subEl.querySelectorAll(classesToSelector(params.currentClass)).forEach(fractionEl=>{fractionEl.textContent=params.formatFractionCurrent(current+1)});subEl.querySelectorAll(classesToSelector(params.totalClass)).forEach(totalEl=>{totalEl.textContent=params.formatFractionTotal(total)})}if(params.type==="progressbar"){let progressbarDirection;if(params.progressbarOpposite){progressbarDirection=swiper.isHorizontal()?"vertical":"horizontal"}else{progressbarDirection=swiper.isHorizontal()?"horizontal":"vertical"}const scale=(current+1)/total;let scaleX=1;let scaleY=1;if(progressbarDirection==="horizontal"){scaleX=scale}else{scaleY=scale}subEl.querySelectorAll(classesToSelector(params.progressbarFillClass)).forEach(progressEl=>{progressEl.style.transform=`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`;progressEl.style.transitionDuration=`${swiper.params.speed}ms`})}if(params.type==="custom"&&params.renderCustom){setInnerHTML(subEl,params.renderCustom(swiper,current+1,total));if(subElIndex===0)emit("paginationRender",subEl)}else{if(subElIndex===0)emit("paginationRender",subEl);emit("paginationUpdate",subEl)}if(swiper.params.watchOverflow&&swiper.enabled){subEl.classList[swiper.isLocked?"add":"remove"](params.lockClass)}})}function render(){const params=swiper.params.pagination;if(isPaginationDisabled())return;const slidesLength=swiper.virtual&&swiper.params.virtual.enabled?swiper.virtual.slides.length:swiper.grid&&swiper.params.grid.rows>1?swiper.slides.length/Math.ceil(swiper.params.grid.rows):swiper.slides.length;let el=swiper.pagination.el;el=makeElementsArray(el);let paginationHTML="";if(params.type==="bullets"){let numberOfBullets=swiper.params.loop?Math.ceil(slidesLength/swiper.params.slidesPerGroup):swiper.snapGrid.length;if(swiper.params.freeMode&&swiper.params.freeMode.enabled&&numberOfBullets>slidesLength){numberOfBullets=slidesLength}for(let i=0;i<numberOfBullets;i+=1){if(params.renderBullet){paginationHTML+=params.renderBullet.call(swiper,i,params.bulletClass)}else{paginationHTML+=`<${params.bulletElement} ${swiper.isElement?'part="bullet"':""} class="${params.bulletClass}"></${params.bulletElement}>`}}}if(params.type==="fraction"){if(params.renderFraction){paginationHTML=params.renderFraction.call(swiper,params.currentClass,params.totalClass)}else{paginationHTML=`<span class="${params.currentClass}"></span> / <span class="${params.totalClass}"></span>`}}if(params.type==="progressbar"){if(params.renderProgressbar){paginationHTML=params.renderProgressbar.call(swiper,params.progressbarFillClass)}else{paginationHTML=`<span class="${params.progressbarFillClass}"></span>`}}swiper.pagination.bullets=[];el.forEach(subEl=>{if(params.type!=="custom"){setInnerHTML(subEl,paginationHTML||"")}if(params.type==="bullets"){swiper.pagination.bullets.push(...subEl.querySelectorAll(classesToSelector(params.bulletClass)))}});if(params.type!=="custom"){emit("paginationRender",el[0])}}function init(){swiper.params.pagination=createElementIfNotDefined(swiper,swiper.originalParams.pagination,swiper.params.pagination,{el:"swiper-pagination"});const params=swiper.params.pagination;if(!params.el)return;let el;if(typeof params.el==="string"&&swiper.isElement){el=swiper.el.querySelector(params.el)}if(!el&&typeof params.el==="string"){el=[...document.querySelectorAll(params.el)]}if(!el){el=params.el}if(!el||el.length===0)return;if(swiper.params.uniqueNavElements&&typeof params.el==="string"&&Array.isArray(el)&&el.length>1){el=[...swiper.el.querySelectorAll(params.el)];if(el.length>1){el=el.find(subEl=>{if(elementParents(subEl,".swiper")[0]!==swiper.el)return false;return true})}}if(Array.isArray(el)&&el.length===1)el=el[0];Object.assign(swiper.pagination,{el});el=makeElementsArray(el);el.forEach(subEl=>{if(params.type==="bullets"&&params.clickable){subEl.classList.add(...(params.clickableClass||"").split(" "))}subEl.classList.add(params.modifierClass+params.type);subEl.classList.add(swiper.isHorizontal()?params.horizontalClass:params.verticalClass);if(params.type==="bullets"&&params.dynamicBullets){subEl.classList.add(`${params.modifierClass}${params.type}-dynamic`);dynamicBulletIndex=0;if(params.dynamicMainBullets<1){params.dynamicMainBullets=1}}if(params.type==="progressbar"&&params.progressbarOpposite){subEl.classList.add(params.progressbarOppositeClass)}if(params.clickable){subEl.addEventListener("click",onBulletClick)}if(!swiper.enabled){subEl.classList.add(params.lockClass)}})}function destroy(){const params=swiper.params.pagination;if(isPaginationDisabled())return;let el=swiper.pagination.el;if(el){el=makeElementsArray(el);el.forEach(subEl=>{subEl.classList.remove(params.hiddenClass);subEl.classList.remove(params.modifierClass+params.type);subEl.classList.remove(swiper.isHorizontal()?params.horizontalClass:params.verticalClass);if(params.clickable){subEl.classList.remove(...(params.clickableClass||"").split(" "));subEl.removeEventListener("click",onBulletClick)}})}if(swiper.pagination.bullets)swiper.pagination.bullets.forEach(subEl=>subEl.classList.remove(...params.bulletActiveClass.split(" ")))}on("changeDirection",()=>{if(!swiper.pagination||!swiper.pagination.el)return;const params=swiper.params.pagination;let{el}=swiper.pagination;el=makeElementsArray(el);el.forEach(subEl=>{subEl.classList.remove(params.horizontalClass,params.verticalClass);subEl.classList.add(swiper.isHorizontal()?params.horizontalClass:params.verticalClass)})});on("init",()=>{if(swiper.params.pagination.enabled===false){disable()}else{init();render();update2()}});on("activeIndexChange",()=>{if(typeof swiper.snapIndex==="undefined"){update2()}});on("snapIndexChange",()=>{update2()});on("snapGridLengthChange",()=>{render();update2()});on("destroy",()=>{destroy()});on("enable disable",()=>{let{el}=swiper.pagination;if(el){el=makeElementsArray(el);el.forEach(subEl=>subEl.classList[swiper.enabled?"remove":"add"](swiper.params.pagination.lockClass))}});on("lock unlock",()=>{update2()});on("click",(_s,e)=>{const targetEl=e.target;const el=makeElementsArray(swiper.pagination.el);if(swiper.params.pagination.el&&swiper.params.pagination.hideOnClick&&el&&el.length>0&&!targetEl.classList.contains(swiper.params.pagination.bulletClass)){if(swiper.navigation&&(swiper.navigation.nextEl&&targetEl===swiper.navigation.nextEl||swiper.navigation.prevEl&&targetEl===swiper.navigation.prevEl))return;const isHidden=el[0].classList.contains(swiper.params.pagination.hiddenClass);if(isHidden===true){emit("paginationShow")}else{emit("paginationHide")}el.forEach(subEl=>subEl.classList.toggle(swiper.params.pagination.hiddenClass))}});const enable=()=>{swiper.el.classList.remove(swiper.params.pagination.paginationDisabledClass);let{el}=swiper.pagination;if(el){el=makeElementsArray(el);el.forEach(subEl=>subEl.classList.remove(swiper.params.pagination.paginationDisabledClass))}init();render();update2()};const disable=()=>{swiper.el.classList.add(swiper.params.pagination.paginationDisabledClass);let{el}=swiper.pagination;if(el){el=makeElementsArray(el);el.forEach(subEl=>subEl.classList.add(swiper.params.pagination.paginationDisabledClass))}destroy()};Object.assign(swiper.pagination,{enable,disable,render,update:update2,init,destroy})}function Autoplay(_ref){let{swiper,extendParams,on,emit,params}=_ref;swiper.autoplay={running:false,paused:false,timeLeft:0};extendParams({autoplay:{enabled:false,delay:3e3,waitForTransition:true,disableOnInteraction:false,stopOnLastSlide:false,reverseDirection:false,pauseOnMouseEnter:false}});let timeout;let raf;let autoplayDelayTotal=params&&params.autoplay?params.autoplay.delay:3e3;let autoplayDelayCurrent=params&&params.autoplay?params.autoplay.delay:3e3;let autoplayTimeLeft;let autoplayStartTime=new Date().getTime();let wasPaused;let isTouched;let pausedByTouch;let touchStartTimeout;let slideChanged;let pausedByInteraction;let pausedByPointerEnter;function onTransitionEnd(e){if(!swiper||swiper.destroyed||!swiper.wrapperEl)return;if(e.target!==swiper.wrapperEl)return;swiper.wrapperEl.removeEventListener("transitionend",onTransitionEnd);if(pausedByPointerEnter||e.detail&&e.detail.bySwiperTouchMove){return}resume()}const calcTimeLeft=()=>{if(swiper.destroyed||!swiper.autoplay.running)return;if(swiper.autoplay.paused){wasPaused=true}else if(wasPaused){autoplayDelayCurrent=autoplayTimeLeft;wasPaused=false}const timeLeft=swiper.autoplay.paused?autoplayTimeLeft:autoplayStartTime+autoplayDelayCurrent-new Date().getTime();swiper.autoplay.timeLeft=timeLeft;emit("autoplayTimeLeft",timeLeft,timeLeft/autoplayDelayTotal);raf=requestAnimationFrame(()=>{calcTimeLeft()})};const getSlideDelay=()=>{let activeSlideEl;if(swiper.virtual&&swiper.params.virtual.enabled){activeSlideEl=swiper.slides.find(slideEl=>slideEl.classList.contains("swiper-slide-active"))}else{activeSlideEl=swiper.slides[swiper.activeIndex]}if(!activeSlideEl)return void 0;const currentSlideDelay=parseInt(activeSlideEl.getAttribute("data-swiper-autoplay"),10);return currentSlideDelay};const run=delayForce=>{if(swiper.destroyed||!swiper.autoplay.running)return;cancelAnimationFrame(raf);calcTimeLeft();let delay=typeof delayForce==="undefined"?swiper.params.autoplay.delay:delayForce;autoplayDelayTotal=swiper.params.autoplay.delay;autoplayDelayCurrent=swiper.params.autoplay.delay;const currentSlideDelay=getSlideDelay();if(!Number.isNaN(currentSlideDelay)&&currentSlideDelay>0&&typeof delayForce==="undefined"){delay=currentSlideDelay;autoplayDelayTotal=currentSlideDelay;autoplayDelayCurrent=currentSlideDelay}autoplayTimeLeft=delay;const speed=swiper.params.speed;const proceed=()=>{if(!swiper||swiper.destroyed)return;if(swiper.params.autoplay.reverseDirection){if(!swiper.isBeginning||swiper.params.loop||swiper.params.rewind){swiper.slidePrev(speed,true,true);emit("autoplay")}else if(!swiper.params.autoplay.stopOnLastSlide){swiper.slideTo(swiper.slides.length-1,speed,true,true);emit("autoplay")}}else{if(!swiper.isEnd||swiper.params.loop||swiper.params.rewind){swiper.slideNext(speed,true,true);emit("autoplay")}else if(!swiper.params.autoplay.stopOnLastSlide){swiper.slideTo(0,speed,true,true);emit("autoplay")}}if(swiper.params.cssMode){autoplayStartTime=new Date().getTime();requestAnimationFrame(()=>{run()})}};if(delay>0){clearTimeout(timeout);timeout=setTimeout(()=>{proceed()},delay)}else{requestAnimationFrame(()=>{proceed()})}return delay};const start=()=>{autoplayStartTime=new Date().getTime();swiper.autoplay.running=true;run();emit("autoplayStart")};const stop=()=>{swiper.autoplay.running=false;clearTimeout(timeout);cancelAnimationFrame(raf);emit("autoplayStop")};const pause=(internal,reset)=>{if(swiper.destroyed||!swiper.autoplay.running)return;clearTimeout(timeout);if(!internal){pausedByInteraction=true}const proceed=()=>{emit("autoplayPause");if(swiper.params.autoplay.waitForTransition){swiper.wrapperEl.addEventListener("transitionend",onTransitionEnd)}else{resume()}};swiper.autoplay.paused=true;if(reset){if(slideChanged){autoplayTimeLeft=swiper.params.autoplay.delay}slideChanged=false;proceed();return}const delay=autoplayTimeLeft||swiper.params.autoplay.delay;autoplayTimeLeft=delay-(new Date().getTime()-autoplayStartTime);if(swiper.isEnd&&autoplayTimeLeft<0&&!swiper.params.loop)return;if(autoplayTimeLeft<0)autoplayTimeLeft=0;proceed()};const resume=()=>{if(swiper.isEnd&&autoplayTimeLeft<0&&!swiper.params.loop||swiper.destroyed||!swiper.autoplay.running)return;autoplayStartTime=new Date().getTime();if(pausedByInteraction){pausedByInteraction=false;run(autoplayTimeLeft)}else{run()}swiper.autoplay.paused=false;emit("autoplayResume")};const onVisibilityChange=()=>{if(swiper.destroyed||!swiper.autoplay.running)return;const document2=getDocument();if(document2.visibilityState==="hidden"){pausedByInteraction=true;pause(true)}if(document2.visibilityState==="visible"){resume()}};const onPointerEnter=e=>{if(e.pointerType!=="mouse")return;pausedByInteraction=true;pausedByPointerEnter=true;if(swiper.animating||swiper.autoplay.paused)return;pause(true)};const onPointerLeave=e=>{if(e.pointerType!=="mouse")return;pausedByPointerEnter=false;if(swiper.autoplay.paused){resume()}};const attachMouseEvents=()=>{if(swiper.params.autoplay.pauseOnMouseEnter){swiper.el.addEventListener("pointerenter",onPointerEnter);swiper.el.addEventListener("pointerleave",onPointerLeave)}};const detachMouseEvents=()=>{if(swiper.el&&typeof swiper.el!=="string"){swiper.el.removeEventListener("pointerenter",onPointerEnter);swiper.el.removeEventListener("pointerleave",onPointerLeave)}};const attachDocumentEvents=()=>{const document2=getDocument();document2.addEventListener("visibilitychange",onVisibilityChange)};const detachDocumentEvents=()=>{const document2=getDocument();document2.removeEventListener("visibilitychange",onVisibilityChange)};on("init",()=>{if(swiper.params.autoplay.enabled){attachMouseEvents();attachDocumentEvents();start()}});on("destroy",()=>{detachMouseEvents();detachDocumentEvents();if(swiper.autoplay.running){stop()}});on("_freeModeStaticRelease",()=>{if(pausedByTouch||pausedByInteraction){resume()}});on("_freeModeNoMomentumRelease",()=>{if(!swiper.params.autoplay.disableOnInteraction){pause(true,true)}else{stop()}});on("beforeTransitionStart",(_s,speed,internal)=>{if(swiper.destroyed||!swiper.autoplay.running)return;if(internal||!swiper.params.autoplay.disableOnInteraction){pause(true,true)}else{stop()}});on("sliderFirstMove",()=>{if(swiper.destroyed||!swiper.autoplay.running)return;if(swiper.params.autoplay.disableOnInteraction){stop();return}isTouched=true;pausedByTouch=false;pausedByInteraction=false;touchStartTimeout=setTimeout(()=>{pausedByInteraction=true;pausedByTouch=true;pause(true)},200)});on("touchEnd",()=>{if(swiper.destroyed||!swiper.autoplay.running||!isTouched)return;clearTimeout(touchStartTimeout);clearTimeout(timeout);if(swiper.params.autoplay.disableOnInteraction){pausedByTouch=false;isTouched=false;return}if(pausedByTouch&&swiper.params.cssMode)resume();pausedByTouch=false;isTouched=false});on("slideChange",()=>{if(swiper.destroyed||!swiper.autoplay.running)return;slideChanged=true});Object.assign(swiper.autoplay,{start,stop,pause,resume})}function effectInit(params){const{effect,swiper,on,setTranslate:setTranslate2,setTransition:setTransition2,overwriteParams,perspective,recreateShadows,getEffectParams}=params;on("beforeInit",()=>{if(swiper.params.effect!==effect)return;swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);if(perspective&&perspective()){swiper.classNames.push(`${swiper.params.containerModifierClass}3d`)}const overwriteParamsResult=overwriteParams?overwriteParams():{};Object.assign(swiper.params,overwriteParamsResult);Object.assign(swiper.originalParams,overwriteParamsResult)});on("setTranslate _virtualUpdated",()=>{if(swiper.params.effect!==effect)return;setTranslate2()});on("setTransition",(_s,duration)=>{if(swiper.params.effect!==effect)return;setTransition2(duration)});on("transitionEnd",()=>{if(swiper.params.effect!==effect)return;if(recreateShadows){if(!getEffectParams||!getEffectParams().slideShadows)return;swiper.slides.forEach(slideEl=>{slideEl.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(shadowEl=>shadowEl.remove())});recreateShadows()}});let requireUpdateOnVirtual;on("virtualUpdate",()=>{if(swiper.params.effect!==effect)return;if(!swiper.slides.length){requireUpdateOnVirtual=true}requestAnimationFrame(()=>{if(requireUpdateOnVirtual&&swiper.slides&&swiper.slides.length){setTranslate2();requireUpdateOnVirtual=false}})})}function effectTarget(effectParams,slideEl){const transformEl=getSlideTransformEl(slideEl);if(transformEl!==slideEl){transformEl.style.backfaceVisibility="hidden";transformEl.style["-webkit-backface-visibility"]="hidden"}return transformEl}function effectVirtualTransitionEnd(_ref){let{swiper,duration,transformElements,allSlides}=_ref;const{activeIndex}=swiper;const getSlide=el=>{if(!el.parentElement){const slide2=swiper.slides.find(slideEl=>slideEl.shadowRoot&&slideEl.shadowRoot===el.parentNode);return slide2}return el.parentElement};if(swiper.params.virtualTranslate&&duration!==0){let eventTriggered=false;let transitionEndTarget;if(allSlides){transitionEndTarget=transformElements}else{transitionEndTarget=transformElements.filter(transformEl=>{const el=transformEl.classList.contains("swiper-slide-transform")?getSlide(transformEl):transformEl;return swiper.getSlideIndex(el)===activeIndex})}transitionEndTarget.forEach(el=>{elementTransitionEnd(el,()=>{if(eventTriggered)return;if(!swiper||swiper.destroyed)return;eventTriggered=true;swiper.animating=false;const evt=new window.CustomEvent("transitionend",{bubbles:true,cancelable:true});swiper.wrapperEl.dispatchEvent(evt)})})}}function EffectFade(_ref){let{swiper,extendParams,on}=_ref;extendParams({fadeEffect:{crossFade:false}});const setTranslate2=()=>{const{slides}=swiper;const params=swiper.params.fadeEffect;for(let i=0;i<slides.length;i+=1){const slideEl=swiper.slides[i];const offset=slideEl.swiperSlideOffset;let tx=-offset;if(!swiper.params.virtualTranslate)tx-=swiper.translate;let ty=0;if(!swiper.isHorizontal()){ty=tx;tx=0}const slideOpacity=swiper.params.fadeEffect.crossFade?Math.max(1-Math.abs(slideEl.progress),0):1+Math.min(Math.max(slideEl.progress,-1),0);const targetEl=effectTarget(params,slideEl);targetEl.style.opacity=slideOpacity;targetEl.style.transform=`translate3d(${tx}px, ${ty}px, 0px)`}};const setTransition2=duration=>{const transformElements=swiper.slides.map(slideEl=>getSlideTransformEl(slideEl));transformElements.forEach(el=>{el.style.transitionDuration=`${duration}ms`});effectVirtualTransitionEnd({swiper,duration,transformElements,allSlides:true})};effectInit({effect:"fade",swiper,on,setTranslate:setTranslate2,setTransition:setTransition2,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:true,spaceBetween:0,virtualTranslate:!swiper.params.cssMode})})}document.addEventListener("DOMContentLoaded",function(){initSliders()});var initSliders=()=>{new Swiper(".hero-slider",{modules:[EffectFade,Autoplay],loop:true,effect:"fade",fadeEffect:{crossFade:true},autoplay:{delay:5e3}});new Swiper(".company-review-slider",{modules:[Navigation],slidesPerView:2,spaceBetween:24,loop:true,direction:"vertical",navigation:{nextEl:".company-review-slider-block__next-btn"},breakpoints:{768:{direction:"horizontal"}}});new Swiper(".service-block-slider",{modules:[Autoplay,Navigation],slidesPerView:"auto",spaceBetween:20,loop:true,breakpoints:{768:{slidesPerView:3},1200:{slidesPerView:2}},autoplay:{delay:5e3},navigation:{nextEl:".service-block-slider-wrapper__next-btn"}});new Swiper(".info-slider",{modules:[EffectFade,Navigation,Pagination],loop:true,navigation:{nextEl:".info-block__next-btn",prevEl:".info-block__prev-btn"},pagination:{el:".info-slider-section__pagination",type:"bullets"}});new Swiper(".testimonial-slider",{modules:[EffectFade,Navigation,Pagination],loop:true,navigation:{nextEl:".testimonial-block__next-btn",prevEl:".testimonial-block__prev-btn"},pagination:{el:".testimonial-section__pagination",type:"bullets"}});new Swiper(".statistics-slider",{modules:[Pagination],slidesPerView:1,spaceBetween:24,loop:true,breakpoints:{768:{slidesPerView:2}},pagination:{el:".statistics-slider__pagination",type:"bullets"}})};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzIiwgIm5vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL3V0aWxzLm1qcyIsICJub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9zd2lwZXItY29yZS5tanMiLCAibm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzIiwgIm5vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9uYXZpZ2F0aW9uLm1qcyIsICJub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9jbGFzc2VzLXRvLXNlbGVjdG9yLm1qcyIsICJub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvcGFnaW5hdGlvbi5tanMiLCAibm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2F1dG9wbGF5Lm1qcyIsICJub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9lZmZlY3QtaW5pdC5tanMiLCAibm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZWZmZWN0LXRhcmdldC5tanMiLCAibm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQubWpzIiwgIm5vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9lZmZlY3QtZmFkZS5tanMiLCAic3JjL3NjcmlwdHMvaW5kZXguanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogU1NSIFdpbmRvdyA1LjAuMVxuICogQmV0dGVyIGhhbmRsaW5nIGZvciB3aW5kb3cgb2JqZWN0IGluIFNTUiBlbnZpcm9ubWVudFxuICogaHR0cHM6Ly9naXRodWIuY29tL25vbGltaXRzNHdlYi9zc3Itd2luZG93XG4gKlxuICogQ29weXJpZ2h0IDIwMjUsIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgTUlUXG4gKlxuICogUmVsZWFzZWQgb246IEp1bmUgMjcsIDIwMjVcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICdjb25zdHJ1Y3RvcicgaW4gb2JqICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc3JjKSB7XG4gIGlmICh0YXJnZXQgPT09IHZvaWQgMCkge1xuICAgIHRhcmdldCA9IHt9O1xuICB9XG4gIGlmIChzcmMgPT09IHZvaWQgMCkge1xuICAgIHNyYyA9IHt9O1xuICB9XG4gIGNvbnN0IG5vRXh0ZW5kID0gWydfX3Byb3RvX18nLCAnY29uc3RydWN0b3InLCAncHJvdG90eXBlJ107XG4gIE9iamVjdC5rZXlzKHNyYykuZmlsdGVyKGtleSA9PiBub0V4dGVuZC5pbmRleE9mKGtleSkgPCAwKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0YXJnZXRba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHRhcmdldFtrZXldID0gc3JjW2tleV07ZWxzZSBpZiAoaXNPYmplY3Qoc3JjW2tleV0pICYmIGlzT2JqZWN0KHRhcmdldFtrZXldKSAmJiBPYmplY3Qua2V5cyhzcmNba2V5XSkubGVuZ3RoID4gMCkge1xuICAgICAgZXh0ZW5kKHRhcmdldFtrZXldLCBzcmNba2V5XSk7XG4gICAgfVxuICB9KTtcbn1cbmNvbnN0IHNzckRvY3VtZW50ID0ge1xuICBib2R5OiB7fSxcbiAgYWRkRXZlbnRMaXN0ZW5lcigpIHt9LFxuICByZW1vdmVFdmVudExpc3RlbmVyKCkge30sXG4gIGFjdGl2ZUVsZW1lbnQ6IHtcbiAgICBibHVyKCkge30sXG4gICAgbm9kZU5hbWU6ICcnXG4gIH0sXG4gIHF1ZXJ5U2VsZWN0b3IoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHF1ZXJ5U2VsZWN0b3JBbGwoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9LFxuICBnZXRFbGVtZW50QnlJZCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgY3JlYXRlRXZlbnQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluaXRFdmVudCgpIHt9XG4gICAgfTtcbiAgfSxcbiAgY3JlYXRlRWxlbWVudCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgY2hpbGROb2RlczogW10sXG4gICAgICBzdHlsZToge30sXG4gICAgICBzZXRBdHRyaWJ1dGUoKSB7fSxcbiAgICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lKCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgY3JlYXRlRWxlbWVudE5TKCkge1xuICAgIHJldHVybiB7fTtcbiAgfSxcbiAgaW1wb3J0Tm9kZSgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgbG9jYXRpb246IHtcbiAgICBoYXNoOiAnJyxcbiAgICBob3N0OiAnJyxcbiAgICBob3N0bmFtZTogJycsXG4gICAgaHJlZjogJycsXG4gICAgb3JpZ2luOiAnJyxcbiAgICBwYXRobmFtZTogJycsXG4gICAgcHJvdG9jb2w6ICcnLFxuICAgIHNlYXJjaDogJydcbiAgfVxufTtcbmZ1bmN0aW9uIGdldERvY3VtZW50KCkge1xuICBjb25zdCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiB7fTtcbiAgZXh0ZW5kKGRvYywgc3NyRG9jdW1lbnQpO1xuICByZXR1cm4gZG9jO1xufVxuY29uc3Qgc3NyV2luZG93ID0ge1xuICBkb2N1bWVudDogc3NyRG9jdW1lbnQsXG4gIG5hdmlnYXRvcjoge1xuICAgIHVzZXJBZ2VudDogJydcbiAgfSxcbiAgbG9jYXRpb246IHtcbiAgICBoYXNoOiAnJyxcbiAgICBob3N0OiAnJyxcbiAgICBob3N0bmFtZTogJycsXG4gICAgaHJlZjogJycsXG4gICAgb3JpZ2luOiAnJyxcbiAgICBwYXRobmFtZTogJycsXG4gICAgcHJvdG9jb2w6ICcnLFxuICAgIHNlYXJjaDogJydcbiAgfSxcbiAgaGlzdG9yeToge1xuICAgIHJlcGxhY2VTdGF0ZSgpIHt9LFxuICAgIHB1c2hTdGF0ZSgpIHt9LFxuICAgIGdvKCkge30sXG4gICAgYmFjaygpIHt9XG4gIH0sXG4gIEN1c3RvbUV2ZW50OiBmdW5jdGlvbiBDdXN0b21FdmVudCgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkRXZlbnRMaXN0ZW5lcigpIHt9LFxuICByZW1vdmVFdmVudExpc3RlbmVyKCkge30sXG4gIGdldENvbXB1dGVkU3R5bGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFByb3BlcnR5VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBJbWFnZSgpIHt9LFxuICBEYXRlKCkge30sXG4gIHNjcmVlbjoge30sXG4gIHNldFRpbWVvdXQoKSB7fSxcbiAgY2xlYXJUaW1lb3V0KCkge30sXG4gIG1hdGNoTWVkaWEoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbiAgfSxcbiAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpIHtcbiAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyVGltZW91dChpZCk7XG4gIH1cbn07XG5mdW5jdGlvbiBnZXRXaW5kb3coKSB7XG4gIGNvbnN0IHdpbiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4gIGV4dGVuZCh3aW4sIHNzcldpbmRvdyk7XG4gIHJldHVybiB3aW47XG59XG5cbmV4cG9ydCB7IGdldFdpbmRvdyBhcyBhLCBnZXREb2N1bWVudCBhcyBnIH07XG4iLCAiaW1wb3J0IHsgYSBhcyBnZXRXaW5kb3csIGcgYXMgZ2V0RG9jdW1lbnQgfSBmcm9tICcuL3Nzci13aW5kb3cuZXNtLm1qcyc7XG5cbmZ1bmN0aW9uIGNsYXNzZXNUb1Rva2VucyhjbGFzc2VzKSB7XG4gIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICBjbGFzc2VzID0gJyc7XG4gIH1cbiAgcmV0dXJuIGNsYXNzZXMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKGMgPT4gISFjLnRyaW0oKSk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVByb3BzKG9iaikge1xuICBjb25zdCBvYmplY3QgPSBvYmo7XG4gIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaChrZXkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBvYmplY3Rba2V5XSA9IG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gbm8gZ2V0dGVyIGZvciBvYmplY3RcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZSBvYmplY3Rba2V5XTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzb21ldGhpbmcgZ290IHdyb25nXG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG5leHRUaWNrKGNhbGxiYWNrLCBkZWxheSkge1xuICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgIGRlbGF5ID0gMDtcbiAgfVxuICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xufVxuZnVuY3Rpb24gbm93KCkge1xuICByZXR1cm4gRGF0ZS5ub3coKTtcbn1cbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUoZWwpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBzdHlsZTtcbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCk7XG4gIH1cbiAgaWYgKCFzdHlsZSAmJiBlbC5jdXJyZW50U3R5bGUpIHtcbiAgICBzdHlsZSA9IGVsLmN1cnJlbnRTdHlsZTtcbiAgfVxuICBpZiAoIXN0eWxlKSB7XG4gICAgc3R5bGUgPSBlbC5zdHlsZTtcbiAgfVxuICByZXR1cm4gc3R5bGU7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2xhdGUoZWwsIGF4aXMpIHtcbiAgaWYgKGF4aXMgPT09IHZvaWQgMCkge1xuICAgIGF4aXMgPSAneCc7XG4gIH1cbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBtYXRyaXg7XG4gIGxldCBjdXJUcmFuc2Zvcm07XG4gIGxldCB0cmFuc2Zvcm1NYXRyaXg7XG4gIGNvbnN0IGN1clN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSB7XG4gICAgY3VyVHJhbnNmb3JtID0gY3VyU3R5bGUudHJhbnNmb3JtIHx8IGN1clN0eWxlLndlYmtpdFRyYW5zZm9ybTtcbiAgICBpZiAoY3VyVHJhbnNmb3JtLnNwbGl0KCcsJykubGVuZ3RoID4gNikge1xuICAgICAgY3VyVHJhbnNmb3JtID0gY3VyVHJhbnNmb3JtLnNwbGl0KCcsICcpLm1hcChhID0+IGEucmVwbGFjZSgnLCcsICcuJykpLmpvaW4oJywgJyk7XG4gICAgfVxuICAgIC8vIFNvbWUgb2xkIHZlcnNpb25zIG9mIFdlYmtpdCBjaG9rZSB3aGVuICdub25lJyBpcyBwYXNzZWQ7IHBhc3NcbiAgICAvLyBlbXB0eSBzdHJpbmcgaW5zdGVhZCBpbiB0aGlzIGNhc2VcbiAgICB0cmFuc2Zvcm1NYXRyaXggPSBuZXcgd2luZG93LldlYktpdENTU01hdHJpeChjdXJUcmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogY3VyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2Zvcm1NYXRyaXggPSBjdXJTdHlsZS5Nb3pUcmFuc2Zvcm0gfHwgY3VyU3R5bGUuT1RyYW5zZm9ybSB8fCBjdXJTdHlsZS5Nc1RyYW5zZm9ybSB8fCBjdXJTdHlsZS5tc1RyYW5zZm9ybSB8fCBjdXJTdHlsZS50cmFuc2Zvcm0gfHwgY3VyU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgndHJhbnNmb3JtJykucmVwbGFjZSgndHJhbnNsYXRlKCcsICdtYXRyaXgoMSwgMCwgMCwgMSwnKTtcbiAgICBtYXRyaXggPSB0cmFuc2Zvcm1NYXRyaXgudG9TdHJpbmcoKS5zcGxpdCgnLCcpO1xuICB9XG4gIGlmIChheGlzID09PSAneCcpIHtcbiAgICAvLyBMYXRlc3QgQ2hyb21lIGFuZCB3ZWJraXRzIEZpeFxuICAgIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSBjdXJUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1NYXRyaXgubTQxO1xuICAgIC8vIENyYXp5IElFMTAgTWF0cml4XG4gICAgZWxzZSBpZiAobWF0cml4Lmxlbmd0aCA9PT0gMTYpIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzEyXSk7XG4gICAgLy8gTm9ybWFsIEJyb3dzZXJzXG4gICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs0XSk7XG4gIH1cbiAgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgIC8vIExhdGVzdCBDaHJvbWUgYW5kIHdlYmtpdHMgRml4XG4gICAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIGN1clRyYW5zZm9ybSA9IHRyYW5zZm9ybU1hdHJpeC5tNDI7XG4gICAgLy8gQ3JhenkgSUUxMCBNYXRyaXhcbiAgICBlbHNlIGlmIChtYXRyaXgubGVuZ3RoID09PSAxNikgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbMTNdKTtcbiAgICAvLyBOb3JtYWwgQnJvd3NlcnNcbiAgICBlbHNlIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzVdKTtcbiAgfVxuICByZXR1cm4gY3VyVHJhbnNmb3JtIHx8IDA7XG59XG5mdW5jdGlvbiBpc09iamVjdChvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgbyAhPT0gbnVsbCAmJiBvLmNvbnN0cnVjdG9yICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSkgPT09ICdPYmplY3QnO1xufVxuZnVuY3Rpb24gaXNOb2RlKG5vZGUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LkhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIG5vZGUgJiYgKG5vZGUubm9kZVR5cGUgPT09IDEgfHwgbm9kZS5ub2RlVHlwZSA9PT0gMTEpO1xufVxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICBjb25zdCB0byA9IE9iamVjdChhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0pO1xuICBjb25zdCBub0V4dGVuZCA9IFsnX19wcm90b19fJywgJ2NvbnN0cnVjdG9yJywgJ3Byb3RvdHlwZSddO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IG5leHRTb3VyY2UgPSBpIDwgMCB8fCBhcmd1bWVudHMubGVuZ3RoIDw9IGkgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbaV07XG4gICAgaWYgKG5leHRTb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBuZXh0U291cmNlICE9PSBudWxsICYmICFpc05vZGUobmV4dFNvdXJjZSkpIHtcbiAgICAgIGNvbnN0IGtleXNBcnJheSA9IE9iamVjdC5rZXlzKE9iamVjdChuZXh0U291cmNlKSkuZmlsdGVyKGtleSA9PiBub0V4dGVuZC5pbmRleE9mKGtleSkgPCAwKTtcbiAgICAgIGZvciAobGV0IG5leHRJbmRleCA9IDAsIGxlbiA9IGtleXNBcnJheS5sZW5ndGg7IG5leHRJbmRleCA8IGxlbjsgbmV4dEluZGV4ICs9IDEpIHtcbiAgICAgICAgY29uc3QgbmV4dEtleSA9IGtleXNBcnJheVtuZXh0SW5kZXhdO1xuICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuZXh0U291cmNlLCBuZXh0S2V5KTtcbiAgICAgICAgaWYgKGRlc2MgIT09IHVuZGVmaW5lZCAmJiBkZXNjLmVudW1lcmFibGUpIHtcbiAgICAgICAgICBpZiAoaXNPYmplY3QodG9bbmV4dEtleV0pICYmIGlzT2JqZWN0KG5leHRTb3VyY2VbbmV4dEtleV0pKSB7XG4gICAgICAgICAgICBpZiAobmV4dFNvdXJjZVtuZXh0S2V5XS5fX3N3aXBlcl9fKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4dGVuZCh0b1tuZXh0S2V5XSwgbmV4dFNvdXJjZVtuZXh0S2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICghaXNPYmplY3QodG9bbmV4dEtleV0pICYmIGlzT2JqZWN0KG5leHRTb3VyY2VbbmV4dEtleV0pKSB7XG4gICAgICAgICAgICB0b1tuZXh0S2V5XSA9IHt9O1xuICAgICAgICAgICAgaWYgKG5leHRTb3VyY2VbbmV4dEtleV0uX19zd2lwZXJfXykge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHRlbmQodG9bbmV4dEtleV0sIG5leHRTb3VyY2VbbmV4dEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbmZ1bmN0aW9uIHNldENTU1Byb3BlcnR5KGVsLCB2YXJOYW1lLCB2YXJWYWx1ZSkge1xuICBlbC5zdHlsZS5zZXRQcm9wZXJ0eSh2YXJOYW1lLCB2YXJWYWx1ZSk7XG59XG5mdW5jdGlvbiBhbmltYXRlQ1NTTW9kZVNjcm9sbChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIHRhcmdldFBvc2l0aW9uLFxuICAgIHNpZGVcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBzdGFydFBvc2l0aW9uID0gLXN3aXBlci50cmFuc2xhdGU7XG4gIGxldCBzdGFydFRpbWUgPSBudWxsO1xuICBsZXQgdGltZTtcbiAgY29uc3QgZHVyYXRpb24gPSBzd2lwZXIucGFyYW1zLnNwZWVkO1xuICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlID0gJ25vbmUnO1xuICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoc3dpcGVyLmNzc01vZGVGcmFtZUlEKTtcbiAgY29uc3QgZGlyID0gdGFyZ2V0UG9zaXRpb24gPiBzdGFydFBvc2l0aW9uID8gJ25leHQnIDogJ3ByZXYnO1xuICBjb25zdCBpc091dE9mQm91bmQgPSAoY3VycmVudCwgdGFyZ2V0KSA9PiB7XG4gICAgcmV0dXJuIGRpciA9PT0gJ25leHQnICYmIGN1cnJlbnQgPj0gdGFyZ2V0IHx8IGRpciA9PT0gJ3ByZXYnICYmIGN1cnJlbnQgPD0gdGFyZ2V0O1xuICB9O1xuICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xuICAgIHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBpZiAoc3RhcnRUaW1lID09PSBudWxsKSB7XG4gICAgICBzdGFydFRpbWUgPSB0aW1lO1xuICAgIH1cbiAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKCh0aW1lIC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uLCAxKSwgMCk7XG4gICAgY29uc3QgZWFzZVByb2dyZXNzID0gMC41IC0gTWF0aC5jb3MocHJvZ3Jlc3MgKiBNYXRoLlBJKSAvIDI7XG4gICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb24gKyBlYXNlUHJvZ3Jlc3MgKiAodGFyZ2V0UG9zaXRpb24gLSBzdGFydFBvc2l0aW9uKTtcbiAgICBpZiAoaXNPdXRPZkJvdW5kKGN1cnJlbnRQb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb24pKSB7XG4gICAgICBjdXJyZW50UG9zaXRpb24gPSB0YXJnZXRQb3NpdGlvbjtcbiAgICB9XG4gICAgc3dpcGVyLndyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICBbc2lkZV06IGN1cnJlbnRQb3NpdGlvblxuICAgIH0pO1xuICAgIGlmIChpc091dE9mQm91bmQoY3VycmVudFBvc2l0aW9uLCB0YXJnZXRQb3NpdGlvbikpIHtcbiAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgICAgIFtzaWRlXTogY3VycmVudFBvc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoc3dpcGVyLmNzc01vZGVGcmFtZUlEKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpcGVyLmNzc01vZGVGcmFtZUlEID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgfTtcbiAgYW5pbWF0ZSgpO1xufVxuZnVuY3Rpb24gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSB7XG4gIHJldHVybiBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtdHJhbnNmb3JtJykgfHwgc2xpZGVFbC5zaGFkb3dSb290ICYmIHNsaWRlRWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXRyYW5zZm9ybScpIHx8IHNsaWRlRWw7XG59XG5mdW5jdGlvbiBlbGVtZW50Q2hpbGRyZW4oZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgaWYgKHNlbGVjdG9yID09PSB2b2lkIDApIHtcbiAgICBzZWxlY3RvciA9ICcnO1xuICB9XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBjaGlsZHJlbiA9IFsuLi5lbGVtZW50LmNoaWxkcmVuXTtcbiAgaWYgKHdpbmRvdy5IVE1MU2xvdEVsZW1lbnQgJiYgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTbG90RWxlbWVudCkge1xuICAgIGNoaWxkcmVuLnB1c2goLi4uZWxlbWVudC5hc3NpZ25lZEVsZW1lbnRzKCkpO1xuICB9XG4gIGlmICghc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgcmV0dXJuIGNoaWxkcmVuLmZpbHRlcihlbCA9PiBlbC5tYXRjaGVzKHNlbGVjdG9yKSk7XG59XG5mdW5jdGlvbiBlbGVtZW50SXNDaGlsZE9mU2xvdChlbCwgc2xvdCkge1xuICAvLyBCcmVhZHRoLWZpcnN0IHNlYXJjaCB0aHJvdWdoIGFsbCBwYXJlbnQncyBjaGlsZHJlbiBhbmQgYXNzaWduZWQgZWxlbWVudHNcbiAgY29uc3QgZWxlbWVudHNRdWV1ZSA9IFtzbG90XTtcbiAgd2hpbGUgKGVsZW1lbnRzUXVldWUubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGVsZW1lbnRUb0NoZWNrID0gZWxlbWVudHNRdWV1ZS5zaGlmdCgpO1xuICAgIGlmIChlbCA9PT0gZWxlbWVudFRvQ2hlY2spIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbGVtZW50c1F1ZXVlLnB1c2goLi4uZWxlbWVudFRvQ2hlY2suY2hpbGRyZW4sIC4uLihlbGVtZW50VG9DaGVjay5zaGFkb3dSb290ID8gZWxlbWVudFRvQ2hlY2suc2hhZG93Um9vdC5jaGlsZHJlbiA6IFtdKSwgLi4uKGVsZW1lbnRUb0NoZWNrLmFzc2lnbmVkRWxlbWVudHMgPyBlbGVtZW50VG9DaGVjay5hc3NpZ25lZEVsZW1lbnRzKCkgOiBbXSkpO1xuICB9XG59XG5mdW5jdGlvbiBlbGVtZW50SXNDaGlsZE9mKGVsLCBwYXJlbnQpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBpc0NoaWxkID0gcGFyZW50LmNvbnRhaW5zKGVsKTtcbiAgaWYgKCFpc0NoaWxkICYmIHdpbmRvdy5IVE1MU2xvdEVsZW1lbnQgJiYgcGFyZW50IGluc3RhbmNlb2YgSFRNTFNsb3RFbGVtZW50KSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbLi4ucGFyZW50LmFzc2lnbmVkRWxlbWVudHMoKV07XG4gICAgaXNDaGlsZCA9IGNoaWxkcmVuLmluY2x1ZGVzKGVsKTtcbiAgICBpZiAoIWlzQ2hpbGQpIHtcbiAgICAgIGlzQ2hpbGQgPSBlbGVtZW50SXNDaGlsZE9mU2xvdChlbCwgcGFyZW50KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlzQ2hpbGQ7XG59XG5mdW5jdGlvbiBzaG93V2FybmluZyh0ZXh0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS53YXJuKHRleHQpO1xuICAgIHJldHVybjtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gZXJyXG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnLCBjbGFzc2VzKSB7XG4gIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICBjbGFzc2VzID0gW107XG4gIH1cbiAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoLi4uKEFycmF5LmlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlc1RvVG9rZW5zKGNsYXNzZXMpKSk7XG4gIHJldHVybiBlbDtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRPZmZzZXQoZWwpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICBjb25zdCBjbGllbnRUb3AgPSBlbC5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMDtcbiAgY29uc3QgY2xpZW50TGVmdCA9IGVsLmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG4gIGNvbnN0IHNjcm9sbFRvcCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWSA6IGVsLnNjcm9sbFRvcDtcbiAgY29uc3Qgc2Nyb2xsTGVmdCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWCA6IGVsLnNjcm9sbExlZnQ7XG4gIHJldHVybiB7XG4gICAgdG9wOiBib3gudG9wICsgc2Nyb2xsVG9wIC0gY2xpZW50VG9wLFxuICAgIGxlZnQ6IGJveC5sZWZ0ICsgc2Nyb2xsTGVmdCAtIGNsaWVudExlZnRcbiAgfTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRQcmV2QWxsKGVsLCBzZWxlY3Rvcikge1xuICBjb25zdCBwcmV2RWxzID0gW107XG4gIHdoaWxlIChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgY29uc3QgcHJldiA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChwcmV2Lm1hdGNoZXMoc2VsZWN0b3IpKSBwcmV2RWxzLnB1c2gocHJldik7XG4gICAgfSBlbHNlIHByZXZFbHMucHVzaChwcmV2KTtcbiAgICBlbCA9IHByZXY7XG4gIH1cbiAgcmV0dXJuIHByZXZFbHM7XG59XG5mdW5jdGlvbiBlbGVtZW50TmV4dEFsbChlbCwgc2VsZWN0b3IpIHtcbiAgY29uc3QgbmV4dEVscyA9IFtdO1xuICB3aGlsZSAoZWwubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgY29uc3QgbmV4dCA9IGVsLm5leHRFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKG5leHQubWF0Y2hlcyhzZWxlY3RvcikpIG5leHRFbHMucHVzaChuZXh0KTtcbiAgICB9IGVsc2UgbmV4dEVscy5wdXNoKG5leHQpO1xuICAgIGVsID0gbmV4dDtcbiAgfVxuICByZXR1cm4gbmV4dEVscztcbn1cbmZ1bmN0aW9uIGVsZW1lbnRTdHlsZShlbCwgcHJvcCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApO1xufVxuZnVuY3Rpb24gZWxlbWVudEluZGV4KGVsKSB7XG4gIGxldCBjaGlsZCA9IGVsO1xuICBsZXQgaTtcbiAgaWYgKGNoaWxkKSB7XG4gICAgaSA9IDA7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKChjaGlsZCA9IGNoaWxkLnByZXZpb3VzU2libGluZykgIT09IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgaSArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZWxlbWVudFBhcmVudHMoZWwsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB3aGlsZSAocGFyZW50KSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAocGFyZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBwYXJlbnRzO1xufVxuZnVuY3Rpb24gZWxlbWVudFRyYW5zaXRpb25FbmQoZWwsIGNhbGxiYWNrKSB7XG4gIGZ1bmN0aW9uIGZpcmVDYWxsQmFjayhlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSBlbCkgcmV0dXJuO1xuICAgIGNhbGxiYWNrLmNhbGwoZWwsIGUpO1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG59XG5mdW5jdGlvbiBlbGVtZW50T3V0ZXJTaXplKGVsLCBzaXplLCBpbmNsdWRlTWFyZ2lucykge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgaWYgKGluY2x1ZGVNYXJnaW5zKSB7XG4gICAgcmV0dXJuIGVsW3NpemUgPT09ICd3aWR0aCcgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCddICsgcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShzaXplID09PSAnd2lkdGgnID8gJ21hcmdpbi1yaWdodCcgOiAnbWFyZ2luLXRvcCcpKSArIHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoc2l6ZSA9PT0gJ3dpZHRoJyA/ICdtYXJnaW4tbGVmdCcgOiAnbWFyZ2luLWJvdHRvbScpKTtcbiAgfVxuICByZXR1cm4gZWwub2Zmc2V0V2lkdGg7XG59XG5mdW5jdGlvbiBtYWtlRWxlbWVudHNBcnJheShlbCkge1xuICByZXR1cm4gKEFycmF5LmlzQXJyYXkoZWwpID8gZWwgOiBbZWxdKS5maWx0ZXIoZSA9PiAhIWUpO1xufVxuZnVuY3Rpb24gZ2V0Um90YXRlRml4KHN3aXBlcikge1xuICByZXR1cm4gdiA9PiB7XG4gICAgaWYgKE1hdGguYWJzKHYpID4gMCAmJiBzd2lwZXIuYnJvd3NlciAmJiBzd2lwZXIuYnJvd3Nlci5uZWVkM2RGaXggJiYgTWF0aC5hYnModikgJSA5MCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHYgKyAwLjAwMTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG4gIH07XG59XG5mdW5jdGlvbiBzZXRJbm5lckhUTUwoZWwsIGh0bWwpIHtcbiAgaWYgKGh0bWwgPT09IHZvaWQgMCkge1xuICAgIGh0bWwgPSAnJztcbiAgfVxuICBpZiAodHlwZW9mIHRydXN0ZWRUeXBlcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbC5pbm5lckhUTUwgPSB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCdodG1sJywge1xuICAgICAgY3JlYXRlSFRNTDogcyA9PiBzXG4gICAgfSkuY3JlYXRlSFRNTChodG1sKTtcbiAgfSBlbHNlIHtcbiAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xuICB9XG59XG5cbmV4cG9ydCB7IHNldENTU1Byb3BlcnR5IGFzIGEsIGVsZW1lbnRQYXJlbnRzIGFzIGIsIGNyZWF0ZUVsZW1lbnQgYXMgYywgZWxlbWVudE9mZnNldCBhcyBkLCBlbGVtZW50Q2hpbGRyZW4gYXMgZSwgbm93IGFzIGYsIGdldFNsaWRlVHJhbnNmb3JtRWwgYXMgZywgZWxlbWVudE91dGVyU2l6ZSBhcyBoLCBlbGVtZW50SW5kZXggYXMgaSwgY2xhc3Nlc1RvVG9rZW5zIGFzIGosIGdldFRyYW5zbGF0ZSBhcyBrLCBlbGVtZW50VHJhbnNpdGlvbkVuZCBhcyBsLCBtYWtlRWxlbWVudHNBcnJheSBhcyBtLCBuZXh0VGljayBhcyBuLCBpc09iamVjdCBhcyBvLCBnZXRSb3RhdGVGaXggYXMgcCwgZWxlbWVudFN0eWxlIGFzIHEsIGVsZW1lbnROZXh0QWxsIGFzIHIsIHNldElubmVySFRNTCBhcyBzLCBlbGVtZW50UHJldkFsbCBhcyB0LCBhbmltYXRlQ1NTTW9kZVNjcm9sbCBhcyB1LCBzaG93V2FybmluZyBhcyB2LCBlbGVtZW50SXNDaGlsZE9mIGFzIHcsIGV4dGVuZCBhcyB4LCBkZWxldGVQcm9wcyBhcyB5IH07XG4iLCAiaW1wb3J0IHsgYSBhcyBnZXRXaW5kb3csIGcgYXMgZ2V0RG9jdW1lbnQgfSBmcm9tICcuL3Nzci13aW5kb3cuZXNtLm1qcyc7XG5pbXBvcnQgeyBiIGFzIGVsZW1lbnRQYXJlbnRzLCBxIGFzIGVsZW1lbnRTdHlsZSwgZSBhcyBlbGVtZW50Q2hpbGRyZW4sIGEgYXMgc2V0Q1NTUHJvcGVydHksIGggYXMgZWxlbWVudE91dGVyU2l6ZSwgciBhcyBlbGVtZW50TmV4dEFsbCwgdCBhcyBlbGVtZW50UHJldkFsbCwgayBhcyBnZXRUcmFuc2xhdGUsIHUgYXMgYW5pbWF0ZUNTU01vZGVTY3JvbGwsIG4gYXMgbmV4dFRpY2ssIHYgYXMgc2hvd1dhcm5pbmcsIGMgYXMgY3JlYXRlRWxlbWVudCwgdyBhcyBlbGVtZW50SXNDaGlsZE9mLCBmIGFzIG5vdywgeCBhcyBleHRlbmQsIGkgYXMgZWxlbWVudEluZGV4LCB5IGFzIGRlbGV0ZVByb3BzIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5sZXQgc3VwcG9ydDtcbmZ1bmN0aW9uIGNhbGNTdXBwb3J0KCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICByZXR1cm4ge1xuICAgIHNtb290aFNjcm9sbDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiAnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgICB0b3VjaDogISEoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpXG4gIH07XG59XG5mdW5jdGlvbiBnZXRTdXBwb3J0KCkge1xuICBpZiAoIXN1cHBvcnQpIHtcbiAgICBzdXBwb3J0ID0gY2FsY1N1cHBvcnQoKTtcbiAgfVxuICByZXR1cm4gc3VwcG9ydDtcbn1cblxubGV0IGRldmljZUNhY2hlZDtcbmZ1bmN0aW9uIGNhbGNEZXZpY2UoX3RlbXApIHtcbiAgbGV0IHtcbiAgICB1c2VyQWdlbnRcbiAgfSA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wO1xuICBjb25zdCBzdXBwb3J0ID0gZ2V0U3VwcG9ydCgpO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgcGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtO1xuICBjb25zdCB1YSA9IHVzZXJBZ2VudCB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgY29uc3QgZGV2aWNlID0ge1xuICAgIGlvczogZmFsc2UsXG4gICAgYW5kcm9pZDogZmFsc2VcbiAgfTtcbiAgY29uc3Qgc2NyZWVuV2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoO1xuICBjb25zdCBzY3JlZW5IZWlnaHQgPSB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgY29uc3QgYW5kcm9pZCA9IHVhLm1hdGNoKC8oQW5kcm9pZCk7P1tcXHNcXC9dKyhbXFxkLl0rKT8vKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBsZXQgaXBhZCA9IHVhLm1hdGNoKC8oaVBhZCkuKk9TXFxzKFtcXGRfXSspLyk7XG4gIGNvbnN0IGlwb2QgPSB1YS5tYXRjaCgvKGlQb2QpKC4qT1NcXHMoW1xcZF9dKykpPy8pO1xuICBjb25zdCBpcGhvbmUgPSAhaXBhZCAmJiB1YS5tYXRjaCgvKGlQaG9uZVxcc09TfGlPUylcXHMoW1xcZF9dKykvKTtcbiAgY29uc3Qgd2luZG93cyA9IHBsYXRmb3JtID09PSAnV2luMzInO1xuICBsZXQgbWFjb3MgPSBwbGF0Zm9ybSA9PT0gJ01hY0ludGVsJztcblxuICAvLyBpUGFkT3MgMTMgZml4XG4gIGNvbnN0IGlQYWRTY3JlZW5zID0gWycxMDI0eDEzNjYnLCAnMTM2NngxMDI0JywgJzgzNHgxMTk0JywgJzExOTR4ODM0JywgJzgzNHgxMTEyJywgJzExMTJ4ODM0JywgJzc2OHgxMDI0JywgJzEwMjR4NzY4JywgJzgyMHgxMTgwJywgJzExODB4ODIwJywgJzgxMHgxMDgwJywgJzEwODB4ODEwJ107XG4gIGlmICghaXBhZCAmJiBtYWNvcyAmJiBzdXBwb3J0LnRvdWNoICYmIGlQYWRTY3JlZW5zLmluZGV4T2YoYCR7c2NyZWVuV2lkdGh9eCR7c2NyZWVuSGVpZ2h0fWApID49IDApIHtcbiAgICBpcGFkID0gdWEubWF0Y2goLyhWZXJzaW9uKVxcLyhbXFxkLl0rKS8pO1xuICAgIGlmICghaXBhZCkgaXBhZCA9IFswLCAxLCAnMTNfMF8wJ107XG4gICAgbWFjb3MgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIEFuZHJvaWRcbiAgaWYgKGFuZHJvaWQgJiYgIXdpbmRvd3MpIHtcbiAgICBkZXZpY2Uub3MgPSAnYW5kcm9pZCc7XG4gICAgZGV2aWNlLmFuZHJvaWQgPSB0cnVlO1xuICB9XG4gIGlmIChpcGFkIHx8IGlwaG9uZSB8fCBpcG9kKSB7XG4gICAgZGV2aWNlLm9zID0gJ2lvcyc7XG4gICAgZGV2aWNlLmlvcyA9IHRydWU7XG4gIH1cblxuICAvLyBFeHBvcnQgb2JqZWN0XG4gIHJldHVybiBkZXZpY2U7XG59XG5mdW5jdGlvbiBnZXREZXZpY2Uob3ZlcnJpZGVzKSB7XG4gIGlmIChvdmVycmlkZXMgPT09IHZvaWQgMCkge1xuICAgIG92ZXJyaWRlcyA9IHt9O1xuICB9XG4gIGlmICghZGV2aWNlQ2FjaGVkKSB7XG4gICAgZGV2aWNlQ2FjaGVkID0gY2FsY0RldmljZShvdmVycmlkZXMpO1xuICB9XG4gIHJldHVybiBkZXZpY2VDYWNoZWQ7XG59XG5cbmxldCBicm93c2VyO1xuZnVuY3Rpb24gY2FsY0Jyb3dzZXIoKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBkZXZpY2UgPSBnZXREZXZpY2UoKTtcbiAgbGV0IG5lZWRQZXJzcGVjdGl2ZUZpeCA9IGZhbHNlO1xuICBmdW5jdGlvbiBpc1NhZmFyaSgpIHtcbiAgICBjb25zdCB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIHVhLmluZGV4T2YoJ3NhZmFyaScpID49IDAgJiYgdWEuaW5kZXhPZignY2hyb21lJykgPCAwICYmIHVhLmluZGV4T2YoJ2FuZHJvaWQnKSA8IDA7XG4gIH1cbiAgaWYgKGlzU2FmYXJpKCkpIHtcbiAgICBjb25zdCB1YSA9IFN0cmluZyh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKHVhLmluY2x1ZGVzKCdWZXJzaW9uLycpKSB7XG4gICAgICBjb25zdCBbbWFqb3IsIG1pbm9yXSA9IHVhLnNwbGl0KCdWZXJzaW9uLycpWzFdLnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKS5tYXAobnVtID0+IE51bWJlcihudW0pKTtcbiAgICAgIG5lZWRQZXJzcGVjdGl2ZUZpeCA9IG1ham9yIDwgMTYgfHwgbWFqb3IgPT09IDE2ICYmIG1pbm9yIDwgMjtcbiAgICB9XG4gIH1cbiAgY29uc3QgaXNXZWJWaWV3ID0gLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgY29uc3QgaXNTYWZhcmlCcm93c2VyID0gaXNTYWZhcmkoKTtcbiAgY29uc3QgbmVlZDNkRml4ID0gaXNTYWZhcmlCcm93c2VyIHx8IGlzV2ViVmlldyAmJiBkZXZpY2UuaW9zO1xuICByZXR1cm4ge1xuICAgIGlzU2FmYXJpOiBuZWVkUGVyc3BlY3RpdmVGaXggfHwgaXNTYWZhcmlCcm93c2VyLFxuICAgIG5lZWRQZXJzcGVjdGl2ZUZpeCxcbiAgICBuZWVkM2RGaXgsXG4gICAgaXNXZWJWaWV3XG4gIH07XG59XG5mdW5jdGlvbiBnZXRCcm93c2VyKCkge1xuICBpZiAoIWJyb3dzZXIpIHtcbiAgICBicm93c2VyID0gY2FsY0Jyb3dzZXIoKTtcbiAgfVxuICByZXR1cm4gYnJvd3Nlcjtcbn1cblxuZnVuY3Rpb24gUmVzaXplKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBvYnNlcnZlciA9IG51bGw7XG4gIGxldCBhbmltYXRpb25GcmFtZSA9IG51bGw7XG4gIGNvbnN0IHJlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgZW1pdCgnYmVmb3JlUmVzaXplJyk7XG4gICAgZW1pdCgncmVzaXplJyk7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZU9ic2VydmVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodFxuICAgICAgICB9ID0gc3dpcGVyO1xuICAgICAgICBsZXQgbmV3V2lkdGggPSB3aWR0aDtcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKF9yZWYyID0+IHtcbiAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgY29udGVudEJveFNpemUsXG4gICAgICAgICAgICBjb250ZW50UmVjdCxcbiAgICAgICAgICAgIHRhcmdldFxuICAgICAgICAgIH0gPSBfcmVmMjtcbiAgICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldCAhPT0gc3dpcGVyLmVsKSByZXR1cm47XG4gICAgICAgICAgbmV3V2lkdGggPSBjb250ZW50UmVjdCA/IGNvbnRlbnRSZWN0LndpZHRoIDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5pbmxpbmVTaXplO1xuICAgICAgICAgIG5ld0hlaWdodCA9IGNvbnRlbnRSZWN0ID8gY29udGVudFJlY3QuaGVpZ2h0IDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5ibG9ja1NpemU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobmV3V2lkdGggIT09IHdpZHRoIHx8IG5ld0hlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgcmVzaXplSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHN3aXBlci5lbCk7XG4gIH07XG4gIGNvbnN0IHJlbW92ZU9ic2VydmVyID0gKCkgPT4ge1xuICAgIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lKTtcbiAgICB9XG4gICAgaWYgKG9ic2VydmVyICYmIG9ic2VydmVyLnVub2JzZXJ2ZSAmJiBzd2lwZXIuZWwpIHtcbiAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShzd2lwZXIuZWwpO1xuICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIGVtaXQoJ29yaWVudGF0aW9uY2hhbmdlJyk7XG4gIH07XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnJlc2l6ZU9ic2VydmVyICYmIHR5cGVvZiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjcmVhdGVPYnNlcnZlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIHJlbW92ZU9ic2VydmVyKCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBPYnNlcnZlcihfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBjb25zdCBvYnNlcnZlcnMgPSBbXTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGF0dGFjaCA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGNvbnN0IE9ic2VydmVyRnVuYyA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJraXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyRnVuYyhtdXRhdGlvbnMgPT4ge1xuICAgICAgLy8gVGhlIG9ic2VydmVyVXBkYXRlIGV2ZW50IHNob3VsZCBvbmx5IGJlIHRyaWdnZXJlZFxuICAgICAgLy8gb25jZSBkZXNwaXRlIHRoZSBudW1iZXIgb2YgbXV0YXRpb25zLiAgQWRkaXRpb25hbFxuICAgICAgLy8gdHJpZ2dlcnMgYXJlIHJlZHVuZGFudCBhbmQgYXJlIHZlcnkgY29zdGx5XG4gICAgICBpZiAoc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18pIHJldHVybjtcbiAgICAgIGlmIChtdXRhdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGVtaXQoJ29ic2VydmVyVXBkYXRlJywgbXV0YXRpb25zWzBdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgb2JzZXJ2ZXJVcGRhdGUgPSBmdW5jdGlvbiBvYnNlcnZlclVwZGF0ZSgpIHtcbiAgICAgICAgZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgfTtcbiAgICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob2JzZXJ2ZXJVcGRhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQob2JzZXJ2ZXJVcGRhdGUsIDApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCB7XG4gICAgICBhdHRyaWJ1dGVzOiB0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGVzID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmF0dHJpYnV0ZXMsXG4gICAgICBjaGlsZExpc3Q6IHN3aXBlci5pc0VsZW1lbnQgfHwgKHR5cGVvZiBvcHRpb25zLmNoaWxkTGlzdCA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucykuY2hpbGRMaXN0LFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHlwZW9mIG9wdGlvbnMuY2hhcmFjdGVyRGF0YSA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5jaGFyYWN0ZXJEYXRhXG4gICAgfSk7XG4gICAgb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICB9O1xuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5vYnNlcnZlcikgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLm9ic2VydmVQYXJlbnRzKSB7XG4gICAgICBjb25zdCBjb250YWluZXJQYXJlbnRzID0gZWxlbWVudFBhcmVudHMoc3dpcGVyLmhvc3RFbCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lclBhcmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXR0YWNoKGNvbnRhaW5lclBhcmVudHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBPYnNlcnZlIGNvbnRhaW5lclxuICAgIGF0dGFjaChzd2lwZXIuaG9zdEVsLCB7XG4gICAgICBjaGlsZExpc3Q6IHN3aXBlci5wYXJhbXMub2JzZXJ2ZVNsaWRlQ2hpbGRyZW5cbiAgICB9KTtcblxuICAgIC8vIE9ic2VydmUgd3JhcHBlclxuICAgIGF0dGFjaChzd2lwZXIud3JhcHBlckVsLCB7XG4gICAgICBhdHRyaWJ1dGVzOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBkZXN0cm95ID0gKCkgPT4ge1xuICAgIG9ic2VydmVycy5mb3JFYWNoKG9ic2VydmVyID0+IHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9KTtcbiAgICBvYnNlcnZlcnMuc3BsaWNlKDAsIG9ic2VydmVycy5sZW5ndGgpO1xuICB9O1xuICBleHRlbmRQYXJhbXMoe1xuICAgIG9ic2VydmVyOiBmYWxzZSxcbiAgICBvYnNlcnZlUGFyZW50czogZmFsc2UsXG4gICAgb2JzZXJ2ZVNsaWRlQ2hpbGRyZW46IGZhbHNlXG4gIH0pO1xuICBvbignaW5pdCcsIGluaXQpO1xuICBvbignZGVzdHJveScsIGRlc3Ryb3kpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSAqL1xuXG52YXIgZXZlbnRzRW1pdHRlciA9IHtcbiAgb24oZXZlbnRzLCBoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgY29uc3QgbWV0aG9kID0gcHJpb3JpdHkgPyAndW5zaGlmdCcgOiAncHVzaCc7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdID0gW107XG4gICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF1bbWV0aG9kXShoYW5kbGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb25jZShldmVudHMsIGhhbmRsZXIsIHByaW9yaXR5KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcbiAgICBmdW5jdGlvbiBvbmNlSGFuZGxlcigpIHtcbiAgICAgIHNlbGYub2ZmKGV2ZW50cywgb25jZUhhbmRsZXIpO1xuICAgICAgaWYgKG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5KSB7XG4gICAgICAgIGRlbGV0ZSBvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgaGFuZGxlci5hcHBseShzZWxmLCBhcmdzKTtcbiAgICB9XG4gICAgb25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHkgPSBoYW5kbGVyO1xuICAgIHJldHVybiBzZWxmLm9uKGV2ZW50cywgb25jZUhhbmRsZXIsIHByaW9yaXR5KTtcbiAgfSxcbiAgb25BbnkoaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIGNvbnN0IG1ldGhvZCA9IHByaW9yaXR5ID8gJ3Vuc2hpZnQnIDogJ3B1c2gnO1xuICAgIGlmIChzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpIDwgMCkge1xuICAgICAgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnNbbWV0aG9kXShoYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIG9mZkFueShoYW5kbGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0FueUxpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgY29uc3QgaW5kZXggPSBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb2ZmKGV2ZW50cywgaGFuZGxlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5mb3JFYWNoKChldmVudEhhbmRsZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50SGFuZGxlciA9PT0gaGFuZGxlciB8fCBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgJiYgZXZlbnRIYW5kbGVyLl9fZW1pdHRlclByb3h5ID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBlbWl0KCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIGxldCBldmVudHM7XG4gICAgbGV0IGRhdGE7XG4gICAgbGV0IGNvbnRleHQ7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycgfHwgQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgZXZlbnRzID0gYXJnc1swXTtcbiAgICAgIGRhdGEgPSBhcmdzLnNsaWNlKDEsIGFyZ3MubGVuZ3RoKTtcbiAgICAgIGNvbnRleHQgPSBzZWxmO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmVudHMgPSBhcmdzWzBdLmV2ZW50cztcbiAgICAgIGRhdGEgPSBhcmdzWzBdLmRhdGE7XG4gICAgICBjb250ZXh0ID0gYXJnc1swXS5jb250ZXh0IHx8IHNlbGY7XG4gICAgfVxuICAgIGRhdGEudW5zaGlmdChjb250ZXh0KTtcbiAgICBjb25zdCBldmVudHNBcnJheSA9IEFycmF5LmlzQXJyYXkoZXZlbnRzKSA/IGV2ZW50cyA6IGV2ZW50cy5zcGxpdCgnICcpO1xuICAgIGV2ZW50c0FycmF5LmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5mb3JFYWNoKGV2ZW50SGFuZGxlciA9PiB7XG4gICAgICAgICAgZXZlbnRIYW5kbGVyLmFwcGx5KGNvbnRleHQsIFtldmVudCwgLi4uZGF0YV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxmLmV2ZW50c0xpc3RlbmVycyAmJiBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goZXZlbnRIYW5kbGVyID0+IHtcbiAgICAgICAgICBldmVudEhhbmRsZXIuYXBwbHkoY29udGV4dCwgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9XG59O1xuXG5mdW5jdGlvbiB1cGRhdGVTaXplKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBsZXQgd2lkdGg7XG4gIGxldCBoZWlnaHQ7XG4gIGNvbnN0IGVsID0gc3dpcGVyLmVsO1xuICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMud2lkdGggIT09ICd1bmRlZmluZWQnICYmIHN3aXBlci5wYXJhbXMud2lkdGggIT09IG51bGwpIHtcbiAgICB3aWR0aCA9IHN3aXBlci5wYXJhbXMud2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgd2lkdGggPSBlbC5jbGllbnRXaWR0aDtcbiAgfVxuICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMuaGVpZ2h0ICE9PSAndW5kZWZpbmVkJyAmJiBzd2lwZXIucGFyYW1zLmhlaWdodCAhPT0gbnVsbCkge1xuICAgIGhlaWdodCA9IHN3aXBlci5wYXJhbXMuaGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGhlaWdodCA9IGVsLmNsaWVudEhlaWdodDtcbiAgfVxuICBpZiAod2lkdGggPT09IDAgJiYgc3dpcGVyLmlzSG9yaXpvbnRhbCgpIHx8IGhlaWdodCA9PT0gMCAmJiBzd2lwZXIuaXNWZXJ0aWNhbCgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gU3VidHJhY3QgcGFkZGluZ3NcbiAgd2lkdGggPSB3aWR0aCAtIHBhcnNlSW50KGVsZW1lbnRTdHlsZShlbCwgJ3BhZGRpbmctbGVmdCcpIHx8IDAsIDEwKSAtIHBhcnNlSW50KGVsZW1lbnRTdHlsZShlbCwgJ3BhZGRpbmctcmlnaHQnKSB8fCAwLCAxMCk7XG4gIGhlaWdodCA9IGhlaWdodCAtIHBhcnNlSW50KGVsZW1lbnRTdHlsZShlbCwgJ3BhZGRpbmctdG9wJykgfHwgMCwgMTApIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1ib3R0b20nKSB8fCAwLCAxMCk7XG4gIGlmIChOdW1iZXIuaXNOYU4od2lkdGgpKSB3aWR0aCA9IDA7XG4gIGlmIChOdW1iZXIuaXNOYU4oaGVpZ2h0KSkgaGVpZ2h0ID0gMDtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgc2l6ZTogc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gd2lkdGggOiBoZWlnaHRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShub2RlLCBsYWJlbCkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KG5vZGUuZ2V0UHJvcGVydHlWYWx1ZShzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwobGFiZWwpKSB8fCAwKTtcbiAgfVxuICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBjb25zdCB7XG4gICAgd3JhcHBlckVsLFxuICAgIHNsaWRlc0VsLFxuICAgIHNpemU6IHN3aXBlclNpemUsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgd3JvbmdSVExcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgY29uc3QgcHJldmlvdXNTbGlkZXNMZW5ndGggPSBpc1ZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gIGNvbnN0IHNsaWRlcyA9IGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICBjb25zdCBzbGlkZXNMZW5ndGggPSBpc1ZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogc2xpZGVzLmxlbmd0aDtcbiAgbGV0IHNuYXBHcmlkID0gW107XG4gIGNvbnN0IHNsaWRlc0dyaWQgPSBbXTtcbiAgY29uc3Qgc2xpZGVzU2l6ZXNHcmlkID0gW107XG4gIGxldCBvZmZzZXRCZWZvcmUgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlO1xuICBpZiAodHlwZW9mIG9mZnNldEJlZm9yZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmUuY2FsbChzd2lwZXIpO1xuICB9XG4gIGxldCBvZmZzZXRBZnRlciA9IHBhcmFtcy5zbGlkZXNPZmZzZXRBZnRlcjtcbiAgaWYgKHR5cGVvZiBvZmZzZXRBZnRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9mZnNldEFmdGVyID0gcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyLmNhbGwoc3dpcGVyKTtcbiAgfVxuICBjb25zdCBwcmV2aW91c1NuYXBHcmlkTGVuZ3RoID0gc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcbiAgY29uc3QgcHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoID0gc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoO1xuICBsZXQgc3BhY2VCZXR3ZWVuID0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgbGV0IHNsaWRlUG9zaXRpb24gPSAtb2Zmc2V0QmVmb3JlO1xuICBsZXQgcHJldlNsaWRlU2l6ZSA9IDA7XG4gIGxldCBpbmRleCA9IDA7XG4gIGlmICh0eXBlb2Ygc3dpcGVyU2l6ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnICYmIHNwYWNlQmV0d2Vlbi5pbmRleE9mKCclJykgPj0gMCkge1xuICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuLnJlcGxhY2UoJyUnLCAnJykpIC8gMTAwICogc3dpcGVyU2l6ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3BhY2VCZXR3ZWVuID09PSAnc3RyaW5nJykge1xuICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuKTtcbiAgfVxuICBzd2lwZXIudmlydHVhbFNpemUgPSAtc3BhY2VCZXR3ZWVuO1xuXG4gIC8vIHJlc2V0IG1hcmdpbnNcbiAgc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgaWYgKHJ0bCkge1xuICAgICAgc2xpZGVFbC5zdHlsZS5tYXJnaW5MZWZ0ID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlRWwuc3R5bGUubWFyZ2luUmlnaHQgPSAnJztcbiAgICB9XG4gICAgc2xpZGVFbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnJztcbiAgICBzbGlkZUVsLnN0eWxlLm1hcmdpblRvcCA9ICcnO1xuICB9KTtcblxuICAvLyByZXNldCBjc3NNb2RlIG9mZnNldHNcbiAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgIHNldENTU1Byb3BlcnR5KHdyYXBwZXJFbCwgJy0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1iZWZvcmUnLCAnJyk7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWFmdGVyJywgJycpO1xuICB9XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDEgJiYgc3dpcGVyLmdyaWQ7XG4gIGlmIChncmlkRW5hYmxlZCkge1xuICAgIHN3aXBlci5ncmlkLmluaXRTbGlkZXMoc2xpZGVzKTtcbiAgfSBlbHNlIGlmIChzd2lwZXIuZ3JpZCkge1xuICAgIHN3aXBlci5ncmlkLnVuc2V0U2xpZGVzKCk7XG4gIH1cblxuICAvLyBDYWxjIHNsaWRlc1xuICBsZXQgc2xpZGVTaXplO1xuICBjb25zdCBzaG91bGRSZXNldFNsaWRlU2l6ZSA9IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgcGFyYW1zLmJyZWFrcG9pbnRzICYmIE9iamVjdC5rZXlzKHBhcmFtcy5icmVha3BvaW50cykuZmlsdGVyKGtleSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBwYXJhbXMuYnJlYWtwb2ludHNba2V5XS5zbGlkZXNQZXJWaWV3ICE9PSAndW5kZWZpbmVkJztcbiAgfSkubGVuZ3RoID4gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNMZW5ndGg7IGkgKz0gMSkge1xuICAgIHNsaWRlU2l6ZSA9IDA7XG4gICAgbGV0IHNsaWRlO1xuICAgIGlmIChzbGlkZXNbaV0pIHNsaWRlID0gc2xpZGVzW2ldO1xuICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgc3dpcGVyLmdyaWQudXBkYXRlU2xpZGUoaSwgc2xpZGUsIHNsaWRlcyk7XG4gICAgfVxuICAgIGlmIChzbGlkZXNbaV0gJiYgZWxlbWVudFN0eWxlKHNsaWRlLCAnZGlzcGxheScpID09PSAnbm9uZScpIGNvbnRpbnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgICAgaWYgKHNob3VsZFJlc2V0U2xpZGVTaXplKSB7XG4gICAgICAgIHNsaWRlc1tpXS5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYGA7XG4gICAgICB9XG4gICAgICBjb25zdCBzbGlkZVN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoc2xpZGUpO1xuICAgICAgY29uc3QgY3VycmVudFRyYW5zZm9ybSA9IHNsaWRlLnN0eWxlLnRyYW5zZm9ybTtcbiAgICAgIGNvbnN0IGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0gPSBzbGlkZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm07XG4gICAgICBpZiAoY3VycmVudFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFdlYktpdFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgICAgICBzbGlkZVNpemUgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBlbGVtZW50T3V0ZXJTaXplKHNsaWRlLCAnd2lkdGgnLCB0cnVlKSA6IGVsZW1lbnRPdXRlclNpemUoc2xpZGUsICdoZWlnaHQnLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBjb25zdCB3aWR0aCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICd3aWR0aCcpO1xuICAgICAgICBjb25zdCBwYWRkaW5nTGVmdCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdwYWRkaW5nLWxlZnQnKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgY29uc3QgbWFyZ2luTGVmdCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdtYXJnaW4tbGVmdCcpO1xuICAgICAgICBjb25zdCBtYXJnaW5SaWdodCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdtYXJnaW4tcmlnaHQnKTtcbiAgICAgICAgY29uc3QgYm94U2l6aW5nID0gc2xpZGVTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnYm94LXNpemluZycpO1xuICAgICAgICBpZiAoYm94U2l6aW5nICYmIGJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgc2xpZGVTaXplID0gd2lkdGggKyBtYXJnaW5MZWZ0ICsgbWFyZ2luUmlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBvZmZzZXRXaWR0aFxuICAgICAgICAgIH0gPSBzbGlkZTtcbiAgICAgICAgICBzbGlkZVNpemUgPSB3aWR0aCArIHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0ICsgbWFyZ2luTGVmdCArIG1hcmdpblJpZ2h0ICsgKG9mZnNldFdpZHRoIC0gY2xpZW50V2lkdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS50cmFuc2Zvcm0gPSBjdXJyZW50VHJhbnNmb3JtO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgc2xpZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gY3VycmVudFdlYktpdFRyYW5zZm9ybTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVNpemUgPSBNYXRoLmZsb29yKHNsaWRlU2l6ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlU2l6ZSA9IChzd2lwZXJTaXplIC0gKHBhcmFtcy5zbGlkZXNQZXJWaWV3IC0gMSkgKiBzcGFjZUJldHdlZW4pIC8gcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVTaXplID0gTWF0aC5mbG9vcihzbGlkZVNpemUpO1xuICAgICAgaWYgKHNsaWRlc1tpXSkge1xuICAgICAgICBzbGlkZXNbaV0uc3R5bGVbc3dpcGVyLmdldERpcmVjdGlvbkxhYmVsKCd3aWR0aCcpXSA9IGAke3NsaWRlU2l6ZX1weGA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzbGlkZXNbaV0pIHtcbiAgICAgIHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemUgPSBzbGlkZVNpemU7XG4gICAgfVxuICAgIHNsaWRlc1NpemVzR3JpZC5wdXNoKHNsaWRlU2l6ZSk7XG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gKyBzbGlkZVNpemUgLyAyICsgcHJldlNsaWRlU2l6ZSAvIDIgKyBzcGFjZUJldHdlZW47XG4gICAgICBpZiAocHJldlNsaWRlU2l6ZSA9PT0gMCAmJiBpICE9PSAwKSBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiAtIHN3aXBlclNpemUgLyAyIC0gc3BhY2VCZXR3ZWVuO1xuICAgICAgaWYgKGkgPT09IDApIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uIC0gc3dpcGVyU2l6ZSAvIDIgLSBzcGFjZUJldHdlZW47XG4gICAgICBpZiAoTWF0aC5hYnMoc2xpZGVQb3NpdGlvbikgPCAxIC8gMTAwMCkgc2xpZGVQb3NpdGlvbiA9IDA7XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVQb3NpdGlvbiA9IE1hdGguZmxvb3Ioc2xpZGVQb3NpdGlvbik7XG4gICAgICBpZiAoaW5kZXggJSBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDApIHNuYXBHcmlkLnB1c2goc2xpZGVQb3NpdGlvbik7XG4gICAgICBzbGlkZXNHcmlkLnB1c2goc2xpZGVQb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVBvc2l0aW9uID0gTWF0aC5mbG9vcihzbGlkZVBvc2l0aW9uKTtcbiAgICAgIGlmICgoaW5kZXggLSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgaW5kZXgpKSAlIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDApIHNuYXBHcmlkLnB1c2goc2xpZGVQb3NpdGlvbik7XG4gICAgICBzbGlkZXNHcmlkLnB1c2goc2xpZGVQb3NpdGlvbik7XG4gICAgICBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiArIHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbjtcbiAgICB9XG4gICAgc3dpcGVyLnZpcnR1YWxTaXplICs9IHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbjtcbiAgICBwcmV2U2xpZGVTaXplID0gc2xpZGVTaXplO1xuICAgIGluZGV4ICs9IDE7XG4gIH1cbiAgc3dpcGVyLnZpcnR1YWxTaXplID0gTWF0aC5tYXgoc3dpcGVyLnZpcnR1YWxTaXplLCBzd2lwZXJTaXplKSArIG9mZnNldEFmdGVyO1xuICBpZiAocnRsICYmIHdyb25nUlRMICYmIChwYXJhbXMuZWZmZWN0ID09PSAnc2xpZGUnIHx8IHBhcmFtcy5lZmZlY3QgPT09ICdjb3ZlcmZsb3cnKSkge1xuICAgIHdyYXBwZXJFbC5zdHlsZS53aWR0aCA9IGAke3N3aXBlci52aXJ0dWFsU2l6ZSArIHNwYWNlQmV0d2Vlbn1weGA7XG4gIH1cbiAgaWYgKHBhcmFtcy5zZXRXcmFwcGVyU2l6ZSkge1xuICAgIHdyYXBwZXJFbC5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgc3BhY2VCZXR3ZWVufXB4YDtcbiAgfVxuICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICBzd2lwZXIuZ3JpZC51cGRhdGVXcmFwcGVyU2l6ZShzbGlkZVNpemUsIHNuYXBHcmlkKTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBsYXN0IGdyaWQgZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdpZHRoXG4gIGlmICghcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgY29uc3QgbmV3U2xpZGVzR3JpZCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc25hcEdyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGxldCBzbGlkZXNHcmlkSXRlbSA9IHNuYXBHcmlkW2ldO1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlc0dyaWRJdGVtID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkSXRlbSk7XG4gICAgICBpZiAoc25hcEdyaWRbaV0gPD0gc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSkge1xuICAgICAgICBuZXdTbGlkZXNHcmlkLnB1c2goc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgICBzbmFwR3JpZCA9IG5ld1NsaWRlc0dyaWQ7XG4gICAgaWYgKE1hdGguZmxvb3Ioc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSkgLSBNYXRoLmZsb29yKHNuYXBHcmlkW3NuYXBHcmlkLmxlbmd0aCAtIDFdKSA+IDEpIHtcbiAgICAgIHNuYXBHcmlkLnB1c2goc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSk7XG4gICAgfVxuICB9XG4gIGlmIChpc1ZpcnR1YWwgJiYgcGFyYW1zLmxvb3ApIHtcbiAgICBjb25zdCBzaXplID0gc2xpZGVzU2l6ZXNHcmlkWzBdICsgc3BhY2VCZXR3ZWVuO1xuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxKSB7XG4gICAgICBjb25zdCBncm91cHMgPSBNYXRoLmNlaWwoKHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0FmdGVyKSAvIHBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gICAgICBjb25zdCBncm91cFNpemUgPSBzaXplICogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHM7IGkgKz0gMSkge1xuICAgICAgICBzbmFwR3JpZC5wdXNoKHNuYXBHcmlkW3NuYXBHcmlkLmxlbmd0aCAtIDFdICsgZ3JvdXBTaXplKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmUgKyBzd2lwZXIudmlydHVhbC5zbGlkZXNBZnRlcjsgaSArPSAxKSB7XG4gICAgICBpZiAocGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxKSB7XG4gICAgICAgIHNuYXBHcmlkLnB1c2goc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0gKyBzaXplKTtcbiAgICAgIH1cbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZXNHcmlkW3NsaWRlc0dyaWQubGVuZ3RoIC0gMV0gKyBzaXplKTtcbiAgICAgIHN3aXBlci52aXJ0dWFsU2l6ZSArPSBzaXplO1xuICAgIH1cbiAgfVxuICBpZiAoc25hcEdyaWQubGVuZ3RoID09PSAwKSBzbmFwR3JpZCA9IFswXTtcbiAgaWYgKHNwYWNlQmV0d2VlbiAhPT0gMCkge1xuICAgIGNvbnN0IGtleSA9IHN3aXBlci5pc0hvcml6b250YWwoKSAmJiBydGwgPyAnbWFyZ2luTGVmdCcgOiBzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ21hcmdpblJpZ2h0Jyk7XG4gICAgc2xpZGVzLmZpbHRlcigoXywgc2xpZGVJbmRleCkgPT4ge1xuICAgICAgaWYgKCFwYXJhbXMuY3NzTW9kZSB8fCBwYXJhbXMubG9vcCkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoc2xpZGVJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIHNsaWRlRWwuc3R5bGVba2V5XSA9IGAke3NwYWNlQmV0d2Vlbn1weGA7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXNCb3VuZHMpIHtcbiAgICBsZXQgYWxsU2xpZGVzU2l6ZSA9IDA7XG4gICAgc2xpZGVzU2l6ZXNHcmlkLmZvckVhY2goc2xpZGVTaXplVmFsdWUgPT4ge1xuICAgICAgYWxsU2xpZGVzU2l6ZSArPSBzbGlkZVNpemVWYWx1ZSArIChzcGFjZUJldHdlZW4gfHwgMCk7XG4gICAgfSk7XG4gICAgYWxsU2xpZGVzU2l6ZSAtPSBzcGFjZUJldHdlZW47XG4gICAgY29uc3QgbWF4U25hcCA9IGFsbFNsaWRlc1NpemUgPiBzd2lwZXJTaXplID8gYWxsU2xpZGVzU2l6ZSAtIHN3aXBlclNpemUgOiAwO1xuICAgIHNuYXBHcmlkID0gc25hcEdyaWQubWFwKHNuYXAgPT4ge1xuICAgICAgaWYgKHNuYXAgPD0gMCkgcmV0dXJuIC1vZmZzZXRCZWZvcmU7XG4gICAgICBpZiAoc25hcCA+IG1heFNuYXApIHJldHVybiBtYXhTbmFwICsgb2Zmc2V0QWZ0ZXI7XG4gICAgICByZXR1cm4gc25hcDtcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLmNlbnRlckluc3VmZmljaWVudFNsaWRlcykge1xuICAgIGxldCBhbGxTbGlkZXNTaXplID0gMDtcbiAgICBzbGlkZXNTaXplc0dyaWQuZm9yRWFjaChzbGlkZVNpemVWYWx1ZSA9PiB7XG4gICAgICBhbGxTbGlkZXNTaXplICs9IHNsaWRlU2l6ZVZhbHVlICsgKHNwYWNlQmV0d2VlbiB8fCAwKTtcbiAgICB9KTtcbiAgICBhbGxTbGlkZXNTaXplIC09IHNwYWNlQmV0d2VlbjtcbiAgICBjb25zdCBvZmZzZXRTaXplID0gKHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmUgfHwgMCkgKyAocGFyYW1zLnNsaWRlc09mZnNldEFmdGVyIHx8IDApO1xuICAgIGlmIChhbGxTbGlkZXNTaXplICsgb2Zmc2V0U2l6ZSA8IHN3aXBlclNpemUpIHtcbiAgICAgIGNvbnN0IGFsbFNsaWRlc09mZnNldCA9IChzd2lwZXJTaXplIC0gYWxsU2xpZGVzU2l6ZSAtIG9mZnNldFNpemUpIC8gMjtcbiAgICAgIHNuYXBHcmlkLmZvckVhY2goKHNuYXAsIHNuYXBJbmRleCkgPT4ge1xuICAgICAgICBzbmFwR3JpZFtzbmFwSW5kZXhdID0gc25hcCAtIGFsbFNsaWRlc09mZnNldDtcbiAgICAgIH0pO1xuICAgICAgc2xpZGVzR3JpZC5mb3JFYWNoKChzbmFwLCBzbmFwSW5kZXgpID0+IHtcbiAgICAgICAgc2xpZGVzR3JpZFtzbmFwSW5kZXhdID0gc25hcCArIGFsbFNsaWRlc09mZnNldDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIHNsaWRlcyxcbiAgICBzbmFwR3JpZCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIHNsaWRlc1NpemVzR3JpZFxuICB9KTtcbiAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuY3NzTW9kZSAmJiAhcGFyYW1zLmNlbnRlcmVkU2xpZGVzQm91bmRzKSB7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWJlZm9yZScsIGAkey1zbmFwR3JpZFswXX1weGApO1xuICAgIHNldENTU1Byb3BlcnR5KHdyYXBwZXJFbCwgJy0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1hZnRlcicsIGAke3N3aXBlci5zaXplIC8gMiAtIHNsaWRlc1NpemVzR3JpZFtzbGlkZXNTaXplc0dyaWQubGVuZ3RoIC0gMV0gLyAyfXB4YCk7XG4gICAgY29uc3QgYWRkVG9TbmFwR3JpZCA9IC1zd2lwZXIuc25hcEdyaWRbMF07XG4gICAgY29uc3QgYWRkVG9TbGlkZXNHcmlkID0gLXN3aXBlci5zbGlkZXNHcmlkWzBdO1xuICAgIHN3aXBlci5zbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZC5tYXAodiA9PiB2ICsgYWRkVG9TbmFwR3JpZCk7XG4gICAgc3dpcGVyLnNsaWRlc0dyaWQgPSBzd2lwZXIuc2xpZGVzR3JpZC5tYXAodiA9PiB2ICsgYWRkVG9TbGlkZXNHcmlkKTtcbiAgfVxuICBpZiAoc2xpZGVzTGVuZ3RoICE9PSBwcmV2aW91c1NsaWRlc0xlbmd0aCkge1xuICAgIHN3aXBlci5lbWl0KCdzbGlkZXNMZW5ndGhDaGFuZ2UnKTtcbiAgfVxuICBpZiAoc25hcEdyaWQubGVuZ3RoICE9PSBwcmV2aW91c1NuYXBHcmlkTGVuZ3RoKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdykgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICBzd2lwZXIuZW1pdCgnc25hcEdyaWRMZW5ndGhDaGFuZ2UnKTtcbiAgfVxuICBpZiAoc2xpZGVzR3JpZC5sZW5ndGggIT09IHByZXZpb3VzU2xpZGVzR3JpZExlbmd0aCkge1xuICAgIHN3aXBlci5lbWl0KCdzbGlkZXNHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cbiAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc09mZnNldCgpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzbGlkZXNVcGRhdGVkJyk7XG4gIGlmICghaXNWaXJ0dWFsICYmICFwYXJhbXMuY3NzTW9kZSAmJiAocGFyYW1zLmVmZmVjdCA9PT0gJ3NsaWRlJyB8fCBwYXJhbXMuZWZmZWN0ID09PSAnZmFkZScpKSB7XG4gICAgY29uc3QgYmFja0ZhY2VIaWRkZW5DbGFzcyA9IGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWJhY2tmYWNlLWhpZGRlbmA7XG4gICAgY29uc3QgaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQgPSBzd2lwZXIuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGJhY2tGYWNlSGlkZGVuQ2xhc3MpO1xuICAgIGlmIChzbGlkZXNMZW5ndGggPD0gcGFyYW1zLm1heEJhY2tmYWNlSGlkZGVuU2xpZGVzKSB7XG4gICAgICBpZiAoIWhhc0NsYXNzQmFja2ZhY2VDbGFzc0FkZGVkKSBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChiYWNrRmFjZUhpZGRlbkNsYXNzKTtcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzQmFja2ZhY2VDbGFzc0FkZGVkKSB7XG4gICAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZShiYWNrRmFjZUhpZGRlbkNsYXNzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQXV0b0hlaWdodChzcGVlZCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBhY3RpdmVTbGlkZXMgPSBbXTtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGxldCBuZXdIZWlnaHQgPSAwO1xuICBsZXQgaTtcbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ251bWJlcicpIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gIH0gZWxzZSBpZiAoc3BlZWQgPT09IHRydWUpIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzd2lwZXIucGFyYW1zLnNwZWVkKTtcbiAgfVxuICBjb25zdCBnZXRTbGlkZUJ5SW5kZXggPSBpbmRleCA9PiB7XG4gICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgcmV0dXJuIHN3aXBlci5zbGlkZXNbc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEoaW5kZXgpXTtcbiAgICB9XG4gICAgcmV0dXJuIHN3aXBlci5zbGlkZXNbaW5kZXhdO1xuICB9O1xuICAvLyBGaW5kIHNsaWRlcyBjdXJyZW50bHkgaW4gdmlld1xuICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAoc3dpcGVyLnZpc2libGVTbGlkZXMgfHwgW10pLmZvckVhY2goc2xpZGUgPT4ge1xuICAgICAgICBhY3RpdmVTbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMDsgaSA8IE1hdGguY2VpbChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcpOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXggKyBpO1xuICAgICAgICBpZiAoaW5kZXggPiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAmJiAhaXNWaXJ0dWFsKSBicmVhaztcbiAgICAgICAgYWN0aXZlU2xpZGVzLnB1c2goZ2V0U2xpZGVCeUluZGV4KGluZGV4KSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFjdGl2ZVNsaWRlcy5wdXNoKGdldFNsaWRlQnlJbmRleChzd2lwZXIuYWN0aXZlSW5kZXgpKTtcbiAgfVxuXG4gIC8vIEZpbmQgbmV3IGhlaWdodCBmcm9tIGhpZ2hlc3Qgc2xpZGUgaW4gdmlld1xuICBmb3IgKGkgPSAwOyBpIDwgYWN0aXZlU2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBhY3RpdmVTbGlkZXNbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBoZWlnaHQgPSBhY3RpdmVTbGlkZXNbaV0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgbmV3SGVpZ2h0ID0gaGVpZ2h0ID4gbmV3SGVpZ2h0ID8gaGVpZ2h0IDogbmV3SGVpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSBIZWlnaHRcbiAgaWYgKG5ld0hlaWdodCB8fCBuZXdIZWlnaHQgPT09IDApIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuaGVpZ2h0ID0gYCR7bmV3SGVpZ2h0fXB4YDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzT2Zmc2V0KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgY29uc3QgbWludXNPZmZzZXQgPSBzd2lwZXIuaXNFbGVtZW50ID8gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gc3dpcGVyLndyYXBwZXJFbC5vZmZzZXRMZWZ0IDogc3dpcGVyLndyYXBwZXJFbC5vZmZzZXRUb3AgOiAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHNsaWRlc1tpXS5zd2lwZXJTbGlkZU9mZnNldCA9IChzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzbGlkZXNbaV0ub2Zmc2V0TGVmdCA6IHNsaWRlc1tpXS5vZmZzZXRUb3ApIC0gbWludXNPZmZzZXQgLSBzd2lwZXIuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCk7XG4gIH1cbn1cblxuY29uc3QgdG9nZ2xlU2xpZGVDbGFzc2VzJDEgPSAoc2xpZGVFbCwgY29uZGl0aW9uLCBjbGFzc05hbWUpID0+IHtcbiAgaWYgKGNvbmRpdGlvbiAmJiAhc2xpZGVFbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgIHNsaWRlRWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICB9IGVsc2UgaWYgKCFjb25kaXRpb24gJiYgc2xpZGVFbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9XG59O1xuZnVuY3Rpb24gdXBkYXRlU2xpZGVzUHJvZ3Jlc3ModHJhbnNsYXRlKSB7XG4gIGlmICh0cmFuc2xhdGUgPT09IHZvaWQgMCkge1xuICAgIHRyYW5zbGF0ZSA9IHRoaXMgJiYgdGhpcy50cmFuc2xhdGUgfHwgMDtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBjb25zdCB7XG4gICAgc2xpZGVzLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHNuYXBHcmlkXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChzbGlkZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIGlmICh0eXBlb2Ygc2xpZGVzWzBdLnN3aXBlclNsaWRlT2Zmc2V0ID09PSAndW5kZWZpbmVkJykgc3dpcGVyLnVwZGF0ZVNsaWRlc09mZnNldCgpO1xuICBsZXQgb2Zmc2V0Q2VudGVyID0gLXRyYW5zbGF0ZTtcbiAgaWYgKHJ0bCkgb2Zmc2V0Q2VudGVyID0gdHJhbnNsYXRlO1xuICBzd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMgPSBbXTtcbiAgc3dpcGVyLnZpc2libGVTbGlkZXMgPSBbXTtcbiAgbGV0IHNwYWNlQmV0d2VlbiA9IHBhcmFtcy5zcGFjZUJldHdlZW47XG4gIGlmICh0eXBlb2Ygc3BhY2VCZXR3ZWVuID09PSAnc3RyaW5nJyAmJiBzcGFjZUJldHdlZW4uaW5kZXhPZignJScpID49IDApIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbi5yZXBsYWNlKCclJywgJycpKSAvIDEwMCAqIHN3aXBlci5zaXplO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4pO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3Qgc2xpZGUgPSBzbGlkZXNbaV07XG4gICAgbGV0IHNsaWRlT2Zmc2V0ID0gc2xpZGUuc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgaWYgKHBhcmFtcy5jc3NNb2RlICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgc2xpZGVPZmZzZXQgLT0gc2xpZGVzWzBdLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgIH1cbiAgICBjb25zdCBzbGlkZVByb2dyZXNzID0gKG9mZnNldENlbnRlciArIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiAwKSAtIHNsaWRlT2Zmc2V0KSAvIChzbGlkZS5zd2lwZXJTbGlkZVNpemUgKyBzcGFjZUJldHdlZW4pO1xuICAgIGNvbnN0IG9yaWdpbmFsU2xpZGVQcm9ncmVzcyA9IChvZmZzZXRDZW50ZXIgLSBzbmFwR3JpZFswXSArIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiAwKSAtIHNsaWRlT2Zmc2V0KSAvIChzbGlkZS5zd2lwZXJTbGlkZVNpemUgKyBzcGFjZUJldHdlZW4pO1xuICAgIGNvbnN0IHNsaWRlQmVmb3JlID0gLShvZmZzZXRDZW50ZXIgLSBzbGlkZU9mZnNldCk7XG4gICAgY29uc3Qgc2xpZGVBZnRlciA9IHNsaWRlQmVmb3JlICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtpXTtcbiAgICBjb25zdCBpc0Z1bGx5VmlzaWJsZSA9IHNsaWRlQmVmb3JlID49IDAgJiYgc2xpZGVCZWZvcmUgPD0gc3dpcGVyLnNpemUgLSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHNsaWRlQmVmb3JlID49IDAgJiYgc2xpZGVCZWZvcmUgPCBzd2lwZXIuc2l6ZSAtIDEgfHwgc2xpZGVBZnRlciA+IDEgJiYgc2xpZGVBZnRlciA8PSBzd2lwZXIuc2l6ZSB8fCBzbGlkZUJlZm9yZSA8PSAwICYmIHNsaWRlQWZ0ZXIgPj0gc3dpcGVyLnNpemU7XG4gICAgaWYgKGlzVmlzaWJsZSkge1xuICAgICAgc3dpcGVyLnZpc2libGVTbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICBzd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMucHVzaChpKTtcbiAgICB9XG4gICAgdG9nZ2xlU2xpZGVDbGFzc2VzJDEoc2xpZGUsIGlzVmlzaWJsZSwgcGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzKTtcbiAgICB0b2dnbGVTbGlkZUNsYXNzZXMkMShzbGlkZSwgaXNGdWxseVZpc2libGUsIHBhcmFtcy5zbGlkZUZ1bGx5VmlzaWJsZUNsYXNzKTtcbiAgICBzbGlkZS5wcm9ncmVzcyA9IHJ0bCA/IC1zbGlkZVByb2dyZXNzIDogc2xpZGVQcm9ncmVzcztcbiAgICBzbGlkZS5vcmlnaW5hbFByb2dyZXNzID0gcnRsID8gLW9yaWdpbmFsU2xpZGVQcm9ncmVzcyA6IG9yaWdpbmFsU2xpZGVQcm9ncmVzcztcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHR5cGVvZiB0cmFuc2xhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgbXVsdGlwbGllciA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtMSA6IDE7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgdHJhbnNsYXRlID0gc3dpcGVyICYmIHN3aXBlci50cmFuc2xhdGUgJiYgc3dpcGVyLnRyYW5zbGF0ZSAqIG11bHRpcGxpZXIgfHwgMDtcbiAgfVxuICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBjb25zdCB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgbGV0IHtcbiAgICBwcm9ncmVzcyxcbiAgICBpc0JlZ2lubmluZyxcbiAgICBpc0VuZCxcbiAgICBwcm9ncmVzc0xvb3BcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qgd2FzQmVnaW5uaW5nID0gaXNCZWdpbm5pbmc7XG4gIGNvbnN0IHdhc0VuZCA9IGlzRW5kO1xuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBwcm9ncmVzcyA9IDA7XG4gICAgaXNCZWdpbm5pbmcgPSB0cnVlO1xuICAgIGlzRW5kID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBwcm9ncmVzcyA9ICh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIC8gdHJhbnNsYXRlc0RpZmY7XG4gICAgY29uc3QgaXNCZWdpbm5pbmdSb3VuZGVkID0gTWF0aC5hYnModHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSA8IDE7XG4gICAgY29uc3QgaXNFbmRSb3VuZGVkID0gTWF0aC5hYnModHJhbnNsYXRlIC0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSA8IDE7XG4gICAgaXNCZWdpbm5pbmcgPSBpc0JlZ2lubmluZ1JvdW5kZWQgfHwgcHJvZ3Jlc3MgPD0gMDtcbiAgICBpc0VuZCA9IGlzRW5kUm91bmRlZCB8fCBwcm9ncmVzcyA+PSAxO1xuICAgIGlmIChpc0JlZ2lubmluZ1JvdW5kZWQpIHByb2dyZXNzID0gMDtcbiAgICBpZiAoaXNFbmRSb3VuZGVkKSBwcm9ncmVzcyA9IDE7XG4gIH1cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgY29uc3QgZmlyc3RTbGlkZUluZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEoMCk7XG4gICAgY29uc3QgbGFzdFNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIGNvbnN0IGZpcnN0U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFtmaXJzdFNsaWRlSW5kZXhdO1xuICAgIGNvbnN0IGxhc3RTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2xhc3RTbGlkZUluZGV4XTtcbiAgICBjb25zdCB0cmFuc2xhdGVNYXggPSBzd2lwZXIuc2xpZGVzR3JpZFtzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB0cmFuc2xhdGVBYnMgPSBNYXRoLmFicyh0cmFuc2xhdGUpO1xuICAgIGlmICh0cmFuc2xhdGVBYnMgPj0gZmlyc3RTbGlkZVRyYW5zbGF0ZSkge1xuICAgICAgcHJvZ3Jlc3NMb29wID0gKHRyYW5zbGF0ZUFicyAtIGZpcnN0U2xpZGVUcmFuc2xhdGUpIC8gdHJhbnNsYXRlTWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzc0xvb3AgPSAodHJhbnNsYXRlQWJzICsgdHJhbnNsYXRlTWF4IC0gbGFzdFNsaWRlVHJhbnNsYXRlKSAvIHRyYW5zbGF0ZU1heDtcbiAgICB9XG4gICAgaWYgKHByb2dyZXNzTG9vcCA+IDEpIHByb2dyZXNzTG9vcCAtPSAxO1xuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgcHJvZ3Jlc3MsXG4gICAgcHJvZ3Jlc3NMb29wLFxuICAgIGlzQmVnaW5uaW5nLFxuICAgIGlzRW5kXG4gIH0pO1xuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgfHwgcGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5hdXRvSGVpZ2h0KSBzd2lwZXIudXBkYXRlU2xpZGVzUHJvZ3Jlc3ModHJhbnNsYXRlKTtcbiAgaWYgKGlzQmVnaW5uaW5nICYmICF3YXNCZWdpbm5pbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhY2hCZWdpbm5pbmcgdG9FZGdlJyk7XG4gIH1cbiAgaWYgKGlzRW5kICYmICF3YXNFbmQpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhY2hFbmQgdG9FZGdlJyk7XG4gIH1cbiAgaWYgKHdhc0JlZ2lubmluZyAmJiAhaXNCZWdpbm5pbmcgfHwgd2FzRW5kICYmICFpc0VuZCkge1xuICAgIHN3aXBlci5lbWl0KCdmcm9tRWRnZScpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdwcm9ncmVzcycsIHByb2dyZXNzKTtcbn1cblxuY29uc3QgdG9nZ2xlU2xpZGVDbGFzc2VzID0gKHNsaWRlRWwsIGNvbmRpdGlvbiwgY2xhc3NOYW1lKSA9PiB7XG4gIGlmIChjb25kaXRpb24gJiYgIXNsaWRlRWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHtcbiAgICBzbGlkZUVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgfSBlbHNlIGlmICghY29uZGl0aW9uICYmIHNsaWRlRWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHtcbiAgICBzbGlkZUVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlc0NsYXNzZXMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXMsXG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsLFxuICAgIGFjdGl2ZUluZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIGNvbnN0IGdldEZpbHRlcmVkU2xpZGUgPSBzZWxlY3RvciA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSR7c2VsZWN0b3J9LCBzd2lwZXItc2xpZGUke3NlbGVjdG9yfWApWzBdO1xuICB9O1xuICBsZXQgYWN0aXZlU2xpZGU7XG4gIGxldCBwcmV2U2xpZGU7XG4gIGxldCBuZXh0U2xpZGU7XG4gIGlmIChpc1ZpcnR1YWwpIHtcbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIGxldCBzbGlkZUluZGV4ID0gYWN0aXZlSW5kZXggLSBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmU7XG4gICAgICBpZiAoc2xpZGVJbmRleCA8IDApIHNsaWRlSW5kZXggPSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoICsgc2xpZGVJbmRleDtcbiAgICAgIGlmIChzbGlkZUluZGV4ID49IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGgpIHNsaWRlSW5kZXggLT0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aDtcbiAgICAgIGFjdGl2ZVNsaWRlID0gZ2V0RmlsdGVyZWRTbGlkZShgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtzbGlkZUluZGV4fVwiXWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVTbGlkZSA9IGdldEZpbHRlcmVkU2xpZGUoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7YWN0aXZlSW5kZXh9XCJdYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgYWN0aXZlU2xpZGUgPSBzbGlkZXMuZmluZChzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleCk7XG4gICAgICBuZXh0U2xpZGUgPSBzbGlkZXMuZmluZChzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleCArIDEpO1xuICAgICAgcHJldlNsaWRlID0gc2xpZGVzLmZpbmQoc2xpZGVFbCA9PiBzbGlkZUVsLmNvbHVtbiA9PT0gYWN0aXZlSW5kZXggLSAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbYWN0aXZlSW5kZXhdO1xuICAgIH1cbiAgfVxuICBpZiAoYWN0aXZlU2xpZGUpIHtcbiAgICBpZiAoIWdyaWRFbmFibGVkKSB7XG4gICAgICAvLyBOZXh0IFNsaWRlXG4gICAgICBuZXh0U2xpZGUgPSBlbGVtZW50TmV4dEFsbChhY3RpdmVTbGlkZSwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYClbMF07XG4gICAgICBpZiAocGFyYW1zLmxvb3AgJiYgIW5leHRTbGlkZSkge1xuICAgICAgICBuZXh0U2xpZGUgPSBzbGlkZXNbMF07XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXYgU2xpZGVcbiAgICAgIHByZXZTbGlkZSA9IGVsZW1lbnRQcmV2QWxsKGFjdGl2ZVNsaWRlLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKVswXTtcbiAgICAgIGlmIChwYXJhbXMubG9vcCAmJiAhcHJldlNsaWRlID09PSAwKSB7XG4gICAgICAgIHByZXZTbGlkZSA9IHNsaWRlc1tzbGlkZXMubGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIHRvZ2dsZVNsaWRlQ2xhc3NlcyhzbGlkZUVsLCBzbGlkZUVsID09PSBhY3RpdmVTbGlkZSwgcGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpO1xuICAgIHRvZ2dsZVNsaWRlQ2xhc3NlcyhzbGlkZUVsLCBzbGlkZUVsID09PSBuZXh0U2xpZGUsIHBhcmFtcy5zbGlkZU5leHRDbGFzcyk7XG4gICAgdG9nZ2xlU2xpZGVDbGFzc2VzKHNsaWRlRWwsIHNsaWRlRWwgPT09IHByZXZTbGlkZSwgcGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgfSk7XG4gIHN3aXBlci5lbWl0U2xpZGVzQ2xhc3NlcygpO1xufVxuXG5jb25zdCBwcm9jZXNzTGF6eVByZWxvYWRlciA9IChzd2lwZXIsIGltYWdlRWwpID0+IHtcbiAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLnBhcmFtcykgcmV0dXJuO1xuICBjb25zdCBzbGlkZVNlbGVjdG9yID0gKCkgPT4gc3dpcGVyLmlzRWxlbWVudCA/IGBzd2lwZXItc2xpZGVgIDogYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31gO1xuICBjb25zdCBzbGlkZUVsID0gaW1hZ2VFbC5jbG9zZXN0KHNsaWRlU2VsZWN0b3IoKSk7XG4gIGlmIChzbGlkZUVsKSB7XG4gICAgbGV0IGxhenlFbCA9IHNsaWRlRWwucXVlcnlTZWxlY3RvcihgLiR7c3dpcGVyLnBhcmFtcy5sYXp5UHJlbG9hZGVyQ2xhc3N9YCk7XG4gICAgaWYgKCFsYXp5RWwgJiYgc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgaWYgKHNsaWRlRWwuc2hhZG93Um9vdCkge1xuICAgICAgICBsYXp5RWwgPSBzbGlkZUVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihgLiR7c3dpcGVyLnBhcmFtcy5sYXp5UHJlbG9hZGVyQ2xhc3N9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbml0IGxhdGVyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHNsaWRlRWwuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgbGF6eUVsID0gc2xpZGVFbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoYC4ke3N3aXBlci5wYXJhbXMubGF6eVByZWxvYWRlckNsYXNzfWApO1xuICAgICAgICAgICAgaWYgKGxhenlFbCkgbGF6eUVsLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsYXp5RWwpIGxhenlFbC5yZW1vdmUoKTtcbiAgfVxufTtcbmNvbnN0IHVubGF6eSA9IChzd2lwZXIsIGluZGV4KSA9PiB7XG4gIGlmICghc3dpcGVyLnNsaWRlc1tpbmRleF0pIHJldHVybjtcbiAgY29uc3QgaW1hZ2VFbCA9IHN3aXBlci5zbGlkZXNbaW5kZXhdLnF1ZXJ5U2VsZWN0b3IoJ1tsb2FkaW5nPVwibGF6eVwiXScpO1xuICBpZiAoaW1hZ2VFbCkgaW1hZ2VFbC5yZW1vdmVBdHRyaWJ1dGUoJ2xvYWRpbmcnKTtcbn07XG5jb25zdCBwcmVsb2FkID0gc3dpcGVyID0+IHtcbiAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLnBhcmFtcykgcmV0dXJuO1xuICBsZXQgYW1vdW50ID0gc3dpcGVyLnBhcmFtcy5sYXp5UHJlbG9hZFByZXZOZXh0O1xuICBjb25zdCBsZW4gPSBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgaWYgKCFsZW4gfHwgIWFtb3VudCB8fCBhbW91bnQgPCAwKSByZXR1cm47XG4gIGFtb3VudCA9IE1hdGgubWluKGFtb3VudCwgbGVuKTtcbiAgY29uc3Qgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiBNYXRoLmNlaWwoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3KTtcbiAgY29uc3QgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gIGlmIChzd2lwZXIucGFyYW1zLmdyaWQgJiYgc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3MgPiAxKSB7XG4gICAgY29uc3QgYWN0aXZlQ29sdW1uID0gYWN0aXZlSW5kZXg7XG4gICAgY29uc3QgcHJlbG9hZENvbHVtbnMgPSBbYWN0aXZlQ29sdW1uIC0gYW1vdW50XTtcbiAgICBwcmVsb2FkQ29sdW1ucy5wdXNoKC4uLkFycmF5LmZyb20oe1xuICAgICAgbGVuZ3RoOiBhbW91bnRcbiAgICB9KS5tYXAoKF8sIGkpID0+IHtcbiAgICAgIHJldHVybiBhY3RpdmVDb2x1bW4gKyBzbGlkZXNQZXJWaWV3ICsgaTtcbiAgICB9KSk7XG4gICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZUVsLCBpKSA9PiB7XG4gICAgICBpZiAocHJlbG9hZENvbHVtbnMuaW5jbHVkZXMoc2xpZGVFbC5jb2x1bW4pKSB1bmxhenkoc3dpcGVyLCBpKTtcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2xpZGVJbmRleExhc3RJblZpZXcgPSBhY3RpdmVJbmRleCArIHNsaWRlc1BlclZpZXcgLSAxO1xuICBpZiAoc3dpcGVyLnBhcmFtcy5yZXdpbmQgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4IC0gYW1vdW50OyBpIDw9IHNsaWRlSW5kZXhMYXN0SW5WaWV3ICsgYW1vdW50OyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHJlYWxJbmRleCA9IChpICUgbGVuICsgbGVuKSAlIGxlbjtcbiAgICAgIGlmIChyZWFsSW5kZXggPCBhY3RpdmVJbmRleCB8fCByZWFsSW5kZXggPiBzbGlkZUluZGV4TGFzdEluVmlldykgdW5sYXp5KHN3aXBlciwgcmVhbEluZGV4KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgaSA9IE1hdGgubWF4KGFjdGl2ZUluZGV4IC0gYW1vdW50LCAwKTsgaSA8PSBNYXRoLm1pbihzbGlkZUluZGV4TGFzdEluVmlldyArIGFtb3VudCwgbGVuIC0gMSk7IGkgKz0gMSkge1xuICAgICAgaWYgKGkgIT09IGFjdGl2ZUluZGV4ICYmIChpID4gc2xpZGVJbmRleExhc3RJblZpZXcgfHwgaSA8IGFjdGl2ZUluZGV4KSkge1xuICAgICAgICB1bmxhenkoc3dpcGVyLCBpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUluZGV4QnlUcmFuc2xhdGUoc3dpcGVyKSB7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXNHcmlkLFxuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBsZXQgYWN0aXZlSW5kZXg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0gJiYgdHJhbnNsYXRlIDwgc2xpZGVzR3JpZFtpICsgMV0gLSAoc2xpZGVzR3JpZFtpICsgMV0gLSBzbGlkZXNHcmlkW2ldKSAvIDIpIHtcbiAgICAgICAgYWN0aXZlSW5kZXggPSBpO1xuICAgICAgfSBlbHNlIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSAmJiB0cmFuc2xhdGUgPCBzbGlkZXNHcmlkW2kgKyAxXSkge1xuICAgICAgICBhY3RpdmVJbmRleCA9IGkgKyAxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0pIHtcbiAgICAgIGFjdGl2ZUluZGV4ID0gaTtcbiAgICB9XG4gIH1cbiAgLy8gTm9ybWFsaXplIHNsaWRlSW5kZXhcbiAgaWYgKHBhcmFtcy5ub3JtYWxpemVTbGlkZUluZGV4KSB7XG4gICAgaWYgKGFjdGl2ZUluZGV4IDwgMCB8fCB0eXBlb2YgYWN0aXZlSW5kZXggPT09ICd1bmRlZmluZWQnKSBhY3RpdmVJbmRleCA9IDA7XG4gIH1cbiAgcmV0dXJuIGFjdGl2ZUluZGV4O1xufVxuZnVuY3Rpb24gdXBkYXRlQWN0aXZlSW5kZXgobmV3QWN0aXZlSW5kZXgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgdHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgY29uc3Qge1xuICAgIHNuYXBHcmlkLFxuICAgIHBhcmFtcyxcbiAgICBhY3RpdmVJbmRleDogcHJldmlvdXNJbmRleCxcbiAgICByZWFsSW5kZXg6IHByZXZpb3VzUmVhbEluZGV4LFxuICAgIHNuYXBJbmRleDogcHJldmlvdXNTbmFwSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgbGV0IGFjdGl2ZUluZGV4ID0gbmV3QWN0aXZlSW5kZXg7XG4gIGxldCBzbmFwSW5kZXg7XG4gIGNvbnN0IGdldFZpcnR1YWxSZWFsSW5kZXggPSBhSW5kZXggPT4ge1xuICAgIGxldCByZWFsSW5kZXggPSBhSW5kZXggLSBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmU7XG4gICAgaWYgKHJlYWxJbmRleCA8IDApIHtcbiAgICAgIHJlYWxJbmRleCA9IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggKyByZWFsSW5kZXg7XG4gICAgfVxuICAgIGlmIChyZWFsSW5kZXggPj0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgcmVhbEluZGV4IC09IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZWFsSW5kZXg7XG4gIH07XG4gIGlmICh0eXBlb2YgYWN0aXZlSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgYWN0aXZlSW5kZXggPSBnZXRBY3RpdmVJbmRleEJ5VHJhbnNsYXRlKHN3aXBlcik7XG4gIH1cbiAgaWYgKHNuYXBHcmlkLmluZGV4T2YodHJhbnNsYXRlKSA+PSAwKSB7XG4gICAgc25hcEluZGV4ID0gc25hcEdyaWQuaW5kZXhPZih0cmFuc2xhdGUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHNraXAgPSBNYXRoLm1pbihwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBhY3RpdmVJbmRleCk7XG4gICAgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKGFjdGl2ZUluZGV4IC0gc2tpcCkgLyBwYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICB9XG4gIGlmIChzbmFwSW5kZXggPj0gc25hcEdyaWQubGVuZ3RoKSBzbmFwSW5kZXggPSBzbmFwR3JpZC5sZW5ndGggLSAxO1xuICBpZiAoYWN0aXZlSW5kZXggPT09IHByZXZpb3VzSW5kZXggJiYgIXN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgIGlmIChzbmFwSW5kZXggIT09IHByZXZpb3VzU25hcEluZGV4KSB7XG4gICAgICBzd2lwZXIuc25hcEluZGV4ID0gc25hcEluZGV4O1xuICAgICAgc3dpcGVyLmVtaXQoJ3NuYXBJbmRleENoYW5nZScpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGFjdGl2ZUluZGV4ID09PSBwcmV2aW91c0luZGV4ICYmIHN3aXBlci5wYXJhbXMubG9vcCAmJiBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgIHN3aXBlci5yZWFsSW5kZXggPSBnZXRWaXJ0dWFsUmVhbEluZGV4KGFjdGl2ZUluZGV4KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcblxuICAvLyBHZXQgcmVhbCBpbmRleFxuICBsZXQgcmVhbEluZGV4O1xuICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCAmJiBwYXJhbXMubG9vcCkge1xuICAgIHJlYWxJbmRleCA9IGdldFZpcnR1YWxSZWFsSW5kZXgoYWN0aXZlSW5kZXgpO1xuICB9IGVsc2UgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgY29uc3QgZmlyc3RTbGlkZUluQ29sdW1uID0gc3dpcGVyLnNsaWRlcy5maW5kKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4KTtcbiAgICBsZXQgYWN0aXZlU2xpZGVJbmRleCA9IHBhcnNlSW50KGZpcnN0U2xpZGVJbkNvbHVtbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGFjdGl2ZVNsaWRlSW5kZXgpKSB7XG4gICAgICBhY3RpdmVTbGlkZUluZGV4ID0gTWF0aC5tYXgoc3dpcGVyLnNsaWRlcy5pbmRleE9mKGZpcnN0U2xpZGVJbkNvbHVtbiksIDApO1xuICAgIH1cbiAgICByZWFsSW5kZXggPSBNYXRoLmZsb29yKGFjdGl2ZVNsaWRlSW5kZXggLyBwYXJhbXMuZ3JpZC5yb3dzKTtcbiAgfSBlbHNlIGlmIChzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4XSkge1xuICAgIGNvbnN0IHNsaWRlSW5kZXggPSBzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgIHJlYWxJbmRleCA9IHBhcnNlSW50KHNsaWRlSW5kZXgsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVhbEluZGV4ID0gYWN0aXZlSW5kZXg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlYWxJbmRleCA9IGFjdGl2ZUluZGV4O1xuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgcHJldmlvdXNTbmFwSW5kZXgsXG4gICAgc25hcEluZGV4LFxuICAgIHByZXZpb3VzUmVhbEluZGV4LFxuICAgIHJlYWxJbmRleCxcbiAgICBwcmV2aW91c0luZGV4LFxuICAgIGFjdGl2ZUluZGV4XG4gIH0pO1xuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkKSB7XG4gICAgcHJlbG9hZChzd2lwZXIpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdhY3RpdmVJbmRleENoYW5nZScpO1xuICBzd2lwZXIuZW1pdCgnc25hcEluZGV4Q2hhbmdlJyk7XG4gIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQgfHwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpIHtcbiAgICBpZiAocHJldmlvdXNSZWFsSW5kZXggIT09IHJlYWxJbmRleCkge1xuICAgICAgc3dpcGVyLmVtaXQoJ3JlYWxJbmRleENoYW5nZScpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVDaGFuZ2UnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDbGlja2VkU2xpZGUoZWwsIHBhdGgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgbGV0IHNsaWRlID0gZWwuY2xvc2VzdChgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgaWYgKCFzbGlkZSAmJiBzd2lwZXIuaXNFbGVtZW50ICYmIHBhdGggJiYgcGF0aC5sZW5ndGggPiAxICYmIHBhdGguaW5jbHVkZXMoZWwpKSB7XG4gICAgWy4uLnBhdGguc2xpY2UocGF0aC5pbmRleE9mKGVsKSArIDEsIHBhdGgubGVuZ3RoKV0uZm9yRWFjaChwYXRoRWwgPT4ge1xuICAgICAgaWYgKCFzbGlkZSAmJiBwYXRoRWwubWF0Y2hlcyAmJiBwYXRoRWwubWF0Y2hlcyhgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSkge1xuICAgICAgICBzbGlkZSA9IHBhdGhFbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBsZXQgc2xpZGVGb3VuZCA9IGZhbHNlO1xuICBsZXQgc2xpZGVJbmRleDtcbiAgaWYgKHNsaWRlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc1tpXSA9PT0gc2xpZGUpIHtcbiAgICAgICAgc2xpZGVGb3VuZCA9IHRydWU7XG4gICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHNsaWRlICYmIHNsaWRlRm91bmQpIHtcbiAgICBzd2lwZXIuY2xpY2tlZFNsaWRlID0gc2xpZGU7XG4gICAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gcGFyc2VJbnQoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSBzbGlkZUluZGV4O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuY2xpY2tlZFNsaWRlID0gdW5kZWZpbmVkO1xuICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMuc2xpZGVUb0NsaWNrZWRTbGlkZSAmJiBzd2lwZXIuY2xpY2tlZEluZGV4ICE9PSB1bmRlZmluZWQgJiYgc3dpcGVyLmNsaWNrZWRJbmRleCAhPT0gc3dpcGVyLmFjdGl2ZUluZGV4KSB7XG4gICAgc3dpcGVyLnNsaWRlVG9DbGlja2VkU2xpZGUoKTtcbiAgfVxufVxuXG52YXIgdXBkYXRlID0ge1xuICB1cGRhdGVTaXplLFxuICB1cGRhdGVTbGlkZXMsXG4gIHVwZGF0ZUF1dG9IZWlnaHQsXG4gIHVwZGF0ZVNsaWRlc09mZnNldCxcbiAgdXBkYXRlU2xpZGVzUHJvZ3Jlc3MsXG4gIHVwZGF0ZVByb2dyZXNzLFxuICB1cGRhdGVTbGlkZXNDbGFzc2VzLFxuICB1cGRhdGVBY3RpdmVJbmRleCxcbiAgdXBkYXRlQ2xpY2tlZFNsaWRlXG59O1xuXG5mdW5jdGlvbiBnZXRTd2lwZXJUcmFuc2xhdGUoYXhpcykge1xuICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7XG4gICAgYXhpcyA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyAneCcgOiAneSc7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB0cmFuc2xhdGUsXG4gICAgd3JhcHBlckVsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChwYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkge1xuICAgIHJldHVybiBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybiB0cmFuc2xhdGU7XG4gIH1cbiAgbGV0IGN1cnJlbnRUcmFuc2xhdGUgPSBnZXRUcmFuc2xhdGUod3JhcHBlckVsLCBheGlzKTtcbiAgY3VycmVudFRyYW5zbGF0ZSArPSBzd2lwZXIuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCk7XG4gIGlmIChydGwpIGN1cnJlbnRUcmFuc2xhdGUgPSAtY3VycmVudFRyYW5zbGF0ZTtcbiAgcmV0dXJuIGN1cnJlbnRUcmFuc2xhdGUgfHwgMDtcbn1cblxuZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBwYXJhbXMsXG4gICAgd3JhcHBlckVsLFxuICAgIHByb2dyZXNzXG4gIH0gPSBzd2lwZXI7XG4gIGxldCB4ID0gMDtcbiAgbGV0IHkgPSAwO1xuICBjb25zdCB6ID0gMDtcbiAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgIHggPSBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9IGVsc2Uge1xuICAgIHkgPSB0cmFuc2xhdGU7XG4gIH1cbiAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHtcbiAgICB4ID0gTWF0aC5mbG9vcih4KTtcbiAgICB5ID0gTWF0aC5mbG9vcih5KTtcbiAgfVxuICBzd2lwZXIucHJldmlvdXNUcmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlO1xuICBzd2lwZXIudHJhbnNsYXRlID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8geCA6IHk7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHdyYXBwZXJFbFtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAteCA6IC15O1xuICB9IGVsc2UgaWYgKCFwYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkge1xuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHggLT0gc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB5IC09IHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgICB9XG4gICAgd3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3h9cHgsICR7eX1weCwgJHt6fXB4KWA7XG4gIH1cblxuICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHVwZGF0ZSBwcm9ncmVzc1xuICBsZXQgbmV3UHJvZ3Jlc3M7XG4gIGNvbnN0IHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBuZXdQcm9ncmVzcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICB9XG4gIGlmIChuZXdQcm9ncmVzcyAhPT0gcHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3ModHJhbnNsYXRlKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNsYXRlJywgc3dpcGVyLnRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKTtcbn1cblxuZnVuY3Rpb24gbWluVHJhbnNsYXRlKCkge1xuICByZXR1cm4gLXRoaXMuc25hcEdyaWRbMF07XG59XG5cbmZ1bmN0aW9uIG1heFRyYW5zbGF0ZSgpIHtcbiAgcmV0dXJuIC10aGlzLnNuYXBHcmlkW3RoaXMuc25hcEdyaWQubGVuZ3RoIC0gMV07XG59XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZVRvKHRyYW5zbGF0ZSwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgdHJhbnNsYXRlQm91bmRzLCBpbnRlcm5hbCkge1xuICBpZiAodHJhbnNsYXRlID09PSB2b2lkIDApIHtcbiAgICB0cmFuc2xhdGUgPSAwO1xuICB9XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0cmFuc2xhdGVCb3VuZHMgPT09IHZvaWQgMCkge1xuICAgIHRyYW5zbGF0ZUJvdW5kcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB3cmFwcGVyRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBtaW5UcmFuc2xhdGUgPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGNvbnN0IG1heFRyYW5zbGF0ZSA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgbGV0IG5ld1RyYW5zbGF0ZTtcbiAgaWYgKHRyYW5zbGF0ZUJvdW5kcyAmJiB0cmFuc2xhdGUgPiBtaW5UcmFuc2xhdGUpIG5ld1RyYW5zbGF0ZSA9IG1pblRyYW5zbGF0ZTtlbHNlIGlmICh0cmFuc2xhdGVCb3VuZHMgJiYgdHJhbnNsYXRlIDwgbWF4VHJhbnNsYXRlKSBuZXdUcmFuc2xhdGUgPSBtYXhUcmFuc2xhdGU7ZWxzZSBuZXdUcmFuc2xhdGUgPSB0cmFuc2xhdGU7XG5cbiAgLy8gVXBkYXRlIHByb2dyZXNzXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdUcmFuc2xhdGUpO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBjb25zdCBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gLW5ld1RyYW5zbGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFzd2lwZXIuc3VwcG9ydC5zbW9vdGhTY3JvbGwpIHtcbiAgICAgICAgYW5pbWF0ZUNTU01vZGVTY3JvbGwoe1xuICAgICAgICAgIHN3aXBlcixcbiAgICAgICAgICB0YXJnZXRQb3NpdGlvbjogLW5ld1RyYW5zbGF0ZSxcbiAgICAgICAgICBzaWRlOiBpc0ggPyAnbGVmdCcgOiAndG9wJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB3cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgICBbaXNIID8gJ2xlZnQnIDogJ3RvcCddOiAtbmV3VHJhbnNsYXRlLFxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG4gICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdUcmFuc2xhdGUpO1xuICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25TdGFydCcpO1xuICAgIH1cbiAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgaWYgKCFzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSB7XG4gICAgICAgIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGUpIHtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgICAgZGVsZXRlIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ7XG4gICAgICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgICAgICAgIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uRW5kJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG52YXIgdHJhbnNsYXRlID0ge1xuICBnZXRUcmFuc2xhdGU6IGdldFN3aXBlclRyYW5zbGF0ZSxcbiAgc2V0VHJhbnNsYXRlLFxuICBtaW5UcmFuc2xhdGUsXG4gIG1heFRyYW5zbGF0ZSxcbiAgdHJhbnNsYXRlVG9cbn07XG5cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24sIGJ5Q29udHJvbGxlcikge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gZHVyYXRpb24gPT09IDAgPyBgMG1zYCA6ICcnO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzZXRUcmFuc2l0aW9uJywgZHVyYXRpb24sIGJ5Q29udHJvbGxlcik7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25FbWl0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgcnVuQ2FsbGJhY2tzLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGVwXG4gIH0gPSBfcmVmO1xuICBjb25zdCB7XG4gICAgYWN0aXZlSW5kZXgsXG4gICAgcHJldmlvdXNJbmRleFxuICB9ID0gc3dpcGVyO1xuICBsZXQgZGlyID0gZGlyZWN0aW9uO1xuICBpZiAoIWRpcikge1xuICAgIGlmIChhY3RpdmVJbmRleCA+IHByZXZpb3VzSW5kZXgpIGRpciA9ICduZXh0JztlbHNlIGlmIChhY3RpdmVJbmRleCA8IHByZXZpb3VzSW5kZXgpIGRpciA9ICdwcmV2JztlbHNlIGRpciA9ICdyZXNldCc7XG4gIH1cbiAgc3dpcGVyLmVtaXQoYHRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gIGlmIChydW5DYWxsYmFja3MgJiYgZGlyID09PSAncmVzZXQnKSB7XG4gICAgc3dpcGVyLmVtaXQoYHNsaWRlUmVzZXRUcmFuc2l0aW9uJHtzdGVwfWApO1xuICB9IGVsc2UgaWYgKHJ1bkNhbGxiYWNrcyAmJiBhY3RpdmVJbmRleCAhPT0gcHJldmlvdXNJbmRleCkge1xuICAgIHN3aXBlci5lbWl0KGBzbGlkZUNoYW5nZVRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gICAgaWYgKGRpciA9PT0gJ25leHQnKSB7XG4gICAgICBzd2lwZXIuZW1pdChgc2xpZGVOZXh0VHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmVtaXQoYHNsaWRlUHJldlRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbikge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gIGlmIChwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gIH1cbiAgdHJhbnNpdGlvbkVtaXQoe1xuICAgIHN3aXBlcixcbiAgICBydW5DYWxsYmFja3MsXG4gICAgZGlyZWN0aW9uLFxuICAgIHN0ZXA6ICdTdGFydCdcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pIHtcbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIHN3aXBlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICB0cmFuc2l0aW9uRW1pdCh7XG4gICAgc3dpcGVyLFxuICAgIHJ1bkNhbGxiYWNrcyxcbiAgICBkaXJlY3Rpb24sXG4gICAgc3RlcDogJ0VuZCdcbiAgfSk7XG59XG5cbnZhciB0cmFuc2l0aW9uID0ge1xuICBzZXRUcmFuc2l0aW9uLFxuICB0cmFuc2l0aW9uU3RhcnQsXG4gIHRyYW5zaXRpb25FbmRcbn07XG5cbmZ1bmN0aW9uIHNsaWRlVG8oaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsLCBpbml0aWFsKSB7XG4gIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgaW5kZXggPSAwO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3N0cmluZycpIHtcbiAgICBpbmRleCA9IHBhcnNlSW50KGluZGV4LCAxMCk7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgbGV0IHNsaWRlSW5kZXggPSBpbmRleDtcbiAgaWYgKHNsaWRlSW5kZXggPCAwKSBzbGlkZUluZGV4ID0gMDtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbmFwR3JpZCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIHByZXZpb3VzSW5kZXgsXG4gICAgYWN0aXZlSW5kZXgsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgd3JhcHBlckVsLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkICYmICFpbnRlcm5hbCAmJiAhaW5pdGlhbCB8fCBzd2lwZXIuZGVzdHJveWVkIHx8IHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJykge1xuICAgIHNwZWVkID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBjb25zdCBza2lwID0gTWF0aC5taW4oc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIHNsaWRlSW5kZXgpO1xuICBsZXQgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKHNsaWRlSW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICBpZiAoc25hcEluZGV4ID49IHNuYXBHcmlkLmxlbmd0aCkgc25hcEluZGV4ID0gc25hcEdyaWQubGVuZ3RoIC0gMTtcbiAgY29uc3QgdHJhbnNsYXRlID0gLXNuYXBHcmlkW3NuYXBJbmRleF07XG4gIC8vIE5vcm1hbGl6ZSBzbGlkZUluZGV4XG4gIGlmIChwYXJhbXMubm9ybWFsaXplU2xpZGVJbmRleCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFRyYW5zbGF0ZSA9IC1NYXRoLmZsb29yKHRyYW5zbGF0ZSAqIDEwMCk7XG4gICAgICBjb25zdCBub3JtYWxpemVkR3JpZCA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZFtpXSAqIDEwMCk7XG4gICAgICBjb25zdCBub3JtYWxpemVkR3JpZE5leHQgPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRbaSArIDFdICogMTAwKTtcbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHcmlkICYmIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPCBub3JtYWxpemVkR3JpZE5leHQgLSAobm9ybWFsaXplZEdyaWROZXh0IC0gbm9ybWFsaXplZEdyaWQpIC8gMikge1xuICAgICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdyaWQgJiYgbm9ybWFsaXplZFRyYW5zbGF0ZSA8IG5vcm1hbGl6ZWRHcmlkTmV4dCkge1xuICAgICAgICAgIHNsaWRlSW5kZXggPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHcmlkKSB7XG4gICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBEaXJlY3Rpb25zIGxvY2tzXG4gIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQgJiYgc2xpZGVJbmRleCAhPT0gYWN0aXZlSW5kZXgpIHtcbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiAocnRsID8gdHJhbnNsYXRlID4gc3dpcGVyLnRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUgPiBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiB0cmFuc2xhdGUgPCBzd2lwZXIudHJhbnNsYXRlICYmIHRyYW5zbGF0ZSA8IHN3aXBlci5taW5UcmFuc2xhdGUoKSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgdHJhbnNsYXRlID4gc3dpcGVyLnRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUgPiBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHtcbiAgICAgIGlmICgoYWN0aXZlSW5kZXggfHwgMCkgIT09IHNsaWRlSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoc2xpZGVJbmRleCAhPT0gKHByZXZpb3VzSW5kZXggfHwgMCkgJiYgcnVuQ2FsbGJhY2tzKSB7XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVNsaWRlQ2hhbmdlU3RhcnQnKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3ModHJhbnNsYXRlKTtcbiAgbGV0IGRpcmVjdGlvbjtcbiAgaWYgKHNsaWRlSW5kZXggPiBhY3RpdmVJbmRleCkgZGlyZWN0aW9uID0gJ25leHQnO2Vsc2UgaWYgKHNsaWRlSW5kZXggPCBhY3RpdmVJbmRleCkgZGlyZWN0aW9uID0gJ3ByZXYnO2Vsc2UgZGlyZWN0aW9uID0gJ3Jlc2V0JztcblxuICAvLyBpbml0aWFsIHZpcnR1YWxcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGNvbnN0IGlzSW5pdGlhbFZpcnR1YWwgPSBpc1ZpcnR1YWwgJiYgaW5pdGlhbDtcbiAgLy8gVXBkYXRlIEluZGV4XG4gIGlmICghaXNJbml0aWFsVmlydHVhbCAmJiAocnRsICYmIC10cmFuc2xhdGUgPT09IHN3aXBlci50cmFuc2xhdGUgfHwgIXJ0bCAmJiB0cmFuc2xhdGUgPT09IHN3aXBlci50cmFuc2xhdGUpKSB7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KHNsaWRlSW5kZXgpO1xuICAgIC8vIFVwZGF0ZSBIZWlnaHRcbiAgICBpZiAocGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gICAgfVxuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgaWYgKHBhcmFtcy5lZmZlY3QgIT09ICdzbGlkZScpIHtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICB9XG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gJ3Jlc2V0Jykge1xuICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gICAgICBzd2lwZXIudHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBjb25zdCBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgY29uc3QgdCA9IHJ0bCA/IHRyYW5zbGF0ZSA6IC10cmFuc2xhdGU7XG4gICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnbm9uZSc7XG4gICAgICAgIHN3aXBlci5faW1tZWRpYXRlVmlydHVhbCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNWaXJ0dWFsICYmICFzd2lwZXIuX2Nzc01vZGVWaXJ0dWFsSW5pdGlhbFNldCAmJiBzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSA+IDApIHtcbiAgICAgICAgc3dpcGVyLl9jc3NNb2RlVmlydHVhbEluaXRpYWxTZXQgPSB0cnVlO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuICAgICAgfVxuICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnJztcbiAgICAgICAgICBzd2lwZXIuX2ltbWVkaWF0ZVZpcnR1YWwgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc3dpcGVyLnN1cHBvcnQuc21vb3RoU2Nyb2xsKSB7XG4gICAgICAgIGFuaW1hdGVDU1NNb2RlU2Nyb2xsKHtcbiAgICAgICAgICBzd2lwZXIsXG4gICAgICAgICAgdGFyZ2V0UG9zaXRpb246IHQsXG4gICAgICAgICAgc2lkZTogaXNIID8gJ2xlZnQnIDogJ3RvcCdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgW2lzSCA/ICdsZWZ0JyA6ICd0b3AnXTogdCxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgYnJvd3NlciA9IGdldEJyb3dzZXIoKTtcbiAgY29uc3QgaXNTYWZhcmkgPSBicm93c2VyLmlzU2FmYXJpO1xuICBpZiAoaXNWaXJ0dWFsICYmICFpbml0aWFsICYmIGlzU2FmYXJpICYmIHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICBzd2lwZXIudmlydHVhbC51cGRhdGUoZmFsc2UsIGZhbHNlLCBzbGlkZUluZGV4KTtcbiAgfVxuICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KHNsaWRlSW5kZXgpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgc3dpcGVyLnRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gIGlmIChzcGVlZCA9PT0gMCkge1xuICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgfSBlbHNlIGlmICghc3dpcGVyLmFuaW1hdGluZykge1xuICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgIGlmICghc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSB7XG4gICAgICBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGUpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZDtcbiAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgfTtcbiAgICB9XG4gICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2xpZGVUb0xvb3AoaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgaW5kZXggPSAwO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBpbmRleEFzTnVtYmVyID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgICBpbmRleCA9IGluZGV4QXNOdW1iZXI7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzcGVlZCA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQgJiYgc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuICBsZXQgbmV3SW5kZXggPSBpbmRleDtcbiAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgIGlmIChzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBuZXdJbmRleCA9IG5ld0luZGV4ICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdGFyZ2V0U2xpZGVJbmRleDtcbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBzbGlkZUluZGV4ID0gbmV3SW5kZXggKiBzd2lwZXIucGFyYW1zLmdyaWQucm93cztcbiAgICAgICAgdGFyZ2V0U2xpZGVJbmRleCA9IHN3aXBlci5zbGlkZXMuZmluZChzbGlkZUVsID0+IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA9PT0gc2xpZGVJbmRleCkuY29sdW1uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0U2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKG5ld0luZGV4KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbHMgPSBncmlkRW5hYmxlZCA/IE1hdGguY2VpbChzd2lwZXIuc2xpZGVzLmxlbmd0aCAvIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzKSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjZW50ZXJlZFNsaWRlc1xuICAgICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgICBsZXQgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChzbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICAgICAgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVzUGVyVmlldyA9IE1hdGguY2VpbChwYXJzZUZsb2F0KHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldywgMTApKTtcbiAgICAgICAgaWYgKGNlbnRlcmVkU2xpZGVzICYmIHNsaWRlc1BlclZpZXcgJSAyID09PSAwKSB7XG4gICAgICAgICAgc2xpZGVzUGVyVmlldyA9IHNsaWRlc1BlclZpZXcgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgbmVlZExvb3BGaXggPSBjb2xzIC0gdGFyZ2V0U2xpZGVJbmRleCA8IHNsaWRlc1BlclZpZXc7XG4gICAgICBpZiAoY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgbmVlZExvb3BGaXggPSBuZWVkTG9vcEZpeCB8fCB0YXJnZXRTbGlkZUluZGV4IDwgTWF0aC5jZWlsKHNsaWRlc1BlclZpZXcgLyAyKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnRlcm5hbCAmJiBjZW50ZXJlZFNsaWRlcyAmJiBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiAhZ3JpZEVuYWJsZWQpIHtcbiAgICAgICAgbmVlZExvb3BGaXggPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTG9vcEZpeCkge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBjZW50ZXJlZFNsaWRlcyA/IHRhcmdldFNsaWRlSW5kZXggPCBzd2lwZXIuYWN0aXZlSW5kZXggPyAncHJldicgOiAnbmV4dCcgOiB0YXJnZXRTbGlkZUluZGV4IC0gc3dpcGVyLmFjdGl2ZUluZGV4IC0gMSA8IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgICBzbGlkZVRvOiB0cnVlLFxuICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXg6IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gdGFyZ2V0U2xpZGVJbmRleCArIDEgOiB0YXJnZXRTbGlkZUluZGV4IC0gY29scyArIDEsXG4gICAgICAgICAgc2xpZGVSZWFsSW5kZXg6IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gc3dpcGVyLnJlYWxJbmRleCA6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBzbGlkZUluZGV4ID0gbmV3SW5kZXggKiBzd2lwZXIucGFyYW1zLmdyaWQucm93cztcbiAgICAgICAgbmV3SW5kZXggPSBzd2lwZXIuc2xpZGVzLmZpbmQoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgPT09IHNsaWRlSW5kZXgpLmNvbHVtbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0luZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEobmV3SW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHN3aXBlci5zbGlkZVRvKG5ld0luZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH0pO1xuICByZXR1cm4gc3dpcGVyO1xufVxuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlTmV4dChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBlbmFibGVkLFxuICAgIHBhcmFtcyxcbiAgICBhbmltYXRpbmdcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybiBzd2lwZXI7XG4gIGlmICh0eXBlb2Ygc3BlZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3BlZWQgPSBzd2lwZXIucGFyYW1zLnNwZWVkO1xuICB9XG4gIGxldCBwZXJHcm91cCA9IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cEF1dG8pIHtcbiAgICBwZXJHcm91cCA9IE1hdGgubWF4KHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygnY3VycmVudCcsIHRydWUpLCAxKTtcbiAgfVxuICBjb25zdCBpbmNyZW1lbnQgPSBzd2lwZXIuYWN0aXZlSW5kZXggPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwID8gMSA6IHBlckdyb3VwO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoYW5pbWF0aW5nICYmICFpc1ZpcnR1YWwgJiYgcGFyYW1zLmxvb3BQcmV2ZW50c1NsaWRpbmcpIHJldHVybiBmYWxzZTtcbiAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICBkaXJlY3Rpb246ICduZXh0J1xuICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHN3aXBlci5fY2xpZW50TGVmdCA9IHN3aXBlci53cmFwcGVyRWwuY2xpZW50TGVmdDtcbiAgICBpZiAoc3dpcGVyLmFjdGl2ZUluZGV4ID09PSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEgJiYgcGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCArIGluY3JlbWVudCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHBhcmFtcy5yZXdpbmQgJiYgc3dpcGVyLmlzRW5kKSB7XG4gICAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKDAsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgfVxuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4ICsgaW5jcmVtZW50LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVQcmV2KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbmFwR3JpZCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIHJ0bFRyYW5zbGF0ZSxcbiAgICBlbmFibGVkLFxuICAgIGFuaW1hdGluZ1xuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuIHN3aXBlcjtcbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzcGVlZCA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgaWYgKGFuaW1hdGluZyAmJiAhaXNWaXJ0dWFsICYmIHBhcmFtcy5sb29wUHJldmVudHNTbGlkaW5nKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgZGlyZWN0aW9uOiAncHJldidcbiAgICB9KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBzd2lwZXIuX2NsaWVudExlZnQgPSBzd2lwZXIud3JhcHBlckVsLmNsaWVudExlZnQ7XG4gIH1cbiAgY29uc3QgdHJhbnNsYXRlID0gcnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBmdW5jdGlvbiBub3JtYWxpemUodmFsKSB7XG4gICAgaWYgKHZhbCA8IDApIHJldHVybiAtTWF0aC5mbG9vcihNYXRoLmFicyh2YWwpKTtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih2YWwpO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWRUcmFuc2xhdGUgPSBub3JtYWxpemUodHJhbnNsYXRlKTtcbiAgY29uc3Qgbm9ybWFsaXplZFNuYXBHcmlkID0gc25hcEdyaWQubWFwKHZhbCA9PiBub3JtYWxpemUodmFsKSk7XG4gIGNvbnN0IGlzRnJlZU1vZGUgPSBwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQ7XG4gIGxldCBwcmV2U25hcCA9IHNuYXBHcmlkW25vcm1hbGl6ZWRTbmFwR3JpZC5pbmRleE9mKG5vcm1hbGl6ZWRUcmFuc2xhdGUpIC0gMV07XG4gIGlmICh0eXBlb2YgcHJldlNuYXAgPT09ICd1bmRlZmluZWQnICYmIChwYXJhbXMuY3NzTW9kZSB8fCBpc0ZyZWVNb2RlKSkge1xuICAgIGxldCBwcmV2U25hcEluZGV4O1xuICAgIHNuYXBHcmlkLmZvckVhY2goKHNuYXAsIHNuYXBJbmRleCkgPT4ge1xuICAgICAgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gc25hcCkge1xuICAgICAgICAvLyBwcmV2U25hcCA9IHNuYXA7XG4gICAgICAgIHByZXZTbmFwSW5kZXggPSBzbmFwSW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBwcmV2U25hcEluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcHJldlNuYXAgPSBpc0ZyZWVNb2RlID8gc25hcEdyaWRbcHJldlNuYXBJbmRleF0gOiBzbmFwR3JpZFtwcmV2U25hcEluZGV4ID4gMCA/IHByZXZTbmFwSW5kZXggLSAxIDogcHJldlNuYXBJbmRleF07XG4gICAgfVxuICB9XG4gIGxldCBwcmV2SW5kZXggPSAwO1xuICBpZiAodHlwZW9mIHByZXZTbmFwICE9PSAndW5kZWZpbmVkJykge1xuICAgIHByZXZJbmRleCA9IHNsaWRlc0dyaWQuaW5kZXhPZihwcmV2U25hcCk7XG4gICAgaWYgKHByZXZJbmRleCA8IDApIHByZXZJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCAtIDE7XG4gICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cEF1dG8pIHtcbiAgICAgIHByZXZJbmRleCA9IHByZXZJbmRleCAtIHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygncHJldmlvdXMnLCB0cnVlKSArIDE7XG4gICAgICBwcmV2SW5kZXggPSBNYXRoLm1heChwcmV2SW5kZXgsIDApO1xuICAgIH1cbiAgfVxuICBpZiAocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICBjb25zdCBsYXN0SW5kZXggPSBzd2lwZXIucGFyYW1zLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgc3dpcGVyLnZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIC0gMSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8obGFzdEluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH0gZWxzZSBpZiAocGFyYW1zLmxvb3AgJiYgc3dpcGVyLmFjdGl2ZUluZGV4ID09PSAwICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHByZXZJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhwcmV2SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVJlc2V0KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzcGVlZCA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufVxuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlVG9DbG9zZXN0KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsLCB0aHJlc2hvbGQpIHtcbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBpZiAodGhyZXNob2xkID09PSB2b2lkIDApIHtcbiAgICB0aHJlc2hvbGQgPSAwLjU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzcGVlZCA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgbGV0IGluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICBjb25zdCBza2lwID0gTWF0aC5taW4oc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGluZGV4KTtcbiAgY29uc3Qgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKGluZGV4IC0gc2tpcCkgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgY29uc3QgdHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgaWYgKHRyYW5zbGF0ZSA+PSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XSkge1xuICAgIC8vIFRoZSBjdXJyZW50IHRyYW5zbGF0ZSBpcyBvbiBvciBhZnRlciB0aGUgY3VycmVudCBzbmFwIGluZGV4LCBzbyB0aGUgY2hvaWNlXG4gICAgLy8gaXMgYmV0d2VlbiB0aGUgY3VycmVudCBpbmRleCBhbmQgdGhlIG9uZSBhZnRlciBpdC5cbiAgICBjb25zdCBjdXJyZW50U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdO1xuICAgIGNvbnN0IG5leHRTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleCArIDFdO1xuICAgIGlmICh0cmFuc2xhdGUgLSBjdXJyZW50U25hcCA+IChuZXh0U25hcCAtIGN1cnJlbnRTbmFwKSAqIHRocmVzaG9sZCkge1xuICAgICAgaW5kZXggKz0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlIGlzIGJlZm9yZSB0aGUgY3VycmVudCBzbmFwIGluZGV4LCBzbyB0aGUgY2hvaWNlXG4gICAgLy8gaXMgYmV0d2VlbiB0aGUgY3VycmVudCBpbmRleCBhbmQgdGhlIG9uZSBiZWZvcmUgaXQuXG4gICAgY29uc3QgcHJldlNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4IC0gMV07XG4gICAgY29uc3QgY3VycmVudFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XTtcbiAgICBpZiAodHJhbnNsYXRlIC0gcHJldlNuYXAgPD0gKGN1cnJlbnRTbmFwIC0gcHJldlNuYXApICogdGhyZXNob2xkKSB7XG4gICAgICBpbmRleCAtPSBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIH1cbiAgfVxuICBpbmRleCA9IE1hdGgubWF4KGluZGV4LCAwKTtcbiAgaW5kZXggPSBNYXRoLm1pbihpbmRleCwgc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoIC0gMSk7XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhpbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufVxuXG5mdW5jdGlvbiBzbGlkZVRvQ2xpY2tlZFNsaWRlKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHNsaWRlc1BlclZpZXcgPSBwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgbGV0IHNsaWRlVG9JbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4V2hlbkdyaWQoc3dpcGVyLmNsaWNrZWRJbmRleCk7XG4gIGxldCByZWFsSW5kZXg7XG4gIGNvbnN0IHNsaWRlU2VsZWN0b3IgPSBzd2lwZXIuaXNFbGVtZW50ID8gYHN3aXBlci1zbGlkZWAgOiBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9YDtcbiAgY29uc3QgaXNHcmlkID0gc3dpcGVyLmdyaWQgJiYgc3dpcGVyLnBhcmFtcy5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci5hbmltYXRpbmcpIHJldHVybjtcbiAgICByZWFsSW5kZXggPSBwYXJzZUludChzd2lwZXIuY2xpY2tlZFNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvTG9vcChyZWFsSW5kZXgpO1xuICAgIH0gZWxzZSBpZiAoc2xpZGVUb0luZGV4ID4gKGlzR3JpZCA/IChzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHNsaWRlc1BlclZpZXcpIC8gMiAtIChzd2lwZXIucGFyYW1zLmdyaWQucm93cyAtIDEpIDogc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBzbGlkZXNQZXJWaWV3KSkge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgIHNsaWRlVG9JbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4KGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYCR7c2xpZGVTZWxlY3Rvcn1bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3JlYWxJbmRleH1cIl1gKVswXSk7XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgfVxufVxuXG52YXIgc2xpZGUgPSB7XG4gIHNsaWRlVG8sXG4gIHNsaWRlVG9Mb29wLFxuICBzbGlkZU5leHQsXG4gIHNsaWRlUHJldixcbiAgc2xpZGVSZXNldCxcbiAgc2xpZGVUb0Nsb3Nlc3QsXG4gIHNsaWRlVG9DbGlja2VkU2xpZGVcbn07XG5cbmZ1bmN0aW9uIGxvb3BDcmVhdGUoc2xpZGVSZWFsSW5kZXgsIGluaXRpYWwpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbGlkZXNFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIXBhcmFtcy5sb29wIHx8IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSByZXR1cm47XG4gIGNvbnN0IGluaXRTbGlkZXMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgICBzbGlkZXMuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JywgaW5kZXgpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBjbGVhckJsYW5rU2xpZGVzID0gKCkgPT4ge1xuICAgIGNvbnN0IHNsaWRlcyA9IGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3BhcmFtcy5zbGlkZUJsYW5rQ2xhc3N9YCk7XG4gICAgc2xpZGVzLmZvckVhY2goZWwgPT4ge1xuICAgICAgZWwucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgaWYgKHNsaWRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuICBpZiAocGFyYW1zLmxvb3BBZGRCbGFua1NsaWRlcyAmJiAocGFyYW1zLnNsaWRlc1Blckdyb3VwID4gMSB8fCBncmlkRW5hYmxlZCkpIHtcbiAgICBjbGVhckJsYW5rU2xpZGVzKCk7XG4gIH1cbiAgY29uc3Qgc2xpZGVzUGVyR3JvdXAgPSBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgKiAoZ3JpZEVuYWJsZWQgPyBwYXJhbXMuZ3JpZC5yb3dzIDogMSk7XG4gIGNvbnN0IHNob3VsZEZpbGxHcm91cCA9IHN3aXBlci5zbGlkZXMubGVuZ3RoICUgc2xpZGVzUGVyR3JvdXAgIT09IDA7XG4gIGNvbnN0IHNob3VsZEZpbGxHcmlkID0gZ3JpZEVuYWJsZWQgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGggJSBwYXJhbXMuZ3JpZC5yb3dzICE9PSAwO1xuICBjb25zdCBhZGRCbGFua1NsaWRlcyA9IGFtb3VudE9mU2xpZGVzID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudE9mU2xpZGVzOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzd2lwZXIuaXNFbGVtZW50ID8gY3JlYXRlRWxlbWVudCgnc3dpcGVyLXNsaWRlJywgW3BhcmFtcy5zbGlkZUJsYW5rQ2xhc3NdKSA6IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIFtwYXJhbXMuc2xpZGVDbGFzcywgcGFyYW1zLnNsaWRlQmxhbmtDbGFzc10pO1xuICAgICAgc3dpcGVyLnNsaWRlc0VsLmFwcGVuZChzbGlkZUVsKTtcbiAgICB9XG4gIH07XG4gIGlmIChzaG91bGRGaWxsR3JvdXApIHtcbiAgICBpZiAocGFyYW1zLmxvb3BBZGRCbGFua1NsaWRlcykge1xuICAgICAgY29uc3Qgc2xpZGVzVG9BZGQgPSBzbGlkZXNQZXJHcm91cCAtIHN3aXBlci5zbGlkZXMubGVuZ3RoICUgc2xpZGVzUGVyR3JvdXA7XG4gICAgICBhZGRCbGFua1NsaWRlcyhzbGlkZXNUb0FkZCk7XG4gICAgICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZXZlbiB0byBzbGlkZXNQZXJHcm91cCwgbG9vcCBtb2RlIG1heSBub3QgZnVuY3Rpb24gcHJvcGVybHkuIFlvdSBuZWVkIHRvIGFkZCBtb3JlIHNsaWRlcyAob3IgbWFrZSBkdXBsaWNhdGVzLCBvciBlbXB0eSBzbGlkZXMpJyk7XG4gICAgfVxuICAgIGluaXRTbGlkZXMoKTtcbiAgfSBlbHNlIGlmIChzaG91bGRGaWxsR3JpZCkge1xuICAgIGlmIChwYXJhbXMubG9vcEFkZEJsYW5rU2xpZGVzKSB7XG4gICAgICBjb25zdCBzbGlkZXNUb0FkZCA9IHBhcmFtcy5ncmlkLnJvd3MgLSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAlIHBhcmFtcy5ncmlkLnJvd3M7XG4gICAgICBhZGRCbGFua1NsaWRlcyhzbGlkZXNUb0FkZCk7XG4gICAgICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZXZlbiB0byBncmlkLnJvd3MsIGxvb3AgbW9kZSBtYXkgbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcywgb3IgZW1wdHkgc2xpZGVzKScpO1xuICAgIH1cbiAgICBpbml0U2xpZGVzKCk7XG4gIH0gZWxzZSB7XG4gICAgaW5pdFNsaWRlcygpO1xuICB9XG4gIHN3aXBlci5sb29wRml4KHtcbiAgICBzbGlkZVJlYWxJbmRleCxcbiAgICBkaXJlY3Rpb246IHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHVuZGVmaW5lZCA6ICduZXh0JyxcbiAgICBpbml0aWFsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb29wRml4KF90ZW1wKSB7XG4gIGxldCB7XG4gICAgc2xpZGVSZWFsSW5kZXgsXG4gICAgc2xpZGVUbyA9IHRydWUsXG4gICAgZGlyZWN0aW9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBhY3RpdmVTbGlkZUluZGV4LFxuICAgIGluaXRpYWwsXG4gICAgYnlDb250cm9sbGVyLFxuICAgIGJ5TW91c2V3aGVlbFxuICB9ID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLnBhcmFtcy5sb29wKSByZXR1cm47XG4gIHN3aXBlci5lbWl0KCdiZWZvcmVMb29wRml4Jyk7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXMsXG4gICAgYWxsb3dTbGlkZVByZXYsXG4gICAgYWxsb3dTbGlkZU5leHQsXG4gICAgc2xpZGVzRWwsXG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHtcbiAgICBjZW50ZXJlZFNsaWRlcyxcbiAgICBpbml0aWFsU2xpZGVcbiAgfSA9IHBhcmFtcztcbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gdHJ1ZTtcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gdHJ1ZTtcbiAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICBpZiAoc2xpZGVUbykge1xuICAgICAgaWYgKCFwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgc3dpcGVyLnNuYXBJbmRleCA9PT0gMCkge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBzd2lwZXIuc25hcEluZGV4IDwgcGFyYW1zLnNsaWRlc1BlclZpZXcpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCArIHN3aXBlci5zbmFwSW5kZXgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLnNuYXBJbmRleCA9PT0gc3dpcGVyLnNuYXBHcmlkLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICAgIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuICAgIHN3aXBlci5lbWl0KCdsb29wRml4Jyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzbGlkZXNQZXJWaWV3ID0gcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gIGlmIChzbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCk7XG4gIH0gZWxzZSB7XG4gICAgc2xpZGVzUGVyVmlldyA9IE1hdGguY2VpbChwYXJzZUZsb2F0KHBhcmFtcy5zbGlkZXNQZXJWaWV3LCAxMCkpO1xuICAgIGlmIChjZW50ZXJlZFNsaWRlcyAmJiBzbGlkZXNQZXJWaWV3ICUgMiA9PT0gMCkge1xuICAgICAgc2xpZGVzUGVyVmlldyA9IHNsaWRlc1BlclZpZXcgKyAxO1xuICAgIH1cbiAgfVxuICBjb25zdCBzbGlkZXNQZXJHcm91cCA9IHBhcmFtcy5zbGlkZXNQZXJHcm91cEF1dG8gPyBzbGlkZXNQZXJWaWV3IDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICBsZXQgbG9vcGVkU2xpZGVzID0gY2VudGVyZWRTbGlkZXMgPyBNYXRoLm1heChzbGlkZXNQZXJHcm91cCwgTWF0aC5jZWlsKHNsaWRlc1BlclZpZXcgLyAyKSkgOiBzbGlkZXNQZXJHcm91cDtcbiAgaWYgKGxvb3BlZFNsaWRlcyAlIHNsaWRlc1Blckdyb3VwICE9PSAwKSB7XG4gICAgbG9vcGVkU2xpZGVzICs9IHNsaWRlc1Blckdyb3VwIC0gbG9vcGVkU2xpZGVzICUgc2xpZGVzUGVyR3JvdXA7XG4gIH1cbiAgbG9vcGVkU2xpZGVzICs9IHBhcmFtcy5sb29wQWRkaXRpb25hbFNsaWRlcztcbiAgc3dpcGVyLmxvb3BlZFNsaWRlcyA9IGxvb3BlZFNsaWRlcztcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgaWYgKHNsaWRlcy5sZW5ndGggPCBzbGlkZXNQZXJWaWV3ICsgbG9vcGVkU2xpZGVzIHx8IHN3aXBlci5wYXJhbXMuZWZmZWN0ID09PSAnY2FyZHMnICYmIHNsaWRlcy5sZW5ndGggPCBzbGlkZXNQZXJWaWV3ICsgbG9vcGVkU2xpZGVzICogMikge1xuICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZW5vdWdoIGZvciBsb29wIG1vZGUsIGl0IHdpbGwgYmUgZGlzYWJsZWQgb3Igbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcykgb3IgbG93ZXIgdGhlIHZhbHVlcyBvZiBzbGlkZXNQZXJWaWV3IGFuZCBzbGlkZXNQZXJHcm91cCBwYXJhbWV0ZXJzJyk7XG4gIH0gZWxzZSBpZiAoZ3JpZEVuYWJsZWQgJiYgcGFyYW1zLmdyaWQuZmlsbCA9PT0gJ3JvdycpIHtcbiAgICBzaG93V2FybmluZygnU3dpcGVyIExvb3AgV2FybmluZzogTG9vcCBtb2RlIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggZ3JpZC5maWxsID0gYHJvd2AnKTtcbiAgfVxuICBjb25zdCBwcmVwZW5kU2xpZGVzSW5kZXhlcyA9IFtdO1xuICBjb25zdCBhcHBlbmRTbGlkZXNJbmRleGVzID0gW107XG4gIGNvbnN0IGNvbHMgPSBncmlkRW5hYmxlZCA/IE1hdGguY2VpbChzbGlkZXMubGVuZ3RoIC8gcGFyYW1zLmdyaWQucm93cykgOiBzbGlkZXMubGVuZ3RoO1xuICBjb25zdCBpc0luaXRpYWxPdmVyZmxvdyA9IGluaXRpYWwgJiYgY29scyAtIGluaXRpYWxTbGlkZSA8IHNsaWRlc1BlclZpZXcgJiYgIWNlbnRlcmVkU2xpZGVzO1xuICBsZXQgYWN0aXZlSW5kZXggPSBpc0luaXRpYWxPdmVyZmxvdyA/IGluaXRpYWxTbGlkZSA6IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgaWYgKHR5cGVvZiBhY3RpdmVTbGlkZUluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleChzbGlkZXMuZmluZChlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMocGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpKSk7XG4gIH0gZWxzZSB7XG4gICAgYWN0aXZlSW5kZXggPSBhY3RpdmVTbGlkZUluZGV4O1xuICB9XG4gIGNvbnN0IGlzTmV4dCA9IGRpcmVjdGlvbiA9PT0gJ25leHQnIHx8ICFkaXJlY3Rpb247XG4gIGNvbnN0IGlzUHJldiA9IGRpcmVjdGlvbiA9PT0gJ3ByZXYnIHx8ICFkaXJlY3Rpb247XG4gIGxldCBzbGlkZXNQcmVwZW5kZWQgPSAwO1xuICBsZXQgc2xpZGVzQXBwZW5kZWQgPSAwO1xuICBjb25zdCBhY3RpdmVDb2xJbmRleCA9IGdyaWRFbmFibGVkID8gc2xpZGVzW2FjdGl2ZVNsaWRlSW5kZXhdLmNvbHVtbiA6IGFjdGl2ZVNsaWRlSW5kZXg7XG4gIGNvbnN0IGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0ID0gYWN0aXZlQ29sSW5kZXggKyAoY2VudGVyZWRTbGlkZXMgJiYgdHlwZW9mIHNldFRyYW5zbGF0ZSA9PT0gJ3VuZGVmaW5lZCcgPyAtc2xpZGVzUGVyVmlldyAvIDIgKyAwLjUgOiAwKTtcbiAgLy8gcHJlcGVuZCBsYXN0IHNsaWRlcyBiZWZvcmUgc3RhcnRcbiAgaWYgKGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0IDwgbG9vcGVkU2xpZGVzKSB7XG4gICAgc2xpZGVzUHJlcGVuZGVkID0gTWF0aC5tYXgobG9vcGVkU2xpZGVzIC0gYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQsIHNsaWRlc1Blckdyb3VwKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvb3BlZFNsaWRlcyAtIGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0OyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaSAtIE1hdGguZmxvb3IoaSAvIGNvbHMpICogY29scztcbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBjb2xJbmRleFRvUHJlcGVuZCA9IGNvbHMgLSBpbmRleCAtIDE7XG4gICAgICAgIGZvciAobGV0IGkgPSBzbGlkZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICBpZiAoc2xpZGVzW2ldLmNvbHVtbiA9PT0gY29sSW5kZXhUb1ByZXBlbmQpIHByZXBlbmRTbGlkZXNJbmRleGVzLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2xpZGVzLmZvckVhY2goKHNsaWRlLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICAgIC8vICAgaWYgKHNsaWRlLmNvbHVtbiA9PT0gY29sSW5kZXhUb1ByZXBlbmQpIHByZXBlbmRTbGlkZXNJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJlcGVuZFNsaWRlc0luZGV4ZXMucHVzaChjb2xzIC0gaW5kZXggLSAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgKyBzbGlkZXNQZXJWaWV3ID4gY29scyAtIGxvb3BlZFNsaWRlcykge1xuICAgIHNsaWRlc0FwcGVuZGVkID0gTWF0aC5tYXgoYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgLSAoY29scyAtIGxvb3BlZFNsaWRlcyAqIDIpLCBzbGlkZXNQZXJHcm91cCk7XG4gICAgaWYgKGlzSW5pdGlhbE92ZXJmbG93KSB7XG4gICAgICBzbGlkZXNBcHBlbmRlZCA9IE1hdGgubWF4KHNsaWRlc0FwcGVuZGVkLCBzbGlkZXNQZXJWaWV3IC0gY29scyArIGluaXRpYWxTbGlkZSArIDEpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0FwcGVuZGVkOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaSAtIE1hdGguZmxvb3IoaSAvIGNvbHMpICogY29scztcbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBzbGlkZXMuZm9yRWFjaCgoc2xpZGUsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoc2xpZGUuY29sdW1uID09PSBpbmRleCkgYXBwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKHNsaWRlSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGVuZFNsaWRlc0luZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gdHJ1ZTtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IGZhbHNlO1xuICB9KTtcbiAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ID09PSAnY2FyZHMnICYmIHNsaWRlcy5sZW5ndGggPCBzbGlkZXNQZXJWaWV3ICsgbG9vcGVkU2xpZGVzICogMikge1xuICAgIGlmIChhcHBlbmRTbGlkZXNJbmRleGVzLmluY2x1ZGVzKGFjdGl2ZVNsaWRlSW5kZXgpKSB7XG4gICAgICBhcHBlbmRTbGlkZXNJbmRleGVzLnNwbGljZShhcHBlbmRTbGlkZXNJbmRleGVzLmluZGV4T2YoYWN0aXZlU2xpZGVJbmRleCksIDEpO1xuICAgIH1cbiAgICBpZiAocHJlcGVuZFNsaWRlc0luZGV4ZXMuaW5jbHVkZXMoYWN0aXZlU2xpZGVJbmRleCkpIHtcbiAgICAgIHByZXBlbmRTbGlkZXNJbmRleGVzLnNwbGljZShwcmVwZW5kU2xpZGVzSW5kZXhlcy5pbmRleE9mKGFjdGl2ZVNsaWRlSW5kZXgpLCAxKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzUHJldikge1xuICAgIHByZXBlbmRTbGlkZXNJbmRleGVzLmZvckVhY2goaW5kZXggPT4ge1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IHRydWU7XG4gICAgICBzbGlkZXNFbC5wcmVwZW5kKHNsaWRlc1tpbmRleF0pO1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIGlmIChpc05leHQpIHtcbiAgICBhcHBlbmRTbGlkZXNJbmRleGVzLmZvckVhY2goaW5kZXggPT4ge1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IHRydWU7XG4gICAgICBzbGlkZXNFbC5hcHBlbmQoc2xpZGVzW2luZGV4XSk7XG4gICAgICBzbGlkZXNbaW5kZXhdLnN3aXBlckxvb3BNb3ZlRE9NID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgfSBlbHNlIGlmIChncmlkRW5hYmxlZCAmJiAocHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc1ByZXYgfHwgYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzTmV4dCkpIHtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICBzd2lwZXIuZ3JpZC51cGRhdGVTbGlkZShzbGlkZUluZGV4LCBzbGlkZSwgc3dpcGVyLnNsaWRlcyk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc09mZnNldCgpO1xuICB9XG4gIGlmIChzbGlkZVRvKSB7XG4gICAgaWYgKHByZXBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCA+IDAgJiYgaXNQcmV2KSB7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlUmVhbEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBjdXJyZW50U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFthY3RpdmVJbmRleF07XG4gICAgICAgIGNvbnN0IG5ld1NsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbYWN0aXZlSW5kZXggKyBzbGlkZXNQcmVwZW5kZWRdO1xuICAgICAgICBjb25zdCBkaWZmID0gbmV3U2xpZGVUcmFuc2xhdGUgLSBjdXJyZW50U2xpZGVUcmFuc2xhdGU7XG4gICAgICAgIGlmIChieU1vdXNld2hlZWwpIHtcbiAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHN3aXBlci50cmFuc2xhdGUgLSBkaWZmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCArIE1hdGguY2VpbChzbGlkZXNQcmVwZW5kZWQpLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgaWYgKHNldFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzZXRUcmFuc2xhdGUpIHtcbiAgICAgICAgICBjb25zdCBzaGlmdCA9IGdyaWRFbmFibGVkID8gcHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoIC8gcGFyYW1zLmdyaWQucm93cyA6IHByZXBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aDtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggKyBzaGlmdCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFwcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc05leHQpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVSZWFsSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4XTtcbiAgICAgICAgY29uc3QgbmV3U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFthY3RpdmVJbmRleCAtIHNsaWRlc0FwcGVuZGVkXTtcbiAgICAgICAgY29uc3QgZGlmZiA9IG5ld1NsaWRlVHJhbnNsYXRlIC0gY3VycmVudFNsaWRlVHJhbnNsYXRlO1xuICAgICAgICBpZiAoYnlNb3VzZXdoZWVsKSB7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShzd2lwZXIudHJhbnNsYXRlIC0gZGlmZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oYWN0aXZlSW5kZXggLSBzbGlkZXNBcHBlbmRlZCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgIGlmIChzZXRUcmFuc2xhdGUpIHtcbiAgICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnN0YXJ0VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSAtIGRpZmY7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzaGlmdCA9IGdyaWRFbmFibGVkID8gYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggLyBwYXJhbXMuZ3JpZC5yb3dzIDogYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGg7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCAtIHNoaWZ0LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcbiAgaWYgKHN3aXBlci5jb250cm9sbGVyICYmIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgJiYgIWJ5Q29udHJvbGxlcikge1xuICAgIGNvbnN0IGxvb3BQYXJhbXMgPSB7XG4gICAgICBzbGlkZVJlYWxJbmRleCxcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIHNldFRyYW5zbGF0ZSxcbiAgICAgIGFjdGl2ZVNsaWRlSW5kZXgsXG4gICAgICBieUNvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wpKSB7XG4gICAgICBzd2lwZXIuY29udHJvbGxlci5jb250cm9sLmZvckVhY2goYyA9PiB7XG4gICAgICAgIGlmICghYy5kZXN0cm95ZWQgJiYgYy5wYXJhbXMubG9vcCkgYy5sb29wRml4KHtcbiAgICAgICAgICAuLi5sb29wUGFyYW1zLFxuICAgICAgICAgIHNsaWRlVG86IGMucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gc2xpZGVUbyA6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuY29udHJvbGxlci5jb250cm9sIGluc3RhbmNlb2Ygc3dpcGVyLmNvbnN0cnVjdG9yICYmIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wucGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wubG9vcEZpeCh7XG4gICAgICAgIC4uLmxvb3BQYXJhbXMsXG4gICAgICAgIHNsaWRlVG86IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gc2xpZGVUbyA6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ2xvb3BGaXgnKTtcbn1cblxuZnVuY3Rpb24gbG9vcERlc3Ryb3koKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFwYXJhbXMubG9vcCB8fCAhc2xpZGVzRWwgfHwgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBjb25zdCBuZXdTbGlkZXNPcmRlciA9IFtdO1xuICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgY29uc3QgaW5kZXggPSB0eXBlb2Ygc2xpZGVFbC5zd2lwZXJTbGlkZUluZGV4ID09PSAndW5kZWZpbmVkJyA/IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA6IHNsaWRlRWwuc3dpcGVyU2xpZGVJbmRleDtcbiAgICBuZXdTbGlkZXNPcmRlcltpbmRleF0gPSBzbGlkZUVsO1xuICB9KTtcbiAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIHNsaWRlRWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xuICB9KTtcbiAgbmV3U2xpZGVzT3JkZXIuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBzbGlkZXNFbC5hcHBlbmQoc2xpZGVFbCk7XG4gIH0pO1xuICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gIHN3aXBlci5zbGlkZVRvKHN3aXBlci5yZWFsSW5kZXgsIDApO1xufVxuXG52YXIgbG9vcCA9IHtcbiAgbG9vcENyZWF0ZSxcbiAgbG9vcEZpeCxcbiAgbG9vcERlc3Ryb3lcbn07XG5cbmZ1bmN0aW9uIHNldEdyYWJDdXJzb3IobW92aW5nKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLnBhcmFtcy5zaW11bGF0ZVRvdWNoIHx8IHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuaXNMb2NrZWQgfHwgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gIGNvbnN0IGVsID0gc3dpcGVyLnBhcmFtcy50b3VjaEV2ZW50c1RhcmdldCA9PT0gJ2NvbnRhaW5lcicgPyBzd2lwZXIuZWwgOiBzd2lwZXIud3JhcHBlckVsO1xuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gdHJ1ZTtcbiAgfVxuICBlbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XG4gIGVsLnN0eWxlLmN1cnNvciA9IG1vdmluZyA/ICdncmFiYmluZycgOiAnZ3JhYic7XG4gIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdW5zZXRHcmFiQ3Vyc29yKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5pc0xvY2tlZCB8fCBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IHRydWU7XG4gIH1cbiAgc3dpcGVyW3N3aXBlci5wYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPT09ICdjb250YWluZXInID8gJ2VsJyA6ICd3cmFwcGVyRWwnXS5zdHlsZS5jdXJzb3IgPSAnJztcbiAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuXG52YXIgZ3JhYkN1cnNvciA9IHtcbiAgc2V0R3JhYkN1cnNvcixcbiAgdW5zZXRHcmFiQ3Vyc29yXG59O1xuXG4vLyBNb2RpZmllZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU0NTIwNTU0L2N1c3RvbS1lbGVtZW50LWdldHJvb3Rub2RlLWNsb3Nlc3QtZnVuY3Rpb24tY3Jvc3NpbmctbXVsdGlwbGUtcGFyZW50LXNoYWRvd2RcbmZ1bmN0aW9uIGNsb3Nlc3RFbGVtZW50KHNlbGVjdG9yLCBiYXNlKSB7XG4gIGlmIChiYXNlID09PSB2b2lkIDApIHtcbiAgICBiYXNlID0gdGhpcztcbiAgfVxuICBmdW5jdGlvbiBfX2Nsb3Nlc3RGcm9tKGVsKSB7XG4gICAgaWYgKCFlbCB8fCBlbCA9PT0gZ2V0RG9jdW1lbnQoKSB8fCBlbCA9PT0gZ2V0V2luZG93KCkpIHJldHVybiBudWxsO1xuICAgIGlmIChlbC5hc3NpZ25lZFNsb3QpIGVsID0gZWwuYXNzaWduZWRTbG90O1xuICAgIGNvbnN0IGZvdW5kID0gZWwuY2xvc2VzdChzZWxlY3Rvcik7XG4gICAgaWYgKCFmb3VuZCAmJiAhZWwuZ2V0Um9vdE5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQgfHwgX19jbG9zZXN0RnJvbShlbC5nZXRSb290Tm9kZSgpLmhvc3QpO1xuICB9XG4gIHJldHVybiBfX2Nsb3Nlc3RGcm9tKGJhc2UpO1xufVxuZnVuY3Rpb24gcHJldmVudEVkZ2VTd2lwZShzd2lwZXIsIGV2ZW50LCBzdGFydFgpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgZWRnZVN3aXBlRGV0ZWN0aW9uID0gcGFyYW1zLmVkZ2VTd2lwZURldGVjdGlvbjtcbiAgY29uc3QgZWRnZVN3aXBlVGhyZXNob2xkID0gcGFyYW1zLmVkZ2VTd2lwZVRocmVzaG9sZDtcbiAgaWYgKGVkZ2VTd2lwZURldGVjdGlvbiAmJiAoc3RhcnRYIDw9IGVkZ2VTd2lwZVRocmVzaG9sZCB8fCBzdGFydFggPj0gd2luZG93LmlubmVyV2lkdGggLSBlZGdlU3dpcGVUaHJlc2hvbGQpKSB7XG4gICAgaWYgKGVkZ2VTd2lwZURldGVjdGlvbiA9PT0gJ3ByZXZlbnQnKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG9uVG91Y2hTdGFydChldmVudCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGxldCBlID0gZXZlbnQ7XG4gIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gIGNvbnN0IGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICBpZiAoZS50eXBlID09PSAncG9pbnRlcmRvd24nKSB7XG4gICAgaWYgKGRhdGEucG9pbnRlcklkICE9PSBudWxsICYmIGRhdGEucG9pbnRlcklkICE9PSBlLnBvaW50ZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYXRhLnBvaW50ZXJJZCA9IGUucG9pbnRlcklkO1xuICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICBkYXRhLnRvdWNoSWQgPSBlLnRhcmdldFRvdWNoZXNbMF0uaWRlbnRpZmllcjtcbiAgfVxuICBpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAvLyBkb24ndCBwcm9jZWVkIHRvdWNoIGV2ZW50XG4gICAgcHJldmVudEVkZ2VTd2lwZShzd2lwZXIsIGUsIGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgdG91Y2hlcyxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBpZiAoIXBhcmFtcy5zaW11bGF0ZVRvdWNoICYmIGUucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHJldHVybjtcbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLmNzc01vZGUgJiYgcGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcEZpeCgpO1xuICB9XG4gIGxldCB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuICBpZiAocGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnd3JhcHBlcicpIHtcbiAgICBpZiAoIWVsZW1lbnRJc0NoaWxkT2YodGFyZ2V0RWwsIHN3aXBlci53cmFwcGVyRWwpKSByZXR1cm47XG4gIH1cbiAgaWYgKCd3aGljaCcgaW4gZSAmJiBlLndoaWNoID09PSAzKSByZXR1cm47XG4gIGlmICgnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uID4gMCkgcmV0dXJuO1xuICBpZiAoZGF0YS5pc1RvdWNoZWQgJiYgZGF0YS5pc01vdmVkKSByZXR1cm47XG5cbiAgLy8gY2hhbmdlIHRhcmdldCBlbCBmb3Igc2hhZG93IHJvb3QgY29tcG9uZW50XG4gIGNvbnN0IHN3aXBpbmdDbGFzc0hhc1ZhbHVlID0gISFwYXJhbXMubm9Td2lwaW5nQ2xhc3MgJiYgcGFyYW1zLm5vU3dpcGluZ0NsYXNzICE9PSAnJztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGNvbnN0IGV2ZW50UGF0aCA9IGUuY29tcG9zZWRQYXRoID8gZS5jb21wb3NlZFBhdGgoKSA6IGUucGF0aDtcbiAgaWYgKHN3aXBpbmdDbGFzc0hhc1ZhbHVlICYmIGUudGFyZ2V0ICYmIGUudGFyZ2V0LnNoYWRvd1Jvb3QgJiYgZXZlbnRQYXRoKSB7XG4gICAgdGFyZ2V0RWwgPSBldmVudFBhdGhbMF07XG4gIH1cbiAgY29uc3Qgbm9Td2lwaW5nU2VsZWN0b3IgPSBwYXJhbXMubm9Td2lwaW5nU2VsZWN0b3IgPyBwYXJhbXMubm9Td2lwaW5nU2VsZWN0b3IgOiBgLiR7cGFyYW1zLm5vU3dpcGluZ0NsYXNzfWA7XG4gIGNvbnN0IGlzVGFyZ2V0U2hhZG93ID0gISEoZS50YXJnZXQgJiYgZS50YXJnZXQuc2hhZG93Um9vdCk7XG5cbiAgLy8gdXNlIGNsb3Nlc3RFbGVtZW50IGZvciBzaGFkb3cgcm9vdCBlbGVtZW50IHRvIGdldCB0aGUgYWN0dWFsIGNsb3Nlc3QgZm9yIG5lc3RlZCBzaGFkb3cgcm9vdCBlbGVtZW50XG4gIGlmIChwYXJhbXMubm9Td2lwaW5nICYmIChpc1RhcmdldFNoYWRvdyA/IGNsb3Nlc3RFbGVtZW50KG5vU3dpcGluZ1NlbGVjdG9yLCB0YXJnZXRFbCkgOiB0YXJnZXRFbC5jbG9zZXN0KG5vU3dpcGluZ1NlbGVjdG9yKSkpIHtcbiAgICBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMuc3dpcGVIYW5kbGVyKSB7XG4gICAgaWYgKCF0YXJnZXRFbC5jbG9zZXN0KHBhcmFtcy5zd2lwZUhhbmRsZXIpKSByZXR1cm47XG4gIH1cbiAgdG91Y2hlcy5jdXJyZW50WCA9IGUucGFnZVg7XG4gIHRvdWNoZXMuY3VycmVudFkgPSBlLnBhZ2VZO1xuICBjb25zdCBzdGFydFggPSB0b3VjaGVzLmN1cnJlbnRYO1xuICBjb25zdCBzdGFydFkgPSB0b3VjaGVzLmN1cnJlbnRZO1xuXG4gIC8vIERvIE5PVCBzdGFydCBpZiBpT1MgZWRnZSBzd2lwZSBpcyBkZXRlY3RlZC4gT3RoZXJ3aXNlIGlPUyBhcHAgY2Fubm90IHN3aXBlLXRvLWdvLWJhY2sgYW55bW9yZVxuXG4gIGlmICghcHJldmVudEVkZ2VTd2lwZShzd2lwZXIsIGUsIHN0YXJ0WCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihkYXRhLCB7XG4gICAgaXNUb3VjaGVkOiB0cnVlLFxuICAgIGlzTW92ZWQ6IGZhbHNlLFxuICAgIGFsbG93VG91Y2hDYWxsYmFja3M6IHRydWUsXG4gICAgaXNTY3JvbGxpbmc6IHVuZGVmaW5lZCxcbiAgICBzdGFydE1vdmluZzogdW5kZWZpbmVkXG4gIH0pO1xuICB0b3VjaGVzLnN0YXJ0WCA9IHN0YXJ0WDtcbiAgdG91Y2hlcy5zdGFydFkgPSBzdGFydFk7XG4gIGRhdGEudG91Y2hTdGFydFRpbWUgPSBub3coKTtcbiAgc3dpcGVyLmFsbG93Q2xpY2sgPSB0cnVlO1xuICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuICBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPSB1bmRlZmluZWQ7XG4gIGlmIChwYXJhbXMudGhyZXNob2xkID4gMCkgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgPSBmYWxzZTtcbiAgbGV0IHByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcbiAgaWYgKHRhcmdldEVsLm1hdGNoZXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykpIHtcbiAgICBwcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuICAgIGlmICh0YXJnZXRFbC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0YXJnZXRFbCAmJiAoZS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBlLnBvaW50ZXJUeXBlICE9PSAnbW91c2UnICYmICF0YXJnZXRFbC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSkge1xuICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICB9XG4gIGNvbnN0IHNob3VsZFByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQgJiYgc3dpcGVyLmFsbG93VG91Y2hNb3ZlICYmIHBhcmFtcy50b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ7XG4gIGlmICgocGFyYW1zLnRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0IHx8IHNob3VsZFByZXZlbnREZWZhdWx0KSAmJiAhdGFyZ2V0RWwuaXNDb250ZW50RWRpdGFibGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUgJiYgc3dpcGVyLmFuaW1hdGluZyAmJiAhcGFyYW1zLmNzc01vZGUpIHtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaFN0YXJ0KCk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3RvdWNoU3RhcnQnLCBlKTtcbn1cblxuZnVuY3Rpb24gb25Ub3VjaE1vdmUoZXZlbnQpIHtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIGlmICghcGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHJldHVybjtcbiAgbGV0IGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgaWYgKGUudHlwZSA9PT0gJ3BvaW50ZXJtb3ZlJykge1xuICAgIGlmIChkYXRhLnRvdWNoSWQgIT09IG51bGwpIHJldHVybjsgLy8gcmV0dXJuIGZyb20gcG9pbnRlciBpZiB3ZSB1c2UgdG91Y2hcbiAgICBjb25zdCBpZCA9IGUucG9pbnRlcklkO1xuICAgIGlmIChpZCAhPT0gZGF0YS5wb2ludGVySWQpIHJldHVybjtcbiAgfVxuICBsZXQgdGFyZ2V0VG91Y2g7XG4gIGlmIChlLnR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XG4gICAgdGFyZ2V0VG91Y2ggPSBbLi4uZS5jaGFuZ2VkVG91Y2hlc10uZmluZCh0ID0+IHQuaWRlbnRpZmllciA9PT0gZGF0YS50b3VjaElkKTtcbiAgICBpZiAoIXRhcmdldFRvdWNoIHx8IHRhcmdldFRvdWNoLmlkZW50aWZpZXIgIT09IGRhdGEudG91Y2hJZCkgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldFRvdWNoID0gZTtcbiAgfVxuICBpZiAoIWRhdGEuaXNUb3VjaGVkKSB7XG4gICAgaWYgKGRhdGEuc3RhcnRNb3ZpbmcgJiYgZGF0YS5pc1Njcm9sbGluZykge1xuICAgICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwYWdlWCA9IHRhcmdldFRvdWNoLnBhZ2VYO1xuICBjb25zdCBwYWdlWSA9IHRhcmdldFRvdWNoLnBhZ2VZO1xuICBpZiAoZS5wcmV2ZW50ZWRCeU5lc3RlZFN3aXBlcikge1xuICAgIHRvdWNoZXMuc3RhcnRYID0gcGFnZVg7XG4gICAgdG91Y2hlcy5zdGFydFkgPSBwYWdlWTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFzd2lwZXIuYWxsb3dUb3VjaE1vdmUpIHtcbiAgICBpZiAoIWUudGFyZ2V0Lm1hdGNoZXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykpIHtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkYXRhLmlzVG91Y2hlZCkge1xuICAgICAgT2JqZWN0LmFzc2lnbih0b3VjaGVzLCB7XG4gICAgICAgIHN0YXJ0WDogcGFnZVgsXG4gICAgICAgIHN0YXJ0WTogcGFnZVksXG4gICAgICAgIGN1cnJlbnRYOiBwYWdlWCxcbiAgICAgICAgY3VycmVudFk6IHBhZ2VZXG4gICAgICB9KTtcbiAgICAgIGRhdGEudG91Y2hTdGFydFRpbWUgPSBub3coKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcyAmJiAhcGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLmlzVmVydGljYWwoKSkge1xuICAgICAgLy8gVmVydGljYWxcbiAgICAgIGlmIChwYWdlWSA8IHRvdWNoZXMuc3RhcnRZICYmIHN3aXBlci50cmFuc2xhdGUgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIHx8IHBhZ2VZID4gdG91Y2hlcy5zdGFydFkgJiYgc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJ0bCAmJiAocGFnZVggPiB0b3VjaGVzLnN0YXJ0WCAmJiAtc3dpcGVyLnRyYW5zbGF0ZSA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgfHwgcGFnZVggPCB0b3VjaGVzLnN0YXJ0WCAmJiAtc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmICghcnRsICYmIChwYWdlWCA8IHRvdWNoZXMuc3RhcnRYICYmIHN3aXBlci50cmFuc2xhdGUgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIHx8IHBhZ2VYID4gdG91Y2hlcy5zdGFydFggJiYgc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBlLnRhcmdldCAmJiBlLnBvaW50ZXJUeXBlICE9PSAnbW91c2UnKSB7XG4gICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gIH1cbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZS50YXJnZXQubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgICAgZGF0YS5pc01vdmVkID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmIChkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlJywgZSk7XG4gIH1cbiAgdG91Y2hlcy5wcmV2aW91c1ggPSB0b3VjaGVzLmN1cnJlbnRYO1xuICB0b3VjaGVzLnByZXZpb3VzWSA9IHRvdWNoZXMuY3VycmVudFk7XG4gIHRvdWNoZXMuY3VycmVudFggPSBwYWdlWDtcbiAgdG91Y2hlcy5jdXJyZW50WSA9IHBhZ2VZO1xuICBjb25zdCBkaWZmWCA9IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnN0YXJ0WDtcbiAgY29uc3QgZGlmZlkgPSB0b3VjaGVzLmN1cnJlbnRZIC0gdG91Y2hlcy5zdGFydFk7XG4gIGlmIChzd2lwZXIucGFyYW1zLnRocmVzaG9sZCAmJiBNYXRoLnNxcnQoZGlmZlggKiogMiArIGRpZmZZICoqIDIpIDwgc3dpcGVyLnBhcmFtcy50aHJlc2hvbGQpIHJldHVybjtcbiAgaWYgKHR5cGVvZiBkYXRhLmlzU2Nyb2xsaW5nID09PSAndW5kZWZpbmVkJykge1xuICAgIGxldCB0b3VjaEFuZ2xlO1xuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgdG91Y2hlcy5jdXJyZW50WSA9PT0gdG91Y2hlcy5zdGFydFkgfHwgc3dpcGVyLmlzVmVydGljYWwoKSAmJiB0b3VjaGVzLmN1cnJlbnRYID09PSB0b3VjaGVzLnN0YXJ0WCkge1xuICAgICAgZGF0YS5pc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGlmIChkaWZmWCAqIGRpZmZYICsgZGlmZlkgKiBkaWZmWSA+PSAyNSkge1xuICAgICAgICB0b3VjaEFuZ2xlID0gTWF0aC5hdGFuMihNYXRoLmFicyhkaWZmWSksIE1hdGguYWJzKGRpZmZYKSkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hBbmdsZSA+IHBhcmFtcy50b3VjaEFuZ2xlIDogOTAgLSB0b3VjaEFuZ2xlID4gcGFyYW1zLnRvdWNoQW5nbGU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBkYXRhLnN0YXJ0TW92aW5nID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0b3VjaGVzLmN1cnJlbnRYICE9PSB0b3VjaGVzLnN0YXJ0WCB8fCB0b3VjaGVzLmN1cnJlbnRZICE9PSB0b3VjaGVzLnN0YXJ0WSkge1xuICAgICAgZGF0YS5zdGFydE1vdmluZyA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChkYXRhLmlzU2Nyb2xsaW5nIHx8IGUudHlwZSA9PT0gJ3RvdWNobW92ZScgJiYgZGF0YS5wcmV2ZW50VG91Y2hNb3ZlRnJvbVBvaW50ZXJNb3ZlKSB7XG4gICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFkYXRhLnN0YXJ0TW92aW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gIGlmICghcGFyYW1zLmNzc01vZGUgJiYgZS5jYW5jZWxhYmxlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIGlmIChwYXJhbXMudG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uICYmICFwYXJhbXMubmVzdGVkKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuICBsZXQgZGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IGRpZmZYIDogZGlmZlk7XG4gIGxldCB0b3VjaGVzRGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnByZXZpb3VzWCA6IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnByZXZpb3VzWTtcbiAgaWYgKHBhcmFtcy5vbmVXYXlNb3ZlbWVudCkge1xuICAgIGRpZmYgPSBNYXRoLmFicyhkaWZmKSAqIChydGwgPyAxIDogLTEpO1xuICAgIHRvdWNoZXNEaWZmID0gTWF0aC5hYnModG91Y2hlc0RpZmYpICogKHJ0bCA/IDEgOiAtMSk7XG4gIH1cbiAgdG91Y2hlcy5kaWZmID0gZGlmZjtcbiAgZGlmZiAqPSBwYXJhbXMudG91Y2hSYXRpbztcbiAgaWYgKHJ0bCkge1xuICAgIGRpZmYgPSAtZGlmZjtcbiAgICB0b3VjaGVzRGlmZiA9IC10b3VjaGVzRGlmZjtcbiAgfVxuICBjb25zdCBwcmV2VG91Y2hlc0RpcmVjdGlvbiA9IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uO1xuICBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPSBkaWZmID4gMCA/ICdwcmV2JyA6ICduZXh0JztcbiAgc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gPSB0b3VjaGVzRGlmZiA+IDAgPyAncHJldicgOiAnbmV4dCc7XG4gIGNvbnN0IGlzTG9vcCA9IHN3aXBlci5wYXJhbXMubG9vcCAmJiAhcGFyYW1zLmNzc01vZGU7XG4gIGNvbnN0IGFsbG93TG9vcEZpeCA9IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uID09PSAnbmV4dCcgJiYgc3dpcGVyLmFsbG93U2xpZGVOZXh0IHx8IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uID09PSAncHJldicgJiYgc3dpcGVyLmFsbG93U2xpZGVQcmV2O1xuICBpZiAoIWRhdGEuaXNNb3ZlZCkge1xuICAgIGlmIChpc0xvb3AgJiYgYWxsb3dMb29wRml4KSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICAgIGRpcmVjdGlvbjogc3dpcGVyLnN3aXBlRGlyZWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gICAgZGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgY29uc3QgZXZ0ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudCgndHJhbnNpdGlvbmVuZCcsIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgYnlTd2lwZXJUb3VjaE1vdmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9XG4gICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gZmFsc2U7XG4gICAgLy8gR3JhYiBDdXJzb3JcbiAgICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgKHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSB8fCBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcih0cnVlKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlckZpcnN0TW92ZScsIGUpO1xuICB9XG4gIGxldCBsb29wRml4ZWQ7XG4gIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBpZiAocGFyYW1zLl9sb29wU3dhcFJlc2V0ICE9PSBmYWxzZSAmJiBkYXRhLmlzTW92ZWQgJiYgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgJiYgcHJldlRvdWNoZXNEaXJlY3Rpb24gIT09IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uICYmIGlzTG9vcCAmJiBhbGxvd0xvb3BGaXggJiYgTWF0aC5hYnMoZGlmZikgPj0gMSkge1xuICAgIE9iamVjdC5hc3NpZ24odG91Y2hlcywge1xuICAgICAgc3RhcnRYOiBwYWdlWCxcbiAgICAgIHN0YXJ0WTogcGFnZVksXG4gICAgICBjdXJyZW50WDogcGFnZVgsXG4gICAgICBjdXJyZW50WTogcGFnZVksXG4gICAgICBzdGFydFRyYW5zbGF0ZTogZGF0YS5jdXJyZW50VHJhbnNsYXRlXG4gICAgfSk7XG4gICAgZGF0YS5sb29wU3dhcFJlc2V0ID0gdHJ1ZTtcbiAgICBkYXRhLnN0YXJ0VHJhbnNsYXRlID0gZGF0YS5jdXJyZW50VHJhbnNsYXRlO1xuICAgIHJldHVybjtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2xpZGVyTW92ZScsIGUpO1xuICBkYXRhLmlzTW92ZWQgPSB0cnVlO1xuICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkaWZmICsgZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgbGV0IGRpc2FibGVQYXJlbnRTd2lwZXIgPSB0cnVlO1xuICBsZXQgcmVzaXN0YW5jZVJhdGlvID0gcGFyYW1zLnJlc2lzdGFuY2VSYXRpbztcbiAgaWYgKHBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgcmVzaXN0YW5jZVJhdGlvID0gMDtcbiAgfVxuICBpZiAoZGlmZiA+IDApIHtcbiAgICBpZiAoaXNMb29wICYmIGFsbG93TG9vcEZpeCAmJiAhbG9vcEZpeGVkICYmIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA+IChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgLSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW3N3aXBlci5hY3RpdmVJbmRleCArIDFdIC0gKHBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBwYXJhbXMuc2xpZGVzUGVyVmlldyA+PSAyID8gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtzd2lwZXIuYWN0aXZlSW5kZXggKyAxXSArIHN3aXBlci5wYXJhbXMuc3BhY2VCZXR3ZWVuIDogMCkgLSBzd2lwZXIucGFyYW1zLnNwYWNlQmV0d2VlbiA6IHN3aXBlci5taW5UcmFuc2xhdGUoKSkpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHJldicsXG4gICAgICAgIHNldFRyYW5zbGF0ZTogdHJ1ZSxcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIGRpc2FibGVQYXJlbnRTd2lwZXIgPSBmYWxzZTtcbiAgICAgIGlmIChwYXJhbXMucmVzaXN0YW5jZSkge1xuICAgICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIubWluVHJhbnNsYXRlKCkgLSAxICsgKC1zd2lwZXIubWluVHJhbnNsYXRlKCkgKyBkYXRhLnN0YXJ0VHJhbnNsYXRlICsgZGlmZikgKiogcmVzaXN0YW5jZVJhdGlvO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChkaWZmIDwgMCkge1xuICAgIGlmIChpc0xvb3AgJiYgYWxsb3dMb29wRml4ICYmICFsb29wRml4ZWQgJiYgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5tYXhUcmFuc2xhdGUoKSArIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbc3dpcGVyLnNsaWRlc1NpemVzR3JpZC5sZW5ndGggLSAxXSArIHN3aXBlci5wYXJhbXMuc3BhY2VCZXR3ZWVuICsgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBwYXJhbXMuc2xpZGVzUGVyVmlldyA+PSAyID8gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkLmxlbmd0aCAtIDFdICsgc3dpcGVyLnBhcmFtcy5zcGFjZUJldHdlZW4gOiAwKSA6IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgZGlyZWN0aW9uOiAnbmV4dCcsXG4gICAgICAgIHNldFRyYW5zbGF0ZTogdHJ1ZSxcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleDogc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyA/IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpIDogTWF0aC5jZWlsKHBhcnNlRmxvYXQocGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSkpXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY3VycmVudFRyYW5zbGF0ZSA8IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IGZhbHNlO1xuICAgICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSB7XG4gICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSArIDEgLSAoc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gZGF0YS5zdGFydFRyYW5zbGF0ZSAtIGRpZmYpICoqIHJlc2lzdGFuY2VSYXRpbztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRpc2FibGVQYXJlbnRTd2lwZXIpIHtcbiAgICBlLnByZXZlbnRlZEJ5TmVzdGVkU3dpcGVyID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIERpcmVjdGlvbnMgbG9ja3NcbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgIXN3aXBlci5hbGxvd1NsaWRlTmV4dCkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cblxuICAvLyBUaHJlc2hvbGRcbiAgaWYgKHBhcmFtcy50aHJlc2hvbGQgPiAwKSB7XG4gICAgaWYgKE1hdGguYWJzKGRpZmYpID4gcGFyYW1zLnRocmVzaG9sZCB8fCBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSkge1xuICAgICAgaWYgKCFkYXRhLmFsbG93VGhyZXNob2xkTW92ZSkge1xuICAgICAgICBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSA9IHRydWU7XG4gICAgICAgIHRvdWNoZXMuc3RhcnRYID0gdG91Y2hlcy5jdXJyZW50WDtcbiAgICAgICAgdG91Y2hlcy5zdGFydFkgPSB0b3VjaGVzLmN1cnJlbnRZO1xuICAgICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICAgICAgICB0b3VjaGVzLmRpZmYgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB0b3VjaGVzLmN1cnJlbnRYIC0gdG91Y2hlcy5zdGFydFggOiB0b3VjaGVzLmN1cnJlbnRZIC0gdG91Y2hlcy5zdGFydFk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKCFwYXJhbXMuZm9sbG93RmluZ2VyIHx8IHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG5cbiAgLy8gVXBkYXRlIGFjdGl2ZSBpbmRleCBpbiBmcmVlIG1vZGVcbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUgfHwgcGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB9XG4gIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQgJiYgc3dpcGVyLmZyZWVNb2RlKSB7XG4gICAgc3dpcGVyLmZyZWVNb2RlLm9uVG91Y2hNb3ZlKCk7XG4gIH1cbiAgLy8gVXBkYXRlIHByb2dyZXNzXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyhkYXRhLmN1cnJlbnRUcmFuc2xhdGUpO1xuICAvLyBVcGRhdGUgdHJhbnNsYXRlXG4gIHN3aXBlci5zZXRUcmFuc2xhdGUoZGF0YS5jdXJyZW50VHJhbnNsYXRlKTtcbn1cblxuZnVuY3Rpb24gb25Ub3VjaEVuZChldmVudCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgbGV0IGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgbGV0IHRhcmdldFRvdWNoO1xuICBjb25zdCBpc1RvdWNoRXZlbnQgPSBlLnR5cGUgPT09ICd0b3VjaGVuZCcgfHwgZS50eXBlID09PSAndG91Y2hjYW5jZWwnO1xuICBpZiAoIWlzVG91Y2hFdmVudCkge1xuICAgIGlmIChkYXRhLnRvdWNoSWQgIT09IG51bGwpIHJldHVybjsgLy8gcmV0dXJuIGZyb20gcG9pbnRlciBpZiB3ZSB1c2UgdG91Y2hcbiAgICBpZiAoZS5wb2ludGVySWQgIT09IGRhdGEucG9pbnRlcklkKSByZXR1cm47XG4gICAgdGFyZ2V0VG91Y2ggPSBlO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldFRvdWNoID0gWy4uLmUuY2hhbmdlZFRvdWNoZXNdLmZpbmQodCA9PiB0LmlkZW50aWZpZXIgPT09IGRhdGEudG91Y2hJZCk7XG4gICAgaWYgKCF0YXJnZXRUb3VjaCB8fCB0YXJnZXRUb3VjaC5pZGVudGlmaWVyICE9PSBkYXRhLnRvdWNoSWQpIHJldHVybjtcbiAgfVxuICBpZiAoWydwb2ludGVyY2FuY2VsJywgJ3BvaW50ZXJvdXQnLCAncG9pbnRlcmxlYXZlJywgJ2NvbnRleHRtZW51J10uaW5jbHVkZXMoZS50eXBlKSkge1xuICAgIGNvbnN0IHByb2NlZWQgPSBbJ3BvaW50ZXJjYW5jZWwnLCAnY29udGV4dG1lbnUnXS5pbmNsdWRlcyhlLnR5cGUpICYmIChzd2lwZXIuYnJvd3Nlci5pc1NhZmFyaSB8fCBzd2lwZXIuYnJvd3Nlci5pc1dlYlZpZXcpO1xuICAgIGlmICghcHJvY2VlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBkYXRhLnBvaW50ZXJJZCA9IG51bGw7XG4gIGRhdGEudG91Y2hJZCA9IG51bGw7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgdG91Y2hlcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIGlmICghcGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgZS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgcmV0dXJuO1xuICBpZiAoZGF0YS5hbGxvd1RvdWNoQ2FsbGJhY2tzKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoRW5kJywgZSk7XG4gIH1cbiAgZGF0YS5hbGxvd1RvdWNoQ2FsbGJhY2tzID0gZmFsc2U7XG4gIGlmICghZGF0YS5pc1RvdWNoZWQpIHtcbiAgICBpZiAoZGF0YS5pc01vdmVkICYmIHBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcihmYWxzZSk7XG4gICAgfVxuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBSZXR1cm4gR3JhYiBDdXJzb3JcbiAgaWYgKHBhcmFtcy5ncmFiQ3Vyc29yICYmIGRhdGEuaXNNb3ZlZCAmJiBkYXRhLmlzVG91Y2hlZCAmJiAoc3dpcGVyLmFsbG93U2xpZGVOZXh0ID09PSB0cnVlIHx8IHN3aXBlci5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkpIHtcbiAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcihmYWxzZSk7XG4gIH1cblxuICAvLyBUaW1lIGRpZmZcbiAgY29uc3QgdG91Y2hFbmRUaW1lID0gbm93KCk7XG4gIGNvbnN0IHRpbWVEaWZmID0gdG91Y2hFbmRUaW1lIC0gZGF0YS50b3VjaFN0YXJ0VGltZTtcblxuICAvLyBUYXAsIGRvdWJsZVRhcCwgQ2xpY2tcbiAgaWYgKHN3aXBlci5hbGxvd0NsaWNrKSB7XG4gICAgY29uc3QgcGF0aFRyZWUgPSBlLnBhdGggfHwgZS5jb21wb3NlZFBhdGggJiYgZS5jb21wb3NlZFBhdGgoKTtcbiAgICBzd2lwZXIudXBkYXRlQ2xpY2tlZFNsaWRlKHBhdGhUcmVlICYmIHBhdGhUcmVlWzBdIHx8IGUudGFyZ2V0LCBwYXRoVHJlZSk7XG4gICAgc3dpcGVyLmVtaXQoJ3RhcCBjbGljaycsIGUpO1xuICAgIGlmICh0aW1lRGlmZiA8IDMwMCAmJiB0b3VjaEVuZFRpbWUgLSBkYXRhLmxhc3RDbGlja1RpbWUgPCAzMDApIHtcbiAgICAgIHN3aXBlci5lbWl0KCdkb3VibGVUYXAgZG91YmxlQ2xpY2snLCBlKTtcbiAgICB9XG4gIH1cbiAgZGF0YS5sYXN0Q2xpY2tUaW1lID0gbm93KCk7XG4gIG5leHRUaWNrKCgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5kZXN0cm95ZWQpIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgfSk7XG4gIGlmICghZGF0YS5pc1RvdWNoZWQgfHwgIWRhdGEuaXNNb3ZlZCB8fCAhc3dpcGVyLnN3aXBlRGlyZWN0aW9uIHx8IHRvdWNoZXMuZGlmZiA9PT0gMCAmJiAhZGF0YS5sb29wU3dhcFJlc2V0IHx8IGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9PT0gZGF0YS5zdGFydFRyYW5zbGF0ZSAmJiAhZGF0YS5sb29wU3dhcFJlc2V0KSB7XG4gICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgICBkYXRhLnN0YXJ0TW92aW5nID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG4gIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICBkYXRhLnN0YXJ0TW92aW5nID0gZmFsc2U7XG4gIGxldCBjdXJyZW50UG9zO1xuICBpZiAocGFyYW1zLmZvbGxvd0Zpbmdlcikge1xuICAgIGN1cnJlbnRQb3MgPSBydGwgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudFBvcyA9IC1kYXRhLmN1cnJlbnRUcmFuc2xhdGU7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQpIHtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaEVuZCh7XG4gICAgICBjdXJyZW50UG9zXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRmluZCBjdXJyZW50IHNsaWRlXG4gIGNvbnN0IHN3aXBlVG9MYXN0ID0gY3VycmVudFBvcyA+PSAtc3dpcGVyLm1heFRyYW5zbGF0ZSgpICYmICFzd2lwZXIucGFyYW1zLmxvb3A7XG4gIGxldCBzdG9wSW5kZXggPSAwO1xuICBsZXQgZ3JvdXBTaXplID0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFswXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSBpIDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXApIHtcbiAgICBjb25zdCBpbmNyZW1lbnQgPSBpIDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCAtIDEgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgaW5jcmVtZW50XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChzd2lwZVRvTGFzdCB8fCBjdXJyZW50UG9zID49IHNsaWRlc0dyaWRbaV0gJiYgY3VycmVudFBvcyA8IHNsaWRlc0dyaWRbaSArIGluY3JlbWVudF0pIHtcbiAgICAgICAgc3RvcEluZGV4ID0gaTtcbiAgICAgICAgZ3JvdXBTaXplID0gc2xpZGVzR3JpZFtpICsgaW5jcmVtZW50XSAtIHNsaWRlc0dyaWRbaV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzd2lwZVRvTGFzdCB8fCBjdXJyZW50UG9zID49IHNsaWRlc0dyaWRbaV0pIHtcbiAgICAgIHN0b3BJbmRleCA9IGk7XG4gICAgICBncm91cFNpemUgPSBzbGlkZXNHcmlkW3NsaWRlc0dyaWQubGVuZ3RoIC0gMV0gLSBzbGlkZXNHcmlkW3NsaWRlc0dyaWQubGVuZ3RoIC0gMl07XG4gICAgfVxuICB9XG4gIGxldCByZXdpbmRGaXJzdEluZGV4ID0gbnVsbDtcbiAgbGV0IHJld2luZExhc3RJbmRleCA9IG51bGw7XG4gIGlmIChwYXJhbXMucmV3aW5kKSB7XG4gICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgICAgcmV3aW5kTGFzdEluZGV4ID0gcGFyYW1zLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCAmJiBzd2lwZXIudmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggLSAxIDogc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxO1xuICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzRW5kKSB7XG4gICAgICByZXdpbmRGaXJzdEluZGV4ID0gMDtcbiAgICB9XG4gIH1cbiAgLy8gRmluZCBjdXJyZW50IHNsaWRlIHNpemVcbiAgY29uc3QgcmF0aW8gPSAoY3VycmVudFBvcyAtIHNsaWRlc0dyaWRbc3RvcEluZGV4XSkgLyBncm91cFNpemU7XG4gIGNvbnN0IGluY3JlbWVudCA9IHN0b3BJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgLSAxID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgaWYgKHRpbWVEaWZmID4gcGFyYW1zLmxvbmdTd2lwZXNNcykge1xuICAgIC8vIExvbmcgdG91Y2hlc1xuICAgIGlmICghcGFyYW1zLmxvbmdTd2lwZXMpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgaWYgKHJhdGlvID49IHBhcmFtcy5sb25nU3dpcGVzUmF0aW8pIHN3aXBlci5zbGlkZVRvKHBhcmFtcy5yZXdpbmQgJiYgc3dpcGVyLmlzRW5kID8gcmV3aW5kRmlyc3RJbmRleCA6IHN0b3BJbmRleCArIGluY3JlbWVudCk7ZWxzZSBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgIGlmIChyYXRpbyA+IDEgLSBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKHJld2luZExhc3RJbmRleCAhPT0gbnVsbCAmJiByYXRpbyA8IDAgJiYgTWF0aC5hYnMocmF0aW8pID4gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhyZXdpbmRMYXN0SW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gU2hvcnQgc3dpcGVzXG4gICAgaWYgKCFwYXJhbXMuc2hvcnRTd2lwZXMpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzTmF2QnV0dG9uVGFyZ2V0ID0gc3dpcGVyLm5hdmlnYXRpb24gJiYgKGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwgfHwgZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCk7XG4gICAgaWYgKCFpc05hdkJ1dHRvblRhcmdldCkge1xuICAgICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHJld2luZEZpcnN0SW5kZXggIT09IG51bGwgPyByZXdpbmRGaXJzdEluZGV4IDogc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhyZXdpbmRMYXN0SW5kZXggIT09IG51bGwgPyByZXdpbmRMYXN0SW5kZXggOiBzdG9wSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgZWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKGVsICYmIGVsLm9mZnNldFdpZHRoID09PSAwKSByZXR1cm47XG5cbiAgLy8gQnJlYWtwb2ludHNcbiAgaWYgKHBhcmFtcy5icmVha3BvaW50cykge1xuICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gIH1cblxuICAvLyBTYXZlIGxvY2tzXG4gIGNvbnN0IHtcbiAgICBhbGxvd1NsaWRlTmV4dCxcbiAgICBhbGxvd1NsaWRlUHJldixcbiAgICBzbmFwR3JpZFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcblxuICAvLyBEaXNhYmxlIGxvY2tzIG9uIHJlc2l6ZVxuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSB0cnVlO1xuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSB0cnVlO1xuICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIGNvbnN0IGlzVmlydHVhbExvb3AgPSBpc1ZpcnR1YWwgJiYgcGFyYW1zLmxvb3A7XG4gIGlmICgocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyB8fCBwYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpICYmIHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmICFpc1ZpcnR1YWxMb29wKSB7XG4gICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCAmJiAhaXNWaXJ0dWFsKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUb0xvb3Aoc3dpcGVyLnJlYWxJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICB9XG4gIH1cbiAgaWYgKHN3aXBlci5hdXRvcGxheSAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZyAmJiBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgY2xlYXJUaW1lb3V0KHN3aXBlci5hdXRvcGxheS5yZXNpemVUaW1lb3V0KTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHN3aXBlci5hdXRvcGxheSAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZyAmJiBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgICAgIHN3aXBlci5hdXRvcGxheS5yZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9LCA1MDApO1xuICB9XG4gIC8vIFJldHVybiBsb2NrcyBhZnRlciByZXNpemVcbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gYWxsb3dTbGlkZVByZXY7XG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHNuYXBHcmlkICE9PSBzd2lwZXIuc25hcEdyaWQpIHtcbiAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gIGlmICghc3dpcGVyLmFsbG93Q2xpY2spIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wcmV2ZW50Q2xpY2tzKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uICYmIHN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHdyYXBwZXJFbCxcbiAgICBydGxUcmFuc2xhdGUsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgc3dpcGVyLnByZXZpb3VzVHJhbnNsYXRlID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgIHN3aXBlci50cmFuc2xhdGUgPSAtd3JhcHBlckVsLnNjcm9sbExlZnQ7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnRyYW5zbGF0ZSA9IC13cmFwcGVyRWwuc2Nyb2xsVG9wO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBpZiAoc3dpcGVyLnRyYW5zbGF0ZSA9PT0gMCkgc3dpcGVyLnRyYW5zbGF0ZSA9IDA7XG4gIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICBsZXQgbmV3UHJvZ3Jlc3M7XG4gIGNvbnN0IHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBuZXdQcm9ncmVzcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAoc3dpcGVyLnRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgfVxuICBpZiAobmV3UHJvZ3Jlc3MgIT09IHN3aXBlci5wcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhydGxUcmFuc2xhdGUgPyAtc3dpcGVyLnRyYW5zbGF0ZSA6IHN3aXBlci50cmFuc2xhdGUpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzZXRUcmFuc2xhdGUnLCBzd2lwZXIudHJhbnNsYXRlLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIG9uTG9hZChlKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIHByb2Nlc3NMYXp5UHJlbG9hZGVyKHN3aXBlciwgZS50YXJnZXQpO1xuICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlIHx8IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nICYmICFzd2lwZXIucGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc3dpcGVyLnVwZGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBvbkRvY3VtZW50VG91Y2hTdGFydCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHN3aXBlci5kb2N1bWVudFRvdWNoSGFuZGxlclByb2NlZWRlZCkgcmV0dXJuO1xuICBzd2lwZXIuZG9jdW1lbnRUb3VjaEhhbmRsZXJQcm9jZWVkZWQgPSB0cnVlO1xuICBpZiAoc3dpcGVyLnBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgc3dpcGVyLmVsLnN0eWxlLnRvdWNoQWN0aW9uID0gJ2F1dG8nO1xuICB9XG59XG5cbmNvbnN0IGV2ZW50cyA9IChzd2lwZXIsIG1ldGhvZCkgPT4ge1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgZWwsXG4gICAgd3JhcHBlckVsLFxuICAgIGRldmljZVxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBjYXB0dXJlID0gISFwYXJhbXMubmVzdGVkO1xuICBjb25zdCBkb21NZXRob2QgPSBtZXRob2QgPT09ICdvbicgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG4gIGNvbnN0IHN3aXBlck1ldGhvZCA9IG1ldGhvZDtcbiAgaWYgKCFlbCB8fCB0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSByZXR1cm47XG5cbiAgLy8gVG91Y2ggRXZlbnRzXG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNoc3RhcnQnLCBzd2lwZXIub25Eb2N1bWVudFRvdWNoU3RhcnQsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICBjYXB0dXJlXG4gIH0pO1xuICBlbFtkb21NZXRob2RdKCd0b3VjaHN0YXJ0Jywgc3dpcGVyLm9uVG91Y2hTdGFydCwge1xuICAgIHBhc3NpdmU6IGZhbHNlXG4gIH0pO1xuICBlbFtkb21NZXRob2RdKCdwb2ludGVyZG93bicsIHN3aXBlci5vblRvdWNoU3RhcnQsIHtcbiAgICBwYXNzaXZlOiBmYWxzZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgndG91Y2htb3ZlJywgc3dpcGVyLm9uVG91Y2hNb3ZlLCB7XG4gICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgY2FwdHVyZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcm1vdmUnLCBzd2lwZXIub25Ub3VjaE1vdmUsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICBjYXB0dXJlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaGVuZCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcnVwJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVyY2FuY2VsJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaGNhbmNlbCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcm91dCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcmxlYXZlJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdjb250ZXh0bWVudScsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcblxuICAvLyBQcmV2ZW50IExpbmtzIENsaWNrc1xuICBpZiAocGFyYW1zLnByZXZlbnRDbGlja3MgfHwgcGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikge1xuICAgIGVsW2RvbU1ldGhvZF0oJ2NsaWNrJywgc3dpcGVyLm9uQ2xpY2ssIHRydWUpO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHdyYXBwZXJFbFtkb21NZXRob2RdKCdzY3JvbGwnLCBzd2lwZXIub25TY3JvbGwpO1xuICB9XG5cbiAgLy8gUmVzaXplIGhhbmRsZXJcbiAgaWYgKHBhcmFtcy51cGRhdGVPbldpbmRvd1Jlc2l6ZSkge1xuICAgIHN3aXBlcltzd2lwZXJNZXRob2RdKGRldmljZS5pb3MgfHwgZGV2aWNlLmFuZHJvaWQgPyAncmVzaXplIG9yaWVudGF0aW9uY2hhbmdlIG9ic2VydmVyVXBkYXRlJyA6ICdyZXNpemUgb2JzZXJ2ZXJVcGRhdGUnLCBvblJlc2l6ZSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyW3N3aXBlck1ldGhvZF0oJ29ic2VydmVyVXBkYXRlJywgb25SZXNpemUsIHRydWUpO1xuICB9XG5cbiAgLy8gSW1hZ2VzIGxvYWRlclxuICBlbFtkb21NZXRob2RdKCdsb2FkJywgc3dpcGVyLm9uTG9hZCwge1xuICAgIGNhcHR1cmU6IHRydWVcbiAgfSk7XG59O1xuZnVuY3Rpb24gYXR0YWNoRXZlbnRzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIHN3aXBlci5vblRvdWNoU3RhcnQgPSBvblRvdWNoU3RhcnQuYmluZChzd2lwZXIpO1xuICBzd2lwZXIub25Ub3VjaE1vdmUgPSBvblRvdWNoTW92ZS5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vblRvdWNoRW5kID0gb25Ub3VjaEVuZC5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vbkRvY3VtZW50VG91Y2hTdGFydCA9IG9uRG9jdW1lbnRUb3VjaFN0YXJ0LmJpbmQoc3dpcGVyKTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLm9uU2Nyb2xsID0gb25TY3JvbGwuYmluZChzd2lwZXIpO1xuICB9XG4gIHN3aXBlci5vbkNsaWNrID0gb25DbGljay5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vbkxvYWQgPSBvbkxvYWQuYmluZChzd2lwZXIpO1xuICBldmVudHMoc3dpcGVyLCAnb24nKTtcbn1cbmZ1bmN0aW9uIGRldGFjaEV2ZW50cygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgZXZlbnRzKHN3aXBlciwgJ29mZicpO1xufVxudmFyIGV2ZW50cyQxID0ge1xuICBhdHRhY2hFdmVudHMsXG4gIGRldGFjaEV2ZW50c1xufTtcblxuY29uc3QgaXNHcmlkRW5hYmxlZCA9IChzd2lwZXIsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG59O1xuZnVuY3Rpb24gc2V0QnJlYWtwb2ludCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHJlYWxJbmRleCxcbiAgICBpbml0aWFsaXplZCxcbiAgICBwYXJhbXMsXG4gICAgZWxcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgYnJlYWtwb2ludHMgPSBwYXJhbXMuYnJlYWtwb2ludHM7XG4gIGlmICghYnJlYWtwb2ludHMgfHwgYnJlYWtwb2ludHMgJiYgT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG5cbiAgLy8gR2V0IGJyZWFrcG9pbnQgZm9yIHdpbmRvdy9jb250YWluZXIgd2lkdGggYW5kIHVwZGF0ZSBwYXJhbWV0ZXJzXG4gIGNvbnN0IGJyZWFrcG9pbnRzQmFzZSA9IHBhcmFtcy5icmVha3BvaW50c0Jhc2UgPT09ICd3aW5kb3cnIHx8ICFwYXJhbXMuYnJlYWtwb2ludHNCYXNlID8gcGFyYW1zLmJyZWFrcG9pbnRzQmFzZSA6ICdjb250YWluZXInO1xuICBjb25zdCBicmVha3BvaW50Q29udGFpbmVyID0gWyd3aW5kb3cnLCAnY29udGFpbmVyJ10uaW5jbHVkZXMocGFyYW1zLmJyZWFrcG9pbnRzQmFzZSkgfHwgIXBhcmFtcy5icmVha3BvaW50c0Jhc2UgPyBzd2lwZXIuZWwgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhcmFtcy5icmVha3BvaW50c0Jhc2UpO1xuICBjb25zdCBicmVha3BvaW50ID0gc3dpcGVyLmdldEJyZWFrcG9pbnQoYnJlYWtwb2ludHMsIGJyZWFrcG9pbnRzQmFzZSwgYnJlYWtwb2ludENvbnRhaW5lcik7XG4gIGlmICghYnJlYWtwb2ludCB8fCBzd2lwZXIuY3VycmVudEJyZWFrcG9pbnQgPT09IGJyZWFrcG9pbnQpIHJldHVybjtcbiAgY29uc3QgYnJlYWtwb2ludE9ubHlQYXJhbXMgPSBicmVha3BvaW50IGluIGJyZWFrcG9pbnRzID8gYnJlYWtwb2ludHNbYnJlYWtwb2ludF0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGJyZWFrcG9pbnRQYXJhbXMgPSBicmVha3BvaW50T25seVBhcmFtcyB8fCBzd2lwZXIub3JpZ2luYWxQYXJhbXM7XG4gIGNvbnN0IHdhc011bHRpUm93ID0gaXNHcmlkRW5hYmxlZChzd2lwZXIsIHBhcmFtcyk7XG4gIGNvbnN0IGlzTXVsdGlSb3cgPSBpc0dyaWRFbmFibGVkKHN3aXBlciwgYnJlYWtwb2ludFBhcmFtcyk7XG4gIGNvbnN0IHdhc0dyYWJDdXJzb3IgPSBzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3I7XG4gIGNvbnN0IGlzR3JhYkN1cnNvciA9IGJyZWFrcG9pbnRQYXJhbXMuZ3JhYkN1cnNvcjtcbiAgY29uc3Qgd2FzRW5hYmxlZCA9IHBhcmFtcy5lbmFibGVkO1xuICBpZiAod2FzTXVsdGlSb3cgJiYgIWlzTXVsdGlSb3cpIHtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWRgLCBgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApO1xuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICB9IGVsc2UgaWYgKCF3YXNNdWx0aVJvdyAmJiBpc011bHRpUm93KSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkYCk7XG4gICAgaWYgKGJyZWFrcG9pbnRQYXJhbXMuZ3JpZC5maWxsICYmIGJyZWFrcG9pbnRQYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJyB8fCAhYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgJiYgcGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbicpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZC1jb2x1bW5gKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gIH1cbiAgaWYgKHdhc0dyYWJDdXJzb3IgJiYgIWlzR3JhYkN1cnNvcikge1xuICAgIHN3aXBlci51bnNldEdyYWJDdXJzb3IoKTtcbiAgfSBlbHNlIGlmICghd2FzR3JhYkN1cnNvciAmJiBpc0dyYWJDdXJzb3IpIHtcbiAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcigpO1xuICB9XG5cbiAgLy8gVG9nZ2xlIG5hdmlnYXRpb24sIHBhZ2luYXRpb24sIHNjcm9sbGJhclxuICBbJ25hdmlnYXRpb24nLCAncGFnaW5hdGlvbicsICdzY3JvbGxiYXInXS5mb3JFYWNoKHByb3AgPT4ge1xuICAgIGlmICh0eXBlb2YgYnJlYWtwb2ludFBhcmFtc1twcm9wXSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBjb25zdCB3YXNNb2R1bGVFbmFibGVkID0gcGFyYW1zW3Byb3BdICYmIHBhcmFtc1twcm9wXS5lbmFibGVkO1xuICAgIGNvbnN0IGlzTW9kdWxlRW5hYmxlZCA9IGJyZWFrcG9pbnRQYXJhbXNbcHJvcF0gJiYgYnJlYWtwb2ludFBhcmFtc1twcm9wXS5lbmFibGVkO1xuICAgIGlmICh3YXNNb2R1bGVFbmFibGVkICYmICFpc01vZHVsZUVuYWJsZWQpIHtcbiAgICAgIHN3aXBlcltwcm9wXS5kaXNhYmxlKCk7XG4gICAgfVxuICAgIGlmICghd2FzTW9kdWxlRW5hYmxlZCAmJiBpc01vZHVsZUVuYWJsZWQpIHtcbiAgICAgIHN3aXBlcltwcm9wXS5lbmFibGUoKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBkaXJlY3Rpb25DaGFuZ2VkID0gYnJlYWtwb2ludFBhcmFtcy5kaXJlY3Rpb24gJiYgYnJlYWtwb2ludFBhcmFtcy5kaXJlY3Rpb24gIT09IHBhcmFtcy5kaXJlY3Rpb247XG4gIGNvbnN0IG5lZWRzUmVMb29wID0gcGFyYW1zLmxvb3AgJiYgKGJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgfHwgZGlyZWN0aW9uQ2hhbmdlZCk7XG4gIGNvbnN0IHdhc0xvb3AgPSBwYXJhbXMubG9vcDtcbiAgaWYgKGRpcmVjdGlvbkNoYW5nZWQgJiYgaW5pdGlhbGl6ZWQpIHtcbiAgICBzd2lwZXIuY2hhbmdlRGlyZWN0aW9uKCk7XG4gIH1cbiAgZXh0ZW5kKHN3aXBlci5wYXJhbXMsIGJyZWFrcG9pbnRQYXJhbXMpO1xuICBjb25zdCBpc0VuYWJsZWQgPSBzd2lwZXIucGFyYW1zLmVuYWJsZWQ7XG4gIGNvbnN0IGhhc0xvb3AgPSBzd2lwZXIucGFyYW1zLmxvb3A7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgYWxsb3dUb3VjaE1vdmU6IHN3aXBlci5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsXG4gICAgYWxsb3dTbGlkZU5leHQ6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZU5leHQsXG4gICAgYWxsb3dTbGlkZVByZXY6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZVByZXZcbiAgfSk7XG4gIGlmICh3YXNFbmFibGVkICYmICFpc0VuYWJsZWQpIHtcbiAgICBzd2lwZXIuZGlzYWJsZSgpO1xuICB9IGVsc2UgaWYgKCF3YXNFbmFibGVkICYmIGlzRW5hYmxlZCkge1xuICAgIHN3aXBlci5lbmFibGUoKTtcbiAgfVxuICBzd2lwZXIuY3VycmVudEJyZWFrcG9pbnQgPSBicmVha3BvaW50O1xuICBzd2lwZXIuZW1pdCgnX2JlZm9yZUJyZWFrcG9pbnQnLCBicmVha3BvaW50UGFyYW1zKTtcbiAgaWYgKGluaXRpYWxpemVkKSB7XG4gICAgaWYgKG5lZWRzUmVMb29wKSB7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKHJlYWxJbmRleCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIGlmICghd2FzTG9vcCAmJiBoYXNMb29wKSB7XG4gICAgICBzd2lwZXIubG9vcENyZWF0ZShyZWFsSW5kZXgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIH0gZWxzZSBpZiAod2FzTG9vcCAmJiAhaGFzTG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgfVxuICB9XG4gIHN3aXBlci5lbWl0KCdicmVha3BvaW50JywgYnJlYWtwb2ludFBhcmFtcyk7XG59XG5cbmZ1bmN0aW9uIGdldEJyZWFrcG9pbnQoYnJlYWtwb2ludHMsIGJhc2UsIGNvbnRhaW5lckVsKSB7XG4gIGlmIChiYXNlID09PSB2b2lkIDApIHtcbiAgICBiYXNlID0gJ3dpbmRvdyc7XG4gIH1cbiAgaWYgKCFicmVha3BvaW50cyB8fCBiYXNlID09PSAnY29udGFpbmVyJyAmJiAhY29udGFpbmVyRWwpIHJldHVybiB1bmRlZmluZWQ7XG4gIGxldCBicmVha3BvaW50ID0gZmFsc2U7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBjdXJyZW50SGVpZ2h0ID0gYmFzZSA9PT0gJ3dpbmRvdycgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXJFbC5jbGllbnRIZWlnaHQ7XG4gIGNvbnN0IHBvaW50cyA9IE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5tYXAocG9pbnQgPT4ge1xuICAgIGlmICh0eXBlb2YgcG9pbnQgPT09ICdzdHJpbmcnICYmIHBvaW50LmluZGV4T2YoJ0AnKSA9PT0gMCkge1xuICAgICAgY29uc3QgbWluUmF0aW8gPSBwYXJzZUZsb2F0KHBvaW50LnN1YnN0cigxKSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGN1cnJlbnRIZWlnaHQgKiBtaW5SYXRpbztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwb2ludFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBwb2ludCxcbiAgICAgIHBvaW50XG4gICAgfTtcbiAgfSk7XG4gIHBvaW50cy5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhLnZhbHVlLCAxMCkgLSBwYXJzZUludChiLnZhbHVlLCAxMCkpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHBvaW50LFxuICAgICAgdmFsdWVcbiAgICB9ID0gcG9pbnRzW2ldO1xuICAgIGlmIChiYXNlID09PSAnd2luZG93Jykge1xuICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKGAobWluLXdpZHRoOiAke3ZhbHVlfXB4KWApLm1hdGNoZXMpIHtcbiAgICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgPD0gY29udGFpbmVyRWwuY2xpZW50V2lkdGgpIHtcbiAgICAgIGJyZWFrcG9pbnQgPSBwb2ludDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJyZWFrcG9pbnQgfHwgJ21heCc7XG59XG5cbnZhciBicmVha3BvaW50cyA9IHtcbiAgc2V0QnJlYWtwb2ludCxcbiAgZ2V0QnJlYWtwb2ludFxufTtcblxuZnVuY3Rpb24gcHJlcGFyZUNsYXNzZXMoZW50cmllcywgcHJlZml4KSB7XG4gIGNvbnN0IHJlc3VsdENsYXNzZXMgPSBbXTtcbiAgZW50cmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goY2xhc3NOYW1lcyA9PiB7XG4gICAgICAgIGlmIChpdGVtW2NsYXNzTmFtZXNdKSB7XG4gICAgICAgICAgcmVzdWx0Q2xhc3Nlcy5wdXNoKHByZWZpeCArIGNsYXNzTmFtZXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgcmVzdWx0Q2xhc3Nlcy5wdXNoKHByZWZpeCArIGl0ZW0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHRDbGFzc2VzO1xufVxuZnVuY3Rpb24gYWRkQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZXMsXG4gICAgcGFyYW1zLFxuICAgIHJ0bCxcbiAgICBlbCxcbiAgICBkZXZpY2VcbiAgfSA9IHN3aXBlcjtcbiAgLy8gcHJldHRpZXItaWdub3JlXG4gIGNvbnN0IHN1ZmZpeGVzID0gcHJlcGFyZUNsYXNzZXMoWydpbml0aWFsaXplZCcsIHBhcmFtcy5kaXJlY3Rpb24sIHtcbiAgICAnZnJlZS1tb2RlJzogc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZFxuICB9LCB7XG4gICAgJ2F1dG9oZWlnaHQnOiBwYXJhbXMuYXV0b0hlaWdodFxuICB9LCB7XG4gICAgJ3J0bCc6IHJ0bFxuICB9LCB7XG4gICAgJ2dyaWQnOiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMVxuICB9LCB7XG4gICAgJ2dyaWQtY29sdW1uJzogcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDEgJiYgcGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbidcbiAgfSwge1xuICAgICdhbmRyb2lkJzogZGV2aWNlLmFuZHJvaWRcbiAgfSwge1xuICAgICdpb3MnOiBkZXZpY2UuaW9zXG4gIH0sIHtcbiAgICAnY3NzLW1vZGUnOiBwYXJhbXMuY3NzTW9kZVxuICB9LCB7XG4gICAgJ2NlbnRlcmVkJzogcGFyYW1zLmNzc01vZGUgJiYgcGFyYW1zLmNlbnRlcmVkU2xpZGVzXG4gIH0sIHtcbiAgICAnd2F0Y2gtcHJvZ3Jlc3MnOiBwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzc1xuICB9XSwgcGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MpO1xuICBjbGFzc05hbWVzLnB1c2goLi4uc3VmZml4ZXMpO1xuICBlbC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZXMpO1xuICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGVsLFxuICAgIGNsYXNzTmFtZXNcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbCB8fCB0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSByZXR1cm47XG4gIGVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3NOYW1lcyk7XG4gIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xufVxuXG52YXIgY2xhc3NlcyA9IHtcbiAgYWRkQ2xhc3NlcyxcbiAgcmVtb3ZlQ2xhc3Nlc1xufTtcblxuZnVuY3Rpb24gY2hlY2tPdmVyZmxvdygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGlzTG9ja2VkOiB3YXNMb2NrZWQsXG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXNPZmZzZXRCZWZvcmVcbiAgfSA9IHBhcmFtcztcbiAgaWYgKHNsaWRlc09mZnNldEJlZm9yZSkge1xuICAgIGNvbnN0IGxhc3RTbGlkZUluZGV4ID0gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGxhc3RTbGlkZVJpZ2h0RWRnZSA9IHN3aXBlci5zbGlkZXNHcmlkW2xhc3RTbGlkZUluZGV4XSArIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbbGFzdFNsaWRlSW5kZXhdICsgc2xpZGVzT2Zmc2V0QmVmb3JlICogMjtcbiAgICBzd2lwZXIuaXNMb2NrZWQgPSBzd2lwZXIuc2l6ZSA+IGxhc3RTbGlkZVJpZ2h0RWRnZTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuaXNMb2NrZWQgPSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoID09PSAxO1xuICB9XG4gIGlmIChwYXJhbXMuYWxsb3dTbGlkZU5leHQgPT09IHRydWUpIHtcbiAgICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSAhc3dpcGVyLmlzTG9ja2VkO1xuICB9XG4gIGlmIChwYXJhbXMuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpIHtcbiAgICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSAhc3dpcGVyLmlzTG9ja2VkO1xuICB9XG4gIGlmICh3YXNMb2NrZWQgJiYgd2FzTG9ja2VkICE9PSBzd2lwZXIuaXNMb2NrZWQpIHtcbiAgICBzd2lwZXIuaXNFbmQgPSBmYWxzZTtcbiAgfVxuICBpZiAod2FzTG9ja2VkICE9PSBzd2lwZXIuaXNMb2NrZWQpIHtcbiAgICBzd2lwZXIuZW1pdChzd2lwZXIuaXNMb2NrZWQgPyAnbG9jaycgOiAndW5sb2NrJyk7XG4gIH1cbn1cbnZhciBjaGVja092ZXJmbG93JDEgPSB7XG4gIGNoZWNrT3ZlcmZsb3dcbn07XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgaW5pdDogdHJ1ZSxcbiAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gIG9uZVdheU1vdmVtZW50OiBmYWxzZSxcbiAgc3dpcGVyRWxlbWVudE5vZGVOYW1lOiAnU1dJUEVSLUNPTlRBSU5FUicsXG4gIHRvdWNoRXZlbnRzVGFyZ2V0OiAnd3JhcHBlcicsXG4gIGluaXRpYWxTbGlkZTogMCxcbiAgc3BlZWQ6IDMwMCxcbiAgY3NzTW9kZTogZmFsc2UsXG4gIHVwZGF0ZU9uV2luZG93UmVzaXplOiB0cnVlLFxuICByZXNpemVPYnNlcnZlcjogdHJ1ZSxcbiAgbmVzdGVkOiBmYWxzZSxcbiAgY3JlYXRlRWxlbWVudHM6IGZhbHNlLFxuICBldmVudHNQcmVmaXg6ICdzd2lwZXInLFxuICBlbmFibGVkOiB0cnVlLFxuICBmb2N1c2FibGVFbGVtZW50czogJ2lucHV0LCBzZWxlY3QsIG9wdGlvbiwgdGV4dGFyZWEsIGJ1dHRvbiwgdmlkZW8sIGxhYmVsJyxcbiAgLy8gT3ZlcnJpZGVzXG4gIHdpZHRoOiBudWxsLFxuICBoZWlnaHQ6IG51bGwsXG4gIC8vXG4gIHByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbjogZmFsc2UsXG4gIC8vIHNzclxuICB1c2VyQWdlbnQ6IG51bGwsXG4gIHVybDogbnVsbCxcbiAgLy8gVG8gc3VwcG9ydCBpT1MncyBzd2lwZS10by1nby1iYWNrIGdlc3R1cmUgKHdoZW4gYmVpbmcgdXNlZCBpbi1hcHApLlxuICBlZGdlU3dpcGVEZXRlY3Rpb246IGZhbHNlLFxuICBlZGdlU3dpcGVUaHJlc2hvbGQ6IDIwLFxuICAvLyBBdXRvaGVpZ2h0XG4gIGF1dG9IZWlnaHQ6IGZhbHNlLFxuICAvLyBTZXQgd3JhcHBlciB3aWR0aFxuICBzZXRXcmFwcGVyU2l6ZTogZmFsc2UsXG4gIC8vIFZpcnR1YWwgVHJhbnNsYXRlXG4gIHZpcnR1YWxUcmFuc2xhdGU6IGZhbHNlLFxuICAvLyBFZmZlY3RzXG4gIGVmZmVjdDogJ3NsaWRlJyxcbiAgLy8gJ3NsaWRlJyBvciAnZmFkZScgb3IgJ2N1YmUnIG9yICdjb3ZlcmZsb3cnIG9yICdmbGlwJ1xuXG4gIC8vIEJyZWFrcG9pbnRzXG4gIGJyZWFrcG9pbnRzOiB1bmRlZmluZWQsXG4gIGJyZWFrcG9pbnRzQmFzZTogJ3dpbmRvdycsXG4gIC8vIFNsaWRlcyBncmlkXG4gIHNwYWNlQmV0d2VlbjogMCxcbiAgc2xpZGVzUGVyVmlldzogMSxcbiAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gIHNsaWRlc1Blckdyb3VwU2tpcDogMCxcbiAgc2xpZGVzUGVyR3JvdXBBdXRvOiBmYWxzZSxcbiAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICBjZW50ZXJlZFNsaWRlc0JvdW5kczogZmFsc2UsXG4gIHNsaWRlc09mZnNldEJlZm9yZTogMCxcbiAgLy8gaW4gcHhcbiAgc2xpZGVzT2Zmc2V0QWZ0ZXI6IDAsXG4gIC8vIGluIHB4XG4gIG5vcm1hbGl6ZVNsaWRlSW5kZXg6IHRydWUsXG4gIGNlbnRlckluc3VmZmljaWVudFNsaWRlczogZmFsc2UsXG4gIC8vIERpc2FibGUgc3dpcGVyIGFuZCBoaWRlIG5hdmlnYXRpb24gd2hlbiBjb250YWluZXIgbm90IG92ZXJmbG93XG4gIHdhdGNoT3ZlcmZsb3c6IHRydWUsXG4gIC8vIFJvdW5kIGxlbmd0aFxuICByb3VuZExlbmd0aHM6IGZhbHNlLFxuICAvLyBUb3VjaGVzXG4gIHRvdWNoUmF0aW86IDEsXG4gIHRvdWNoQW5nbGU6IDQ1LFxuICBzaW11bGF0ZVRvdWNoOiB0cnVlLFxuICBzaG9ydFN3aXBlczogdHJ1ZSxcbiAgbG9uZ1N3aXBlczogdHJ1ZSxcbiAgbG9uZ1N3aXBlc1JhdGlvOiAwLjUsXG4gIGxvbmdTd2lwZXNNczogMzAwLFxuICBmb2xsb3dGaW5nZXI6IHRydWUsXG4gIGFsbG93VG91Y2hNb3ZlOiB0cnVlLFxuICB0aHJlc2hvbGQ6IDUsXG4gIHRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbjogZmFsc2UsXG4gIHRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDogdHJ1ZSxcbiAgdG91Y2hTdGFydEZvcmNlUHJldmVudERlZmF1bHQ6IGZhbHNlLFxuICB0b3VjaFJlbGVhc2VPbkVkZ2VzOiBmYWxzZSxcbiAgLy8gVW5pcXVlIE5hdmlnYXRpb24gRWxlbWVudHNcbiAgdW5pcXVlTmF2RWxlbWVudHM6IHRydWUsXG4gIC8vIFJlc2lzdGFuY2VcbiAgcmVzaXN0YW5jZTogdHJ1ZSxcbiAgcmVzaXN0YW5jZVJhdGlvOiAwLjg1LFxuICAvLyBQcm9ncmVzc1xuICB3YXRjaFNsaWRlc1Byb2dyZXNzOiBmYWxzZSxcbiAgLy8gQ3Vyc29yXG4gIGdyYWJDdXJzb3I6IGZhbHNlLFxuICAvLyBDbGlja3NcbiAgcHJldmVudENsaWNrczogdHJ1ZSxcbiAgcHJldmVudENsaWNrc1Byb3BhZ2F0aW9uOiB0cnVlLFxuICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmYWxzZSxcbiAgLy8gbG9vcFxuICBsb29wOiBmYWxzZSxcbiAgbG9vcEFkZEJsYW5rU2xpZGVzOiB0cnVlLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMCxcbiAgbG9vcFByZXZlbnRzU2xpZGluZzogdHJ1ZSxcbiAgLy8gcmV3aW5kXG4gIHJld2luZDogZmFsc2UsXG4gIC8vIFN3aXBpbmcvbm8gc3dpcGluZ1xuICBhbGxvd1NsaWRlUHJldjogdHJ1ZSxcbiAgYWxsb3dTbGlkZU5leHQ6IHRydWUsXG4gIHN3aXBlSGFuZGxlcjogbnVsbCxcbiAgLy8gJy5zd2lwZS1oYW5kbGVyJyxcbiAgbm9Td2lwaW5nOiB0cnVlLFxuICBub1N3aXBpbmdDbGFzczogJ3N3aXBlci1uby1zd2lwaW5nJyxcbiAgbm9Td2lwaW5nU2VsZWN0b3I6IG51bGwsXG4gIC8vIFBhc3NpdmUgTGlzdGVuZXJzXG4gIHBhc3NpdmVMaXN0ZW5lcnM6IHRydWUsXG4gIG1heEJhY2tmYWNlSGlkZGVuU2xpZGVzOiAxMCxcbiAgLy8gTlNcbiAgY29udGFpbmVyTW9kaWZpZXJDbGFzczogJ3N3aXBlci0nLFxuICAvLyBORVdcbiAgc2xpZGVDbGFzczogJ3N3aXBlci1zbGlkZScsXG4gIHNsaWRlQmxhbmtDbGFzczogJ3N3aXBlci1zbGlkZS1ibGFuaycsXG4gIHNsaWRlQWN0aXZlQ2xhc3M6ICdzd2lwZXItc2xpZGUtYWN0aXZlJyxcbiAgc2xpZGVWaXNpYmxlQ2xhc3M6ICdzd2lwZXItc2xpZGUtdmlzaWJsZScsXG4gIHNsaWRlRnVsbHlWaXNpYmxlQ2xhc3M6ICdzd2lwZXItc2xpZGUtZnVsbHktdmlzaWJsZScsXG4gIHNsaWRlTmV4dENsYXNzOiAnc3dpcGVyLXNsaWRlLW5leHQnLFxuICBzbGlkZVByZXZDbGFzczogJ3N3aXBlci1zbGlkZS1wcmV2JyxcbiAgd3JhcHBlckNsYXNzOiAnc3dpcGVyLXdyYXBwZXInLFxuICBsYXp5UHJlbG9hZGVyQ2xhc3M6ICdzd2lwZXItbGF6eS1wcmVsb2FkZXInLFxuICBsYXp5UHJlbG9hZFByZXZOZXh0OiAwLFxuICAvLyBDYWxsYmFja3NcbiAgcnVuQ2FsbGJhY2tzT25Jbml0OiB0cnVlLFxuICAvLyBJbnRlcm5hbHNcbiAgX2VtaXRDbGFzc2VzOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gbW9kdWxlRXh0ZW5kUGFyYW1zKHBhcmFtcywgYWxsTW9kdWxlc1BhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24gZXh0ZW5kUGFyYW1zKG9iaikge1xuICAgIGlmIChvYmogPT09IHZvaWQgMCkge1xuICAgICAgb2JqID0ge307XG4gICAgfVxuICAgIGNvbnN0IG1vZHVsZVBhcmFtTmFtZSA9IE9iamVjdC5rZXlzKG9iailbMF07XG4gICAgY29uc3QgbW9kdWxlUGFyYW1zID0gb2JqW21vZHVsZVBhcmFtTmFtZV07XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVQYXJhbXMgIT09ICdvYmplY3QnIHx8IG1vZHVsZVBhcmFtcyA9PT0gbnVsbCkge1xuICAgICAgZXh0ZW5kKGFsbE1vZHVsZXNQYXJhbXMsIG9iaik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPSB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChtb2R1bGVQYXJhbU5hbWUgPT09ICduYXZpZ2F0aW9uJyAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbmFibGVkICYmICFwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5wcmV2RWwgJiYgIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLm5leHRFbCkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uYXV0byA9IHRydWU7XG4gICAgfVxuICAgIGlmIChbJ3BhZ2luYXRpb24nLCAnc2Nyb2xsYmFyJ10uaW5kZXhPZihtb2R1bGVQYXJhbU5hbWUpID49IDAgJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uZW5hYmxlZCAmJiAhcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uZWwpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmF1dG8gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIShtb2R1bGVQYXJhbU5hbWUgaW4gcGFyYW1zICYmICdlbmFibGVkJyBpbiBtb2R1bGVQYXJhbXMpKSB7XG4gICAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9PT0gJ29iamVjdCcgJiYgISgnZW5hYmxlZCcgaW4gcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0pKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSkgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPSB7XG4gICAgICBlbmFibGVkOiBmYWxzZVxuICAgIH07XG4gICAgZXh0ZW5kKGFsbE1vZHVsZXNQYXJhbXMsIG9iaik7XG4gIH07XG59XG5cbi8qIGVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogXCJvZmZcIiAqL1xuY29uc3QgcHJvdG90eXBlcyA9IHtcbiAgZXZlbnRzRW1pdHRlcixcbiAgdXBkYXRlLFxuICB0cmFuc2xhdGUsXG4gIHRyYW5zaXRpb24sXG4gIHNsaWRlLFxuICBsb29wLFxuICBncmFiQ3Vyc29yLFxuICBldmVudHM6IGV2ZW50cyQxLFxuICBicmVha3BvaW50cyxcbiAgY2hlY2tPdmVyZmxvdzogY2hlY2tPdmVyZmxvdyQxLFxuICBjbGFzc2VzXG59O1xuY29uc3QgZXh0ZW5kZWREZWZhdWx0cyA9IHt9O1xuY2xhc3MgU3dpcGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IGVsO1xuICAgIGxldCBwYXJhbXM7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgYXJnc1swXS5jb25zdHJ1Y3RvciAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnc1swXSkuc2xpY2UoOCwgLTEpID09PSAnT2JqZWN0Jykge1xuICAgICAgcGFyYW1zID0gYXJnc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgW2VsLCBwYXJhbXNdID0gYXJncztcbiAgICB9XG4gICAgaWYgKCFwYXJhbXMpIHBhcmFtcyA9IHt9O1xuICAgIHBhcmFtcyA9IGV4dGVuZCh7fSwgcGFyYW1zKTtcbiAgICBpZiAoZWwgJiYgIXBhcmFtcy5lbCkgcGFyYW1zLmVsID0gZWw7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGlmIChwYXJhbXMuZWwgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJhbXMuZWwpLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IHN3aXBlcnMgPSBbXTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKS5mb3JFYWNoKGNvbnRhaW5lckVsID0+IHtcbiAgICAgICAgY29uc3QgbmV3UGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMsIHtcbiAgICAgICAgICBlbDogY29udGFpbmVyRWxcbiAgICAgICAgfSk7XG4gICAgICAgIHN3aXBlcnMucHVzaChuZXcgU3dpcGVyKG5ld1BhcmFtcykpO1xuICAgICAgfSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RydWN0b3ItcmV0dXJuXG4gICAgICByZXR1cm4gc3dpcGVycztcbiAgICB9XG5cbiAgICAvLyBTd2lwZXIgSW5zdGFuY2VcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIHN3aXBlci5fX3N3aXBlcl9fID0gdHJ1ZTtcbiAgICBzd2lwZXIuc3VwcG9ydCA9IGdldFN1cHBvcnQoKTtcbiAgICBzd2lwZXIuZGV2aWNlID0gZ2V0RGV2aWNlKHtcbiAgICAgIHVzZXJBZ2VudDogcGFyYW1zLnVzZXJBZ2VudFxuICAgIH0pO1xuICAgIHN3aXBlci5icm93c2VyID0gZ2V0QnJvd3NlcigpO1xuICAgIHN3aXBlci5ldmVudHNMaXN0ZW5lcnMgPSB7fTtcbiAgICBzd2lwZXIuZXZlbnRzQW55TGlzdGVuZXJzID0gW107XG4gICAgc3dpcGVyLm1vZHVsZXMgPSBbLi4uc3dpcGVyLl9fbW9kdWxlc19fXTtcbiAgICBpZiAocGFyYW1zLm1vZHVsZXMgJiYgQXJyYXkuaXNBcnJheShwYXJhbXMubW9kdWxlcykpIHtcbiAgICAgIHN3aXBlci5tb2R1bGVzLnB1c2goLi4ucGFyYW1zLm1vZHVsZXMpO1xuICAgIH1cbiAgICBjb25zdCBhbGxNb2R1bGVzUGFyYW1zID0ge307XG4gICAgc3dpcGVyLm1vZHVsZXMuZm9yRWFjaChtb2QgPT4ge1xuICAgICAgbW9kKHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBzd2lwZXIsXG4gICAgICAgIGV4dGVuZFBhcmFtczogbW9kdWxlRXh0ZW5kUGFyYW1zKHBhcmFtcywgYWxsTW9kdWxlc1BhcmFtcyksXG4gICAgICAgIG9uOiBzd2lwZXIub24uYmluZChzd2lwZXIpLFxuICAgICAgICBvbmNlOiBzd2lwZXIub25jZS5iaW5kKHN3aXBlciksXG4gICAgICAgIG9mZjogc3dpcGVyLm9mZi5iaW5kKHN3aXBlciksXG4gICAgICAgIGVtaXQ6IHN3aXBlci5lbWl0LmJpbmQoc3dpcGVyKVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBFeHRlbmQgZGVmYXVsdHMgd2l0aCBtb2R1bGVzIHBhcmFtc1xuICAgIGNvbnN0IHN3aXBlclBhcmFtcyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGFsbE1vZHVsZXNQYXJhbXMpO1xuXG4gICAgLy8gRXh0ZW5kIGRlZmF1bHRzIHdpdGggcGFzc2VkIHBhcmFtc1xuICAgIHN3aXBlci5wYXJhbXMgPSBleHRlbmQoe30sIHN3aXBlclBhcmFtcywgZXh0ZW5kZWREZWZhdWx0cywgcGFyYW1zKTtcbiAgICBzd2lwZXIub3JpZ2luYWxQYXJhbXMgPSBleHRlbmQoe30sIHN3aXBlci5wYXJhbXMpO1xuICAgIHN3aXBlci5wYXNzZWRQYXJhbXMgPSBleHRlbmQoe30sIHBhcmFtcyk7XG5cbiAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgaWYgKHN3aXBlci5wYXJhbXMgJiYgc3dpcGVyLnBhcmFtcy5vbikge1xuICAgICAgT2JqZWN0LmtleXMoc3dpcGVyLnBhcmFtcy5vbikuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICBzd2lwZXIub24oZXZlbnROYW1lLCBzd2lwZXIucGFyYW1zLm9uW2V2ZW50TmFtZV0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIucGFyYW1zICYmIHN3aXBlci5wYXJhbXMub25BbnkpIHtcbiAgICAgIHN3aXBlci5vbkFueShzd2lwZXIucGFyYW1zLm9uQW55KTtcbiAgICB9XG5cbiAgICAvLyBFeHRlbmQgU3dpcGVyXG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICAgIGVuYWJsZWQ6IHN3aXBlci5wYXJhbXMuZW5hYmxlZCxcbiAgICAgIGVsLFxuICAgICAgLy8gQ2xhc3Nlc1xuICAgICAgY2xhc3NOYW1lczogW10sXG4gICAgICAvLyBTbGlkZXNcbiAgICAgIHNsaWRlczogW10sXG4gICAgICBzbGlkZXNHcmlkOiBbXSxcbiAgICAgIHNuYXBHcmlkOiBbXSxcbiAgICAgIHNsaWRlc1NpemVzR3JpZDogW10sXG4gICAgICAvLyBpc0RpcmVjdGlvblxuICAgICAgaXNIb3Jpem9udGFsKCkge1xuICAgICAgICByZXR1cm4gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJztcbiAgICAgIH0sXG4gICAgICBpc1ZlcnRpY2FsKCkge1xuICAgICAgICByZXR1cm4gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCc7XG4gICAgICB9LFxuICAgICAgLy8gSW5kZXhlc1xuICAgICAgYWN0aXZlSW5kZXg6IDAsXG4gICAgICByZWFsSW5kZXg6IDAsXG4gICAgICAvL1xuICAgICAgaXNCZWdpbm5pbmc6IHRydWUsXG4gICAgICBpc0VuZDogZmFsc2UsXG4gICAgICAvLyBQcm9wc1xuICAgICAgdHJhbnNsYXRlOiAwLFxuICAgICAgcHJldmlvdXNUcmFuc2xhdGU6IDAsXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIHZlbG9jaXR5OiAwLFxuICAgICAgYW5pbWF0aW5nOiBmYWxzZSxcbiAgICAgIGNzc092ZXJmbG93QWRqdXN0bWVudCgpIHtcbiAgICAgICAgLy8gUmV0dXJucyAwIHVubGVzcyBgdHJhbnNsYXRlYCBpcyA+IDIqKjIzXG4gICAgICAgIC8vIFNob3VsZCBiZSBzdWJ0cmFjdGVkIGZyb20gY3NzIHZhbHVlcyB0byBwcmV2ZW50IG92ZXJmbG93XG4gICAgICAgIHJldHVybiBNYXRoLnRydW5jKHRoaXMudHJhbnNsYXRlIC8gMiAqKiAyMykgKiAyICoqIDIzO1xuICAgICAgfSxcbiAgICAgIC8vIExvY2tzXG4gICAgICBhbGxvd1NsaWRlTmV4dDogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCxcbiAgICAgIGFsbG93U2xpZGVQcmV2OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVQcmV2LFxuICAgICAgLy8gVG91Y2ggRXZlbnRzXG4gICAgICB0b3VjaEV2ZW50c0RhdGE6IHtcbiAgICAgICAgaXNUb3VjaGVkOiB1bmRlZmluZWQsXG4gICAgICAgIGlzTW92ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxsb3dUb3VjaENhbGxiYWNrczogdW5kZWZpbmVkLFxuICAgICAgICB0b3VjaFN0YXJ0VGltZTogdW5kZWZpbmVkLFxuICAgICAgICBpc1Njcm9sbGluZzogdW5kZWZpbmVkLFxuICAgICAgICBjdXJyZW50VHJhbnNsYXRlOiB1bmRlZmluZWQsXG4gICAgICAgIHN0YXJ0VHJhbnNsYXRlOiB1bmRlZmluZWQsXG4gICAgICAgIGFsbG93VGhyZXNob2xkTW92ZTogdW5kZWZpbmVkLFxuICAgICAgICAvLyBGb3JtIGVsZW1lbnRzIHRvIG1hdGNoXG4gICAgICAgIGZvY3VzYWJsZUVsZW1lbnRzOiBzd2lwZXIucGFyYW1zLmZvY3VzYWJsZUVsZW1lbnRzLFxuICAgICAgICAvLyBMYXN0IGNsaWNrIHRpbWVcbiAgICAgICAgbGFzdENsaWNrVGltZTogMCxcbiAgICAgICAgY2xpY2tUaW1lb3V0OiB1bmRlZmluZWQsXG4gICAgICAgIC8vIFZlbG9jaXRpZXNcbiAgICAgICAgdmVsb2NpdGllczogW10sXG4gICAgICAgIGFsbG93TW9tZW50dW1Cb3VuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRNb3Zpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgcG9pbnRlcklkOiBudWxsLFxuICAgICAgICB0b3VjaElkOiBudWxsXG4gICAgICB9LFxuICAgICAgLy8gQ2xpY2tzXG4gICAgICBhbGxvd0NsaWNrOiB0cnVlLFxuICAgICAgLy8gVG91Y2hlc1xuICAgICAgYWxsb3dUb3VjaE1vdmU6IHN3aXBlci5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsXG4gICAgICB0b3VjaGVzOiB7XG4gICAgICAgIHN0YXJ0WDogMCxcbiAgICAgICAgc3RhcnRZOiAwLFxuICAgICAgICBjdXJyZW50WDogMCxcbiAgICAgICAgY3VycmVudFk6IDAsXG4gICAgICAgIGRpZmY6IDBcbiAgICAgIH0sXG4gICAgICAvLyBJbWFnZXNcbiAgICAgIGltYWdlc1RvTG9hZDogW10sXG4gICAgICBpbWFnZXNMb2FkZWQ6IDBcbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnX3N3aXBlcicpO1xuXG4gICAgLy8gSW5pdFxuICAgIGlmIChzd2lwZXIucGFyYW1zLmluaXQpIHtcbiAgICAgIHN3aXBlci5pbml0KCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFwcCBpbnN0YW5jZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG4gIGdldERpcmVjdGlvbkxhYmVsKHByb3BlcnR5KSB7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgICB9XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIHtcbiAgICAgICd3aWR0aCc6ICdoZWlnaHQnLFxuICAgICAgJ21hcmdpbi10b3AnOiAnbWFyZ2luLWxlZnQnLFxuICAgICAgJ21hcmdpbi1ib3R0b20gJzogJ21hcmdpbi1yaWdodCcsXG4gICAgICAnbWFyZ2luLWxlZnQnOiAnbWFyZ2luLXRvcCcsXG4gICAgICAnbWFyZ2luLXJpZ2h0JzogJ21hcmdpbi1ib3R0b20nLFxuICAgICAgJ3BhZGRpbmctbGVmdCc6ICdwYWRkaW5nLXRvcCcsXG4gICAgICAncGFkZGluZy1yaWdodCc6ICdwYWRkaW5nLWJvdHRvbScsXG4gICAgICAnbWFyZ2luUmlnaHQnOiAnbWFyZ2luQm90dG9tJ1xuICAgIH1bcHJvcGVydHldO1xuICB9XG4gIGdldFNsaWRlSW5kZXgoc2xpZGVFbCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc0VsLFxuICAgICAgcGFyYW1zXG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3Qgc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgICBjb25zdCBmaXJzdFNsaWRlSW5kZXggPSBlbGVtZW50SW5kZXgoc2xpZGVzWzBdKTtcbiAgICByZXR1cm4gZWxlbWVudEluZGV4KHNsaWRlRWwpIC0gZmlyc3RTbGlkZUluZGV4O1xuICB9XG4gIGdldFNsaWRlSW5kZXhCeURhdGEoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTbGlkZUluZGV4KHRoaXMuc2xpZGVzLmZpbmQoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgPT09IGluZGV4KSk7XG4gIH1cbiAgZ2V0U2xpZGVJbmRleFdoZW5HcmlkKGluZGV4KSB7XG4gICAgaWYgKHRoaXMuZ3JpZCAmJiB0aGlzLnBhcmFtcy5ncmlkICYmIHRoaXMucGFyYW1zLmdyaWQucm93cyA+IDEpIHtcbiAgICAgIGlmICh0aGlzLnBhcmFtcy5ncmlkLmZpbGwgPT09ICdjb2x1bW4nKSB7XG4gICAgICAgIGluZGV4ID0gTWF0aC5mbG9vcihpbmRleCAvIHRoaXMucGFyYW1zLmdyaWQucm93cyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucGFyYW1zLmdyaWQuZmlsbCA9PT0gJ3JvdycpIHtcbiAgICAgICAgaW5kZXggPSBpbmRleCAlIE1hdGguY2VpbCh0aGlzLnNsaWRlcy5sZW5ndGggLyB0aGlzLnBhcmFtcy5ncmlkLnJvd3MpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbiAgcmVjYWxjU2xpZGVzKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzRWwsXG4gICAgICBwYXJhbXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIHN3aXBlci5zbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICB9XG4gIGVuYWJsZSgpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5lbmFibGVkID0gdHJ1ZTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnZW5hYmxlJyk7XG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIuZW5hYmxlZCA9IGZhbHNlO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgIHN3aXBlci51bnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2Rpc2FibGUnKTtcbiAgfVxuICBzZXRQcm9ncmVzcyhwcm9ncmVzcywgc3BlZWQpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIHByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgocHJvZ3Jlc3MsIDApLCAxKTtcbiAgICBjb25zdCBtaW4gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgY29uc3QgbWF4ID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnQgPSAobWF4IC0gbWluKSAqIHByb2dyZXNzICsgbWluO1xuICAgIHN3aXBlci50cmFuc2xhdGVUbyhjdXJyZW50LCB0eXBlb2Ygc3BlZWQgPT09ICd1bmRlZmluZWQnID8gMCA6IHNwZWVkKTtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB9XG4gIGVtaXRDb250YWluZXJDbGFzc2VzKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLl9lbWl0Q2xhc3NlcyB8fCAhc3dpcGVyLmVsKSByZXR1cm47XG4gICAgY29uc3QgY2xzID0gc3dpcGVyLmVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihjbGFzc05hbWUgPT4ge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZS5pbmRleE9mKCdzd2lwZXInKSA9PT0gMCB8fCBjbGFzc05hbWUuaW5kZXhPZihzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MpID09PSAwO1xuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfY29udGFpbmVyQ2xhc3NlcycsIGNscy5qb2luKCcgJykpO1xuICB9XG4gIGdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuICcnO1xuICAgIHJldHVybiBzbGlkZUVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihjbGFzc05hbWUgPT4ge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZS5pbmRleE9mKCdzd2lwZXItc2xpZGUnKSA9PT0gMCB8fCBjbGFzc05hbWUuaW5kZXhPZihzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpID09PSAwO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfVxuICBlbWl0U2xpZGVzQ2xhc3NlcygpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5fZW1pdENsYXNzZXMgfHwgIXN3aXBlci5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IHVwZGF0ZXMgPSBbXTtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBjb25zdCBjbGFzc05hbWVzID0gc3dpcGVyLmdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKTtcbiAgICAgIHVwZGF0ZXMucHVzaCh7XG4gICAgICAgIHNsaWRlRWwsXG4gICAgICAgIGNsYXNzTmFtZXNcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLmVtaXQoJ19zbGlkZUNsYXNzJywgc2xpZGVFbCwgY2xhc3NOYW1lcyk7XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ19zbGlkZUNsYXNzZXMnLCB1cGRhdGVzKTtcbiAgfVxuICBzbGlkZXNQZXJWaWV3RHluYW1pYyh2aWV3LCBleGFjdCkge1xuICAgIGlmICh2aWV3ID09PSB2b2lkIDApIHtcbiAgICAgIHZpZXcgPSAnY3VycmVudCc7XG4gICAgfVxuICAgIGlmIChleGFjdCA9PT0gdm9pZCAwKSB7XG4gICAgICBleGFjdCA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmFtcyxcbiAgICAgIHNsaWRlcyxcbiAgICAgIHNsaWRlc0dyaWQsXG4gICAgICBzbGlkZXNTaXplc0dyaWQsXG4gICAgICBzaXplOiBzd2lwZXJTaXplLFxuICAgICAgYWN0aXZlSW5kZXhcbiAgICB9ID0gc3dpcGVyO1xuICAgIGxldCBzcHYgPSAxO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdudW1iZXInKSByZXR1cm4gcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgbGV0IHNsaWRlU2l6ZSA9IHNsaWRlc1thY3RpdmVJbmRleF0gPyBNYXRoLmNlaWwoc2xpZGVzW2FjdGl2ZUluZGV4XS5zd2lwZXJTbGlkZVNpemUpIDogMDtcbiAgICAgIGxldCBicmVha0xvb3A7XG4gICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggKyAxOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0gJiYgIWJyZWFrTG9vcCkge1xuICAgICAgICAgIHNsaWRlU2l6ZSArPSBNYXRoLmNlaWwoc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZSk7XG4gICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgaWYgKHNsaWRlU2l6ZSA+IHN3aXBlclNpemUpIGJyZWFrTG9vcCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0gJiYgIWJyZWFrTG9vcCkge1xuICAgICAgICAgIHNsaWRlU2l6ZSArPSBzbGlkZXNbaV0uc3dpcGVyU2xpZGVTaXplO1xuICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIGlmIChzbGlkZVNpemUgPiBzd2lwZXJTaXplKSBicmVha0xvb3AgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgaWYgKHZpZXcgPT09ICdjdXJyZW50Jykge1xuICAgICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggKyAxOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVJblZpZXcgPSBleGFjdCA/IHNsaWRlc0dyaWRbaV0gKyBzbGlkZXNTaXplc0dyaWRbaV0gLSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSA8IHN3aXBlclNpemUgOiBzbGlkZXNHcmlkW2ldIC0gc2xpZGVzR3JpZFthY3RpdmVJbmRleF0gPCBzd2lwZXJTaXplO1xuICAgICAgICAgIGlmIChzbGlkZUluVmlldykge1xuICAgICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwcmV2aW91c1xuICAgICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICAgIGNvbnN0IHNsaWRlSW5WaWV3ID0gc2xpZGVzR3JpZFthY3RpdmVJbmRleF0gLSBzbGlkZXNHcmlkW2ldIDwgc3dpcGVyU2l6ZTtcbiAgICAgICAgICBpZiAoc2xpZGVJblZpZXcpIHtcbiAgICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3B2O1xuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICBjb25zdCB7XG4gICAgICBzbmFwR3JpZCxcbiAgICAgIHBhcmFtc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgLy8gQnJlYWtwb2ludHNcbiAgICBpZiAocGFyYW1zLmJyZWFrcG9pbnRzKSB7XG4gICAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICAgIH1cbiAgICBbLi4uc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsb2FkaW5nPVwibGF6eVwiXScpXS5mb3JFYWNoKGltYWdlRWwgPT4ge1xuICAgICAgaWYgKGltYWdlRWwuY29tcGxldGUpIHtcbiAgICAgICAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBpbWFnZUVsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIGZ1bmN0aW9uIHNldFRyYW5zbGF0ZSgpIHtcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZVZhbHVlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgKiAtMSA6IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICBjb25zdCBuZXdUcmFuc2xhdGUgPSBNYXRoLm1pbihNYXRoLm1heCh0cmFuc2xhdGVWYWx1ZSwgc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSwgc3dpcGVyLm1pblRyYW5zbGF0ZSgpKTtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcbiAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICB9XG4gICAgbGV0IHRyYW5zbGF0ZWQ7XG4gICAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiAhcGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgICAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyB8fCBwYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpICYmIHN3aXBlci5pc0VuZCAmJiAhcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlcyA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMgOiBzd2lwZXIuc2xpZGVzO1xuICAgICAgICB0cmFuc2xhdGVkID0gc3dpcGVyLnNsaWRlVG8oc2xpZGVzLmxlbmd0aCAtIDEsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zbGF0ZWQgPSBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhbnNsYXRlZCkge1xuICAgICAgICBzZXRUcmFuc2xhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHNuYXBHcmlkICE9PSBzd2lwZXIuc25hcEdyaWQpIHtcbiAgICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCd1cGRhdGUnKTtcbiAgfVxuICBjaGFuZ2VEaXJlY3Rpb24obmV3RGlyZWN0aW9uLCBuZWVkVXBkYXRlKSB7XG4gICAgaWYgKG5lZWRVcGRhdGUgPT09IHZvaWQgMCkge1xuICAgICAgbmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3QgY3VycmVudERpcmVjdGlvbiA9IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uO1xuICAgIGlmICghbmV3RGlyZWN0aW9uKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIG5ld0RpcmVjdGlvbiA9IGN1cnJlbnREaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgfVxuICAgIGlmIChuZXdEaXJlY3Rpb24gPT09IGN1cnJlbnREaXJlY3Rpb24gfHwgbmV3RGlyZWN0aW9uICE9PSAnaG9yaXpvbnRhbCcgJiYgbmV3RGlyZWN0aW9uICE9PSAndmVydGljYWwnKSB7XG4gICAgICByZXR1cm4gc3dpcGVyO1xuICAgIH1cbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZShgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtjdXJyZW50RGlyZWN0aW9ufWApO1xuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke25ld0RpcmVjdGlvbn1gKTtcbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgICBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9IG5ld0RpcmVjdGlvbjtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBpZiAobmV3RGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgIHNsaWRlRWwuc3R5bGUud2lkdGggPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlRWwuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ2NoYW5nZURpcmVjdGlvbicpO1xuICAgIGlmIChuZWVkVXBkYXRlKSBzd2lwZXIudXBkYXRlKCk7XG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfVxuICBjaGFuZ2VMYW5ndWFnZURpcmVjdGlvbihkaXJlY3Rpb24pIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIucnRsICYmIGRpcmVjdGlvbiA9PT0gJ3J0bCcgfHwgIXN3aXBlci5ydGwgJiYgZGlyZWN0aW9uID09PSAnbHRyJykgcmV0dXJuO1xuICAgIHN3aXBlci5ydGwgPSBkaXJlY3Rpb24gPT09ICdydGwnO1xuICAgIHN3aXBlci5ydGxUcmFuc2xhdGUgPSBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIHN3aXBlci5ydGw7XG4gICAgaWYgKHN3aXBlci5ydGwpIHtcbiAgICAgIHN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ydGxgKTtcbiAgICAgIHN3aXBlci5lbC5kaXIgPSAncnRsJztcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfXJ0bGApO1xuICAgICAgc3dpcGVyLmVsLmRpciA9ICdsdHInO1xuICAgIH1cbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cbiAgbW91bnQoZWxlbWVudCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5tb3VudGVkKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIEZpbmQgZWxcbiAgICBsZXQgZWwgPSBlbGVtZW50IHx8IHN3aXBlci5wYXJhbXMuZWw7XG4gICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCk7XG4gICAgfVxuICAgIGlmICghZWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWwuc3dpcGVyID0gc3dpcGVyO1xuICAgIGlmIChlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUuaG9zdCAmJiBlbC5wYXJlbnROb2RlLmhvc3Qubm9kZU5hbWUgPT09IHN3aXBlci5wYXJhbXMuc3dpcGVyRWxlbWVudE5vZGVOYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIHN3aXBlci5pc0VsZW1lbnQgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBnZXRXcmFwcGVyU2VsZWN0b3IgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gYC4keyhzd2lwZXIucGFyYW1zLndyYXBwZXJDbGFzcyB8fCAnJykudHJpbSgpLnNwbGl0KCcgJykuam9pbignLicpfWA7XG4gICAgfTtcbiAgICBjb25zdCBnZXRXcmFwcGVyID0gKCkgPT4ge1xuICAgICAgaWYgKGVsICYmIGVsLnNoYWRvd1Jvb3QgJiYgZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihnZXRXcmFwcGVyU2VsZWN0b3IoKSk7XG4gICAgICAgIC8vIENoaWxkcmVuIG5lZWRzIHRvIHJldHVybiBzbG90IGl0ZW1zXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudENoaWxkcmVuKGVsLCBnZXRXcmFwcGVyU2VsZWN0b3IoKSlbMF07XG4gICAgfTtcbiAgICAvLyBGaW5kIFdyYXBwZXJcbiAgICBsZXQgd3JhcHBlckVsID0gZ2V0V3JhcHBlcigpO1xuICAgIGlmICghd3JhcHBlckVsICYmIHN3aXBlci5wYXJhbXMuY3JlYXRlRWxlbWVudHMpIHtcbiAgICAgIHdyYXBwZXJFbCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN3aXBlci5wYXJhbXMud3JhcHBlckNsYXNzKTtcbiAgICAgIGVsLmFwcGVuZCh3cmFwcGVyRWwpO1xuICAgICAgZWxlbWVudENoaWxkcmVuKGVsLCBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfWApLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgIHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVFbCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICAgIGVsLFxuICAgICAgd3JhcHBlckVsLFxuICAgICAgc2xpZGVzRWw6IHN3aXBlci5pc0VsZW1lbnQgJiYgIWVsLnBhcmVudE5vZGUuaG9zdC5zbGlkZVNsb3RzID8gZWwucGFyZW50Tm9kZS5ob3N0IDogd3JhcHBlckVsLFxuICAgICAgaG9zdEVsOiBzd2lwZXIuaXNFbGVtZW50ID8gZWwucGFyZW50Tm9kZS5ob3N0IDogZWwsXG4gICAgICBtb3VudGVkOiB0cnVlLFxuICAgICAgLy8gUlRMXG4gICAgICBydGw6IGVsLmRpci50b0xvd2VyQ2FzZSgpID09PSAncnRsJyB8fCBlbGVtZW50U3R5bGUoZWwsICdkaXJlY3Rpb24nKSA9PT0gJ3J0bCcsXG4gICAgICBydGxUcmFuc2xhdGU6IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgKGVsLmRpci50b0xvd2VyQ2FzZSgpID09PSAncnRsJyB8fCBlbGVtZW50U3R5bGUoZWwsICdkaXJlY3Rpb24nKSA9PT0gJ3J0bCcpLFxuICAgICAgd3JvbmdSVEw6IGVsZW1lbnRTdHlsZSh3cmFwcGVyRWwsICdkaXNwbGF5JykgPT09ICctd2Via2l0LWJveCdcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpbml0KGVsKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm4gc3dpcGVyO1xuICAgIGNvbnN0IG1vdW50ZWQgPSBzd2lwZXIubW91bnQoZWwpO1xuICAgIGlmIChtb3VudGVkID09PSBmYWxzZSkgcmV0dXJuIHN3aXBlcjtcbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlSW5pdCcpO1xuXG4gICAgLy8gU2V0IGJyZWFrcG9pbnRcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5icmVha3BvaW50cykge1xuICAgICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgQ2xhc3Nlc1xuICAgIHN3aXBlci5hZGRDbGFzc2VzKCk7XG5cbiAgICAvLyBVcGRhdGUgc2l6ZVxuICAgIHN3aXBlci51cGRhdGVTaXplKCk7XG5cbiAgICAvLyBVcGRhdGUgc2xpZGVzXG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cpIHtcbiAgICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IEdyYWIgQ3Vyc29yXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvciAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG5cbiAgICAvLyBTbGlkZSBUbyBJbml0aWFsIFNsaWRlXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCAmJiBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUgKyBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmUsIDAsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlLCAwLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgZmFsc2UsIHRydWUpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBsb29wXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBBdHRhY2ggZXZlbnRzXG4gICAgc3dpcGVyLmF0dGFjaEV2ZW50cygpO1xuICAgIGNvbnN0IGxhenlFbGVtZW50cyA9IFsuLi5zd2lwZXIuZWwucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9XCJsYXp5XCJdJyldO1xuICAgIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBsYXp5RWxlbWVudHMucHVzaCguLi5zd2lwZXIuaG9zdEVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsb2FkaW5nPVwibGF6eVwiXScpKTtcbiAgICB9XG4gICAgbGF6eUVsZW1lbnRzLmZvckVhY2goaW1hZ2VFbCA9PiB7XG4gICAgICBpZiAoaW1hZ2VFbC5jb21wbGV0ZSkge1xuICAgICAgICBwcm9jZXNzTGF6eVByZWxvYWRlcihzd2lwZXIsIGltYWdlRWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZSA9PiB7XG4gICAgICAgICAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBlLnRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHByZWxvYWQoc3dpcGVyKTtcblxuICAgIC8vIEluaXQgRmxhZ1xuICAgIHN3aXBlci5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgcHJlbG9hZChzd2lwZXIpO1xuXG4gICAgLy8gRW1pdFxuICAgIHN3aXBlci5lbWl0KCdpbml0Jyk7XG4gICAgc3dpcGVyLmVtaXQoJ2FmdGVySW5pdCcpO1xuICAgIHJldHVybiBzd2lwZXI7XG4gIH1cbiAgZGVzdHJveShkZWxldGVJbnN0YW5jZSwgY2xlYW5TdHlsZXMpIHtcbiAgICBpZiAoZGVsZXRlSW5zdGFuY2UgPT09IHZvaWQgMCkge1xuICAgICAgZGVsZXRlSW5zdGFuY2UgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY2xlYW5TdHlsZXMgPT09IHZvaWQgMCkge1xuICAgICAgY2xlYW5TdHlsZXMgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmFtcyxcbiAgICAgIGVsLFxuICAgICAgd3JhcHBlckVsLFxuICAgICAgc2xpZGVzXG4gICAgfSA9IHN3aXBlcjtcbiAgICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMgPT09ICd1bmRlZmluZWQnIHx8IHN3aXBlci5kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlRGVzdHJveScpO1xuXG4gICAgLy8gSW5pdCBGbGFnXG4gICAgc3dpcGVyLmluaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgICAvLyBEZXRhY2ggZXZlbnRzXG4gICAgc3dpcGVyLmRldGFjaEV2ZW50cygpO1xuXG4gICAgLy8gRGVzdHJveSBsb29wXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhbnVwIHN0eWxlc1xuICAgIGlmIChjbGVhblN0eWxlcykge1xuICAgICAgc3dpcGVyLnJlbW92ZUNsYXNzZXMoKTtcbiAgICAgIGlmIChlbCAmJiB0eXBlb2YgZWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIH1cbiAgICAgIGlmICh3cmFwcGVyRWwpIHtcbiAgICAgICAgd3JhcHBlckVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIH1cbiAgICAgIGlmIChzbGlkZXMgJiYgc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgICBzbGlkZUVsLmNsYXNzTGlzdC5yZW1vdmUocGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzLCBwYXJhbXMuc2xpZGVGdWxseVZpc2libGVDbGFzcywgcGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MsIHBhcmFtcy5zbGlkZU5leHRDbGFzcywgcGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgICAgICAgICBzbGlkZUVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICBzbGlkZUVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdkZXN0cm95Jyk7XG5cbiAgICAvLyBEZXRhY2ggZW1pdHRlciBldmVudHNcbiAgICBPYmplY3Qua2V5cyhzd2lwZXIuZXZlbnRzTGlzdGVuZXJzKS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICBzd2lwZXIub2ZmKGV2ZW50TmFtZSk7XG4gICAgfSk7XG4gICAgaWYgKGRlbGV0ZUluc3RhbmNlICE9PSBmYWxzZSkge1xuICAgICAgaWYgKHN3aXBlci5lbCAmJiB0eXBlb2Ygc3dpcGVyLmVsICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzd2lwZXIuZWwuc3dpcGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZVByb3BzKHN3aXBlcik7XG4gICAgfVxuICAgIHN3aXBlci5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHN0YXRpYyBleHRlbmREZWZhdWx0cyhuZXdEZWZhdWx0cykge1xuICAgIGV4dGVuZChleHRlbmRlZERlZmF1bHRzLCBuZXdEZWZhdWx0cyk7XG4gIH1cbiAgc3RhdGljIGdldCBleHRlbmRlZERlZmF1bHRzKCkge1xuICAgIHJldHVybiBleHRlbmRlZERlZmF1bHRzO1xuICB9XG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRzO1xuICB9XG4gIHN0YXRpYyBpbnN0YWxsTW9kdWxlKG1vZCkge1xuICAgIGlmICghU3dpcGVyLnByb3RvdHlwZS5fX21vZHVsZXNfXykgU3dpcGVyLnByb3RvdHlwZS5fX21vZHVsZXNfXyA9IFtdO1xuICAgIGNvbnN0IG1vZHVsZXMgPSBTd2lwZXIucHJvdG90eXBlLl9fbW9kdWxlc19fO1xuICAgIGlmICh0eXBlb2YgbW9kID09PSAnZnVuY3Rpb24nICYmIG1vZHVsZXMuaW5kZXhPZihtb2QpIDwgMCkge1xuICAgICAgbW9kdWxlcy5wdXNoKG1vZCk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyB1c2UobW9kdWxlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgbW9kdWxlLmZvckVhY2gobSA9PiBTd2lwZXIuaW5zdGFsbE1vZHVsZShtKSk7XG4gICAgICByZXR1cm4gU3dpcGVyO1xuICAgIH1cbiAgICBTd2lwZXIuaW5zdGFsbE1vZHVsZShtb2R1bGUpO1xuICAgIHJldHVybiBTd2lwZXI7XG4gIH1cbn1cbk9iamVjdC5rZXlzKHByb3RvdHlwZXMpLmZvckVhY2gocHJvdG90eXBlR3JvdXAgPT4ge1xuICBPYmplY3Qua2V5cyhwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXSkuZm9yRWFjaChwcm90b01ldGhvZCA9PiB7XG4gICAgU3dpcGVyLnByb3RvdHlwZVtwcm90b01ldGhvZF0gPSBwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXVtwcm90b01ldGhvZF07XG4gIH0pO1xufSk7XG5Td2lwZXIudXNlKFtSZXNpemUsIE9ic2VydmVyXSk7XG5cbmV4cG9ydCB7IFN3aXBlciBhcyBTLCBkZWZhdWx0cyBhcyBkIH07XG4iLCAiaW1wb3J0IHsgZSBhcyBlbGVtZW50Q2hpbGRyZW4sIGMgYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIG9yaWdpbmFsUGFyYW1zLCBwYXJhbXMsIGNoZWNrUHJvcHMpIHtcbiAgaWYgKHN3aXBlci5wYXJhbXMuY3JlYXRlRWxlbWVudHMpIHtcbiAgICBPYmplY3Qua2V5cyhjaGVja1Byb3BzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAoIXBhcmFtc1trZXldICYmIHBhcmFtcy5hdXRvID09PSB0cnVlKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZWxlbWVudENoaWxkcmVuKHN3aXBlci5lbCwgYC4ke2NoZWNrUHJvcHNba2V5XX1gKVswXTtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIGNoZWNrUHJvcHNba2V5XSk7XG4gICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjaGVja1Byb3BzW2tleV07XG4gICAgICAgICAgc3dpcGVyLmVsLmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXNba2V5XSA9IGVsZW1lbnQ7XG4gICAgICAgIG9yaWdpbmFsUGFyYW1zW2tleV0gPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgYXMgYyB9O1xuIiwgImltcG9ydCB7IGMgYXMgY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCB9IGZyb20gJy4uL3NoYXJlZC9jcmVhdGUtZWxlbWVudC1pZi1ub3QtZGVmaW5lZC5tanMnO1xuaW1wb3J0IHsgbSBhcyBtYWtlRWxlbWVudHNBcnJheSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBOYXZpZ2F0aW9uKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBudWxsLFxuICAgICAgcHJldkVsOiBudWxsLFxuICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgZGlzYWJsZWRDbGFzczogJ3N3aXBlci1idXR0b24tZGlzYWJsZWQnLFxuICAgICAgaGlkZGVuQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWhpZGRlbicsXG4gICAgICBsb2NrQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWxvY2snLFxuICAgICAgbmF2aWdhdGlvbkRpc2FibGVkQ2xhc3M6ICdzd2lwZXItbmF2aWdhdGlvbi1kaXNhYmxlZCdcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIubmF2aWdhdGlvbiA9IHtcbiAgICBuZXh0RWw6IG51bGwsXG4gICAgcHJldkVsOiBudWxsXG4gIH07XG4gIGZ1bmN0aW9uIGdldEVsKGVsKSB7XG4gICAgbGV0IHJlcztcbiAgICBpZiAoZWwgJiYgdHlwZW9mIGVsID09PSAnc3RyaW5nJyAmJiBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICByZXMgPSBzd2lwZXIuZWwucXVlcnlTZWxlY3RvcihlbCkgfHwgc3dpcGVyLmhvc3RFbC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICAgIGlmIChyZXMpIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChlbCkge1xuICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHJlcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsKV07XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHJlcyAmJiByZXMubGVuZ3RoID4gMSAmJiBzd2lwZXIuZWwucXVlcnlTZWxlY3RvckFsbChlbCkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJlcyA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzICYmIHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmVzID0gcmVzWzBdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWwgJiYgIXJlcykgcmV0dXJuIGVsO1xuICAgIC8vIGlmIChBcnJheS5pc0FycmF5KHJlcykgJiYgcmVzLmxlbmd0aCA9PT0gMSkgcmVzID0gcmVzWzBdO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZnVuY3Rpb24gdG9nZ2xlRWwoZWwsIGRpc2FibGVkKSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgaWYgKHN1YkVsKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdFtkaXNhYmxlZCA/ICdhZGQnIDogJ3JlbW92ZSddKC4uLnBhcmFtcy5kaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICBpZiAoc3ViRWwudGFnTmFtZSA9PT0gJ0JVVFRPTicpIHN1YkVsLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgICBzdWJFbC5jbGFzc0xpc3Rbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZCcgOiAncmVtb3ZlJ10ocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gVXBkYXRlIE5hdmlnYXRpb24gQnV0dG9uc1xuICAgIGNvbnN0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICB0b2dnbGVFbChwcmV2RWwsIGZhbHNlKTtcbiAgICAgIHRvZ2dsZUVsKG5leHRFbCwgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b2dnbGVFbChwcmV2RWwsIHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5yZXdpbmQpO1xuICAgIHRvZ2dsZUVsKG5leHRFbCwgc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLnJld2luZCk7XG4gIH1cbiAgZnVuY3Rpb24gb25QcmV2Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25QcmV2Jyk7XG4gIH1cbiAgZnVuY3Rpb24gb25OZXh0Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25OZXh0Jyk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4gICAgc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5uYXZpZ2F0aW9uLCBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24sIHtcbiAgICAgIG5leHRFbDogJ3N3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICBwcmV2RWw6ICdzd2lwZXItYnV0dG9uLXByZXYnXG4gICAgfSk7XG4gICAgaWYgKCEocGFyYW1zLm5leHRFbCB8fCBwYXJhbXMucHJldkVsKSkgcmV0dXJuO1xuICAgIGxldCBuZXh0RWwgPSBnZXRFbChwYXJhbXMubmV4dEVsKTtcbiAgICBsZXQgcHJldkVsID0gZ2V0RWwocGFyYW1zLnByZXZFbCk7XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIubmF2aWdhdGlvbiwge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSk7XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGNvbnN0IGluaXRCdXR0b24gPSAoZWwsIGRpcikgPT4ge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQgJiYgZWwpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCguLi5wYXJhbXMubG9ja0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgfVxuICAgIH07XG4gICAgbmV4dEVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ25leHQnKSk7XG4gICAgcHJldkVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ3ByZXYnKSk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBjb25zdCBkZXN0cm95QnV0dG9uID0gKGVsLCBkaXIpID0+IHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgfTtcbiAgICBuZXh0RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAnbmV4dCcpKTtcbiAgICBwcmV2RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAncHJldicpKTtcbiAgfVxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCgpO1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3RvRWRnZSBmcm9tRWRnZSBsb2NrIHVubG9jaycsICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG4gIG9uKCdlbmFibGUgZGlzYWJsZScsICgpID0+IHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBpZiAoc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBbLi4ubmV4dEVsLCAuLi5wcmV2RWxdLmZpbHRlcihlbCA9PiAhIWVsKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmxvY2tDbGFzcykpO1xuICB9KTtcbiAgb24oJ2NsaWNrJywgKF9zLCBlKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBuZXh0RWwgPSBtYWtlRWxlbWVudHNBcnJheShuZXh0RWwpO1xuICAgIHByZXZFbCA9IG1ha2VFbGVtZW50c0FycmF5KHByZXZFbCk7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBsZXQgdGFyZ2V0SXNCdXR0b24gPSBwcmV2RWwuaW5jbHVkZXModGFyZ2V0RWwpIHx8IG5leHRFbC5pbmNsdWRlcyh0YXJnZXRFbCk7XG4gICAgaWYgKHN3aXBlci5pc0VsZW1lbnQgJiYgIXRhcmdldElzQnV0dG9uKSB7XG4gICAgICBjb25zdCBwYXRoID0gZS5wYXRoIHx8IGUuY29tcG9zZWRQYXRoICYmIGUuY29tcG9zZWRQYXRoKCk7XG4gICAgICBpZiAocGF0aCkge1xuICAgICAgICB0YXJnZXRJc0J1dHRvbiA9IHBhdGguZmluZChwYXRoRWwgPT4gbmV4dEVsLmluY2x1ZGVzKHBhdGhFbCkgfHwgcHJldkVsLmluY2x1ZGVzKHBhdGhFbCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGVPbkNsaWNrICYmICF0YXJnZXRJc0J1dHRvbikge1xuICAgICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbiAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlICYmIChzd2lwZXIucGFnaW5hdGlvbi5lbCA9PT0gdGFyZ2V0RWwgfHwgc3dpcGVyLnBhZ2luYXRpb24uZWwuY29udGFpbnModGFyZ2V0RWwpKSkgcmV0dXJuO1xuICAgICAgbGV0IGlzSGlkZGVuO1xuICAgICAgaWYgKG5leHRFbC5sZW5ndGgpIHtcbiAgICAgICAgaXNIaWRkZW4gPSBuZXh0RWxbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICB9IGVsc2UgaWYgKHByZXZFbC5sZW5ndGgpIHtcbiAgICAgICAgaXNIaWRkZW4gPSBwcmV2RWxbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXNIaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgZW1pdCgnbmF2aWdhdGlvblNob3cnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVtaXQoJ25hdmlnYXRpb25IaWRlJyk7XG4gICAgICB9XG4gICAgICBbLi4ubmV4dEVsLCAuLi5wcmV2RWxdLmZpbHRlcihlbCA9PiAhIWVsKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZW5hYmxlID0gKCkgPT4ge1xuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKC4uLnN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5uYXZpZ2F0aW9uRGlzYWJsZWRDbGFzcy5zcGxpdCgnICcpKTtcbiAgICBpbml0KCk7XG4gICAgdXBkYXRlKCk7XG4gIH07XG4gIGNvbnN0IGRpc2FibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLm5hdmlnYXRpb25EaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgIGRlc3Ryb3koKTtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIubmF2aWdhdGlvbiwge1xuICAgIGVuYWJsZSxcbiAgICBkaXNhYmxlLFxuICAgIHVwZGF0ZSxcbiAgICBpbml0LFxuICAgIGRlc3Ryb3lcbiAgfSk7XG59XG5cbmV4cG9ydCB7IE5hdmlnYXRpb24gYXMgZGVmYXVsdCB9O1xuIiwgImZ1bmN0aW9uIGNsYXNzZXNUb1NlbGVjdG9yKGNsYXNzZXMpIHtcbiAgaWYgKGNsYXNzZXMgPT09IHZvaWQgMCkge1xuICAgIGNsYXNzZXMgPSAnJztcbiAgfVxuICByZXR1cm4gYC4ke2NsYXNzZXMudHJpbSgpLnJlcGxhY2UoLyhbXFwuOiErXFwvKClbXFxdXSkvZywgJ1xcXFwkMScpIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgLnJlcGxhY2UoLyAvZywgJy4nKX1gO1xufVxuXG5leHBvcnQgeyBjbGFzc2VzVG9TZWxlY3RvciBhcyBjIH07XG4iLCAiaW1wb3J0IHsgYyBhcyBjbGFzc2VzVG9TZWxlY3RvciB9IGZyb20gJy4uL3NoYXJlZC9jbGFzc2VzLXRvLXNlbGVjdG9yLm1qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzJztcbmltcG9ydCB7IG0gYXMgbWFrZUVsZW1lbnRzQXJyYXksIGggYXMgZWxlbWVudE91dGVyU2l6ZSwgaSBhcyBlbGVtZW50SW5kZXgsIHMgYXMgc2V0SW5uZXJIVE1MLCBiIGFzIGVsZW1lbnRQYXJlbnRzIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIFBhZ2luYXRpb24oX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3QgcGZ4ID0gJ3N3aXBlci1wYWdpbmF0aW9uJztcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogbnVsbCxcbiAgICAgIGJ1bGxldEVsZW1lbnQ6ICdzcGFuJyxcbiAgICAgIGNsaWNrYWJsZTogZmFsc2UsXG4gICAgICBoaWRlT25DbGljazogZmFsc2UsXG4gICAgICByZW5kZXJCdWxsZXQ6IG51bGwsXG4gICAgICByZW5kZXJQcm9ncmVzc2JhcjogbnVsbCxcbiAgICAgIHJlbmRlckZyYWN0aW9uOiBudWxsLFxuICAgICAgcmVuZGVyQ3VzdG9tOiBudWxsLFxuICAgICAgcHJvZ3Jlc3NiYXJPcHBvc2l0ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnYnVsbGV0cycsXG4gICAgICAvLyAnYnVsbGV0cycgb3IgJ3Byb2dyZXNzYmFyJyBvciAnZnJhY3Rpb24nIG9yICdjdXN0b20nXG4gICAgICBkeW5hbWljQnVsbGV0czogZmFsc2UsXG4gICAgICBkeW5hbWljTWFpbkJ1bGxldHM6IDEsXG4gICAgICBmb3JtYXRGcmFjdGlvbkN1cnJlbnQ6IG51bWJlciA9PiBudW1iZXIsXG4gICAgICBmb3JtYXRGcmFjdGlvblRvdGFsOiBudW1iZXIgPT4gbnVtYmVyLFxuICAgICAgYnVsbGV0Q2xhc3M6IGAke3BmeH0tYnVsbGV0YCxcbiAgICAgIGJ1bGxldEFjdGl2ZUNsYXNzOiBgJHtwZnh9LWJ1bGxldC1hY3RpdmVgLFxuICAgICAgbW9kaWZpZXJDbGFzczogYCR7cGZ4fS1gLFxuICAgICAgY3VycmVudENsYXNzOiBgJHtwZnh9LWN1cnJlbnRgLFxuICAgICAgdG90YWxDbGFzczogYCR7cGZ4fS10b3RhbGAsXG4gICAgICBoaWRkZW5DbGFzczogYCR7cGZ4fS1oaWRkZW5gLFxuICAgICAgcHJvZ3Jlc3NiYXJGaWxsQ2xhc3M6IGAke3BmeH0tcHJvZ3Jlc3NiYXItZmlsbGAsXG4gICAgICBwcm9ncmVzc2Jhck9wcG9zaXRlQ2xhc3M6IGAke3BmeH0tcHJvZ3Jlc3NiYXItb3Bwb3NpdGVgLFxuICAgICAgY2xpY2thYmxlQ2xhc3M6IGAke3BmeH0tY2xpY2thYmxlYCxcbiAgICAgIGxvY2tDbGFzczogYCR7cGZ4fS1sb2NrYCxcbiAgICAgIGhvcml6b250YWxDbGFzczogYCR7cGZ4fS1ob3Jpem9udGFsYCxcbiAgICAgIHZlcnRpY2FsQ2xhc3M6IGAke3BmeH0tdmVydGljYWxgLFxuICAgICAgcGFnaW5hdGlvbkRpc2FibGVkQ2xhc3M6IGAke3BmeH0tZGlzYWJsZWRgXG4gICAgfVxuICB9KTtcbiAgc3dpcGVyLnBhZ2luYXRpb24gPSB7XG4gICAgZWw6IG51bGwsXG4gICAgYnVsbGV0czogW11cbiAgfTtcbiAgbGV0IGJ1bGxldFNpemU7XG4gIGxldCBkeW5hbWljQnVsbGV0SW5kZXggPSAwO1xuICBmdW5jdGlvbiBpc1BhZ2luYXRpb25EaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gIXN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5lbCB8fCAhc3dpcGVyLnBhZ2luYXRpb24uZWwgfHwgQXJyYXkuaXNBcnJheShzd2lwZXIucGFnaW5hdGlvbi5lbCkgJiYgc3dpcGVyLnBhZ2luYXRpb24uZWwubGVuZ3RoID09PSAwO1xuICB9XG4gIGZ1bmN0aW9uIHNldFNpZGVCdWxsZXRzKGJ1bGxldEVsLCBwb3NpdGlvbikge1xuICAgIGNvbnN0IHtcbiAgICAgIGJ1bGxldEFjdGl2ZUNsYXNzXG4gICAgfSA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoIWJ1bGxldEVsKSByZXR1cm47XG4gICAgYnVsbGV0RWwgPSBidWxsZXRFbFtgJHtwb3NpdGlvbiA9PT0gJ3ByZXYnID8gJ3ByZXZpb3VzJyA6ICduZXh0J31FbGVtZW50U2libGluZ2BdO1xuICAgIGlmIChidWxsZXRFbCkge1xuICAgICAgYnVsbGV0RWwuY2xhc3NMaXN0LmFkZChgJHtidWxsZXRBY3RpdmVDbGFzc30tJHtwb3NpdGlvbn1gKTtcbiAgICAgIGJ1bGxldEVsID0gYnVsbGV0RWxbYCR7cG9zaXRpb24gPT09ICdwcmV2JyA/ICdwcmV2aW91cycgOiAnbmV4dCd9RWxlbWVudFNpYmxpbmdgXTtcbiAgICAgIGlmIChidWxsZXRFbCkge1xuICAgICAgICBidWxsZXRFbC5jbGFzc0xpc3QuYWRkKGAke2J1bGxldEFjdGl2ZUNsYXNzfS0ke3Bvc2l0aW9ufS0ke3Bvc2l0aW9ufWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRNb3ZlRGlyZWN0aW9uKHByZXZJbmRleCwgbmV4dEluZGV4LCBsZW5ndGgpIHtcbiAgICBwcmV2SW5kZXggPSBwcmV2SW5kZXggJSBsZW5ndGg7XG4gICAgbmV4dEluZGV4ID0gbmV4dEluZGV4ICUgbGVuZ3RoO1xuICAgIGlmIChuZXh0SW5kZXggPT09IHByZXZJbmRleCArIDEpIHtcbiAgICAgIHJldHVybiAnbmV4dCc7XG4gICAgfSBlbHNlIGlmIChuZXh0SW5kZXggPT09IHByZXZJbmRleCAtIDEpIHtcbiAgICAgIHJldHVybiAncHJldmlvdXMnO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgZnVuY3Rpb24gb25CdWxsZXRDbGljayhlKSB7XG4gICAgY29uc3QgYnVsbGV0RWwgPSBlLnRhcmdldC5jbG9zZXN0KGNsYXNzZXNUb1NlbGVjdG9yKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpO1xuICAgIGlmICghYnVsbGV0RWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGluZGV4ID0gZWxlbWVudEluZGV4KGJ1bGxldEVsKSAqIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgaWYgKHN3aXBlci5yZWFsSW5kZXggPT09IGluZGV4KSByZXR1cm47XG4gICAgICBjb25zdCBtb3ZlRGlyZWN0aW9uID0gZ2V0TW92ZURpcmVjdGlvbihzd2lwZXIucmVhbEluZGV4LCBpbmRleCwgc3dpcGVyLnNsaWRlcy5sZW5ndGgpO1xuICAgICAgaWYgKG1vdmVEaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgICBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICB9IGVsc2UgaWYgKG1vdmVEaXJlY3Rpb24gPT09ICdwcmV2aW91cycpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG9Mb29wKGluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gUmVuZGVyIHx8IFVwZGF0ZSBQYWdpbmF0aW9uIGJ1bGxldHMvaXRlbXNcbiAgICBjb25zdCBydGwgPSBzd2lwZXIucnRsO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIC8vIEN1cnJlbnQvVG90YWxcbiAgICBsZXQgY3VycmVudDtcbiAgICBsZXQgcHJldmlvdXNJbmRleDtcbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICBjb25zdCB0b3RhbCA9IHN3aXBlci5wYXJhbXMubG9vcCA/IE1hdGguY2VpbChzbGlkZXNMZW5ndGggLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgcHJldmlvdXNJbmRleCA9IHN3aXBlci5wcmV2aW91c1JlYWxJbmRleCB8fCAwO1xuICAgICAgY3VycmVudCA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxID8gTWF0aC5mbG9vcihzd2lwZXIucmVhbEluZGV4IC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBzd2lwZXIucmVhbEluZGV4O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjdXJyZW50ID0gc3dpcGVyLnNuYXBJbmRleDtcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNTbmFwSW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNJbmRleCB8fCAwO1xuICAgICAgY3VycmVudCA9IHN3aXBlci5hY3RpdmVJbmRleCB8fCAwO1xuICAgIH1cbiAgICAvLyBUeXBlc1xuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBidWxsZXRzID0gc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cztcbiAgICAgIGxldCBmaXJzdEluZGV4O1xuICAgICAgbGV0IGxhc3RJbmRleDtcbiAgICAgIGxldCBtaWRJbmRleDtcbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgYnVsbGV0U2l6ZSA9IGVsZW1lbnRPdXRlclNpemUoYnVsbGV0c1swXSwgc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnLCB0cnVlKTtcbiAgICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICAgICAgc3ViRWwuc3R5bGVbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnXSA9IGAke2J1bGxldFNpemUgKiAocGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpfXB4YDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzID4gMSAmJiBwcmV2aW91c0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggKz0gY3VycmVudCAtIChwcmV2aW91c0luZGV4IHx8IDApO1xuICAgICAgICAgIGlmIChkeW5hbWljQnVsbGV0SW5kZXggPiBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMSkge1xuICAgICAgICAgICAgZHluYW1pY0J1bGxldEluZGV4ID0gcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyAtIDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChkeW5hbWljQnVsbGV0SW5kZXggPCAwKSB7XG4gICAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaXJzdEluZGV4ID0gTWF0aC5tYXgoY3VycmVudCAtIGR5bmFtaWNCdWxsZXRJbmRleCwgMCk7XG4gICAgICAgIGxhc3RJbmRleCA9IGZpcnN0SW5kZXggKyAoTWF0aC5taW4oYnVsbGV0cy5sZW5ndGgsIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMpIC0gMSk7XG4gICAgICAgIG1pZEluZGV4ID0gKGxhc3RJbmRleCArIGZpcnN0SW5kZXgpIC8gMjtcbiAgICAgIH1cbiAgICAgIGJ1bGxldHMuZm9yRWFjaChidWxsZXRFbCA9PiB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXNUb1JlbW92ZSA9IFsuLi5bJycsICctbmV4dCcsICctbmV4dC1uZXh0JywgJy1wcmV2JywgJy1wcmV2LXByZXYnLCAnLW1haW4nXS5tYXAoc3VmZml4ID0+IGAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30ke3N1ZmZpeH1gKV0ubWFwKHMgPT4gdHlwZW9mIHMgPT09ICdzdHJpbmcnICYmIHMuaW5jbHVkZXMoJyAnKSA/IHMuc3BsaXQoJyAnKSA6IHMpLmZsYXQoKTtcbiAgICAgICAgYnVsbGV0RWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzVG9SZW1vdmUpO1xuICAgICAgfSk7XG4gICAgICBpZiAoZWwubGVuZ3RoID4gMSkge1xuICAgICAgICBidWxsZXRzLmZvckVhY2goYnVsbGV0ID0+IHtcbiAgICAgICAgICBjb25zdCBidWxsZXRJbmRleCA9IGVsZW1lbnRJbmRleChidWxsZXQpO1xuICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoLi4ucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgICAgICAgYnVsbGV0LnNldEF0dHJpYnV0ZSgncGFydCcsICdidWxsZXQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID49IGZpcnN0SW5kZXggJiYgYnVsbGV0SW5kZXggPD0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKC4uLmAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmAuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVsbGV0SW5kZXggPT09IGZpcnN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgc2V0U2lkZUJ1bGxldHMoYnVsbGV0LCAncHJldicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgc2V0U2lkZUJ1bGxldHMoYnVsbGV0LCAnbmV4dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBidWxsZXQgPSBidWxsZXRzW2N1cnJlbnRdO1xuICAgICAgICBpZiAoYnVsbGV0KSB7XG4gICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoLi4ucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICAgICAgYnVsbGV0cy5mb3JFYWNoKChidWxsZXRFbCwgYnVsbGV0SW5kZXgpID0+IHtcbiAgICAgICAgICAgIGJ1bGxldEVsLnNldEF0dHJpYnV0ZSgncGFydCcsIGJ1bGxldEluZGV4ID09PSBjdXJyZW50ID8gJ2J1bGxldC1hY3RpdmUnIDogJ2J1bGxldCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICBjb25zdCBmaXJzdERpc3BsYXllZEJ1bGxldCA9IGJ1bGxldHNbZmlyc3RJbmRleF07XG4gICAgICAgICAgY29uc3QgbGFzdERpc3BsYXllZEJ1bGxldCA9IGJ1bGxldHNbbGFzdEluZGV4XTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gZmlyc3RJbmRleDsgaSA8PSBsYXN0SW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGJ1bGxldHNbaV0pIHtcbiAgICAgICAgICAgICAgYnVsbGV0c1tpXS5jbGFzc0xpc3QuYWRkKC4uLmAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmAuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpZGVCdWxsZXRzKGZpcnN0RGlzcGxheWVkQnVsbGV0LCAncHJldicpO1xuICAgICAgICAgIHNldFNpZGVCdWxsZXRzKGxhc3REaXNwbGF5ZWRCdWxsZXQsICduZXh0Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgY29uc3QgZHluYW1pY0J1bGxldHNMZW5ndGggPSBNYXRoLm1pbihidWxsZXRzLmxlbmd0aCwgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpO1xuICAgICAgICBjb25zdCBidWxsZXRzT2Zmc2V0ID0gKGJ1bGxldFNpemUgKiBkeW5hbWljQnVsbGV0c0xlbmd0aCAtIGJ1bGxldFNpemUpIC8gMiAtIG1pZEluZGV4ICogYnVsbGV0U2l6ZTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0UHJvcCA9IHJ0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIGJ1bGxldHMuZm9yRWFjaChidWxsZXQgPT4ge1xuICAgICAgICAgIGJ1bGxldC5zdHlsZVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBvZmZzZXRQcm9wIDogJ3RvcCddID0gYCR7YnVsbGV0c09mZnNldH1weGA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC5mb3JFYWNoKChzdWJFbCwgc3ViRWxJbmRleCkgPT4ge1xuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnZnJhY3Rpb24nKSB7XG4gICAgICAgIHN1YkVsLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmN1cnJlbnRDbGFzcykpLmZvckVhY2goZnJhY3Rpb25FbCA9PiB7XG4gICAgICAgICAgZnJhY3Rpb25FbC50ZXh0Q29udGVudCA9IHBhcmFtcy5mb3JtYXRGcmFjdGlvbkN1cnJlbnQoY3VycmVudCArIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMudG90YWxDbGFzcykpLmZvckVhY2godG90YWxFbCA9PiB7XG4gICAgICAgICAgdG90YWxFbC50ZXh0Q29udGVudCA9IHBhcmFtcy5mb3JtYXRGcmFjdGlvblRvdGFsKHRvdGFsKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgICAgbGV0IHByb2dyZXNzYmFyRGlyZWN0aW9uO1xuICAgICAgICBpZiAocGFyYW1zLnByb2dyZXNzYmFyT3Bwb3NpdGUpIHtcbiAgICAgICAgICBwcm9ncmVzc2JhckRpcmVjdGlvbiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvZ3Jlc3NiYXJEaXJlY3Rpb24gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjYWxlID0gKGN1cnJlbnQgKyAxKSAvIHRvdGFsO1xuICAgICAgICBsZXQgc2NhbGVYID0gMTtcbiAgICAgICAgbGV0IHNjYWxlWSA9IDE7XG4gICAgICAgIGlmIChwcm9ncmVzc2JhckRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgc2NhbGVYID0gc2NhbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NhbGVZID0gc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpKS5mb3JFYWNoKHByb2dyZXNzRWwgPT4ge1xuICAgICAgICAgIHByb2dyZXNzRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZVgoJHtzY2FsZVh9KSBzY2FsZVkoJHtzY2FsZVl9KWA7XG4gICAgICAgICAgcHJvZ3Jlc3NFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtzd2lwZXIucGFyYW1zLnNwZWVkfW1zYDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdjdXN0b20nICYmIHBhcmFtcy5yZW5kZXJDdXN0b20pIHtcbiAgICAgICAgc2V0SW5uZXJIVE1MKHN1YkVsLCBwYXJhbXMucmVuZGVyQ3VzdG9tKHN3aXBlciwgY3VycmVudCArIDEsIHRvdGFsKSk7XG4gICAgICAgIGlmIChzdWJFbEluZGV4ID09PSAwKSBlbWl0KCdwYWdpbmF0aW9uUmVuZGVyJywgc3ViRWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN1YkVsSW5kZXggPT09IDApIGVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBzdWJFbCk7XG4gICAgICAgIGVtaXQoJ3BhZ2luYXRpb25VcGRhdGUnLCBzdWJFbCk7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdFtzd2lwZXIuaXNMb2NrZWQgPyAnYWRkJyA6ICdyZW1vdmUnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgLy8gUmVuZGVyIENvbnRhaW5lclxuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGNvbnN0IHNsaWRlc0xlbmd0aCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzID4gMSA/IHN3aXBlci5zbGlkZXMubGVuZ3RoIC8gTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzKSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGxldCBwYWdpbmF0aW9uSFRNTCA9ICcnO1xuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnKSB7XG4gICAgICBsZXQgbnVtYmVyT2ZCdWxsZXRzID0gc3dpcGVyLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKHNsaWRlc0xlbmd0aCAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApIDogc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBudW1iZXJPZkJ1bGxldHMgPiBzbGlkZXNMZW5ndGgpIHtcbiAgICAgICAgbnVtYmVyT2ZCdWxsZXRzID0gc2xpZGVzTGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkJ1bGxldHM7IGkgKz0gMSkge1xuICAgICAgICBpZiAocGFyYW1zLnJlbmRlckJ1bGxldCkge1xuICAgICAgICAgIHBhZ2luYXRpb25IVE1MICs9IHBhcmFtcy5yZW5kZXJCdWxsZXQuY2FsbChzd2lwZXIsIGksIHBhcmFtcy5idWxsZXRDbGFzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgcGFnaW5hdGlvbkhUTUwgKz0gYDwke3BhcmFtcy5idWxsZXRFbGVtZW50fSAke3N3aXBlci5pc0VsZW1lbnQgPyAncGFydD1cImJ1bGxldFwiJyA6ICcnfSBjbGFzcz1cIiR7cGFyYW1zLmJ1bGxldENsYXNzfVwiPjwvJHtwYXJhbXMuYnVsbGV0RWxlbWVudH0+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdmcmFjdGlvbicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyRnJhY3Rpb24pIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyRnJhY3Rpb24uY2FsbChzd2lwZXIsIHBhcmFtcy5jdXJyZW50Q2xhc3MsIHBhcmFtcy50b3RhbENsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2luYXRpb25IVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtwYXJhbXMuY3VycmVudENsYXNzfVwiPjwvc3Bhbj5gICsgJyAvICcgKyBgPHNwYW4gY2xhc3M9XCIke3BhcmFtcy50b3RhbENsYXNzfVwiPjwvc3Bhbj5gO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIpIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIuY2FsbChzd2lwZXIsIHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7cGFyYW1zLnByb2dyZXNzYmFyRmlsbENsYXNzfVwiPjwvc3Bhbj5gO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzID0gW107XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBpZiAocGFyYW1zLnR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgICAgIHNldElubmVySFRNTChzdWJFbCwgcGFnaW5hdGlvbkhUTUwgfHwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycpIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5wdXNoKC4uLnN1YkVsLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmJ1bGxldENsYXNzKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwYXJhbXMudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgIGVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBlbFswXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5wYWdpbmF0aW9uLCBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24sIHtcbiAgICAgIGVsOiAnc3dpcGVyLXBhZ2luYXRpb24nXG4gICAgfSk7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmICghcGFyYW1zLmVsKSByZXR1cm47XG4gICAgbGV0IGVsO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBlbCA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKHBhcmFtcy5lbCk7XG4gICAgfVxuICAgIGlmICghZWwgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKV07XG4gICAgfVxuICAgIGlmICghZWwpIHtcbiAgICAgIGVsID0gcGFyYW1zLmVsO1xuICAgIH1cbiAgICBpZiAoIWVsIHx8IGVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkoZWwpICYmIGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgIGVsID0gWy4uLnN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbCldO1xuICAgICAgLy8gY2hlY2sgaWYgaXQgYmVsb25ncyB0byBhbm90aGVyIG5lc3RlZCBTd2lwZXJcbiAgICAgIGlmIChlbC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGVsID0gZWwuZmluZChzdWJFbCA9PiB7XG4gICAgICAgICAgaWYgKGVsZW1lbnRQYXJlbnRzKHN1YkVsLCAnLnN3aXBlcicpWzBdICE9PSBzd2lwZXIuZWwpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGVsKSAmJiBlbC5sZW5ndGggPT09IDEpIGVsID0gZWxbMF07XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIucGFnaW5hdGlvbiwge1xuICAgICAgZWxcbiAgICB9KTtcbiAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZCguLi4ocGFyYW1zLmNsaWNrYWJsZUNsYXNzIHx8ICcnKS5zcGxpdCgnICcpKTtcbiAgICAgIH1cbiAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQocGFyYW1zLm1vZGlmaWVyQ2xhc3MgKyBwYXJhbXMudHlwZSk7XG4gICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MgOiBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdidWxsZXRzJyAmJiBwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMubW9kaWZpZXJDbGFzc30ke3BhcmFtcy50eXBlfS1keW5hbWljYCk7XG4gICAgICAgIGR5bmFtaWNCdWxsZXRJbmRleCA9IDA7XG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIDwgMSkge1xuICAgICAgICAgIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicgJiYgcGFyYW1zLnByb2dyZXNzYmFyT3Bwb3NpdGUpIHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChwYXJhbXMucHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMuY2xpY2thYmxlKSB7XG4gICAgICAgIHN1YkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25CdWxsZXRDbGljayk7XG4gICAgICB9XG4gICAgICBpZiAoIXN3aXBlci5lbmFibGVkKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgaWYgKGlzUGFnaW5hdGlvbkRpc2FibGVkKCkpIHJldHVybjtcbiAgICBsZXQgZWwgPSBzd2lwZXIucGFnaW5hdGlvbi5lbDtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdC5yZW1vdmUocGFyYW1zLmhpZGRlbkNsYXNzKTtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMubW9kaWZpZXJDbGFzcyArIHBhcmFtcy50eXBlKTtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LnJlbW92ZShzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBwYXJhbXMuaG9yaXpvbnRhbENsYXNzIDogcGFyYW1zLnZlcnRpY2FsQ2xhc3MpO1xuICAgICAgICBpZiAocGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgICAgIHN1YkVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uKHBhcmFtcy5jbGlja2FibGVDbGFzcyB8fCAnJykuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgc3ViRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkJ1bGxldENsaWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzKSBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmZvckVhY2goc3ViRWwgPT4gc3ViRWwuY2xhc3NMaXN0LnJlbW92ZSguLi5wYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3Muc3BsaXQoJyAnKSkpO1xuICB9XG4gIG9uKCdjaGFuZ2VEaXJlY3Rpb24nLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFnaW5hdGlvbiB8fCAhc3dpcGVyLnBhZ2luYXRpb24uZWwpIHJldHVybjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgbGV0IHtcbiAgICAgIGVsXG4gICAgfSA9IHN3aXBlci5wYWdpbmF0aW9uO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgc3ViRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuaG9yaXpvbnRhbENsYXNzLCBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MgOiBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgfSk7XG4gIH0pO1xuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCgpO1xuICAgICAgcmVuZGVyKCk7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignYWN0aXZlSW5kZXhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzd2lwZXIuc25hcEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3NuYXBJbmRleENoYW5nZScsICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdzbmFwR3JpZExlbmd0aENoYW5nZScsICgpID0+IHtcbiAgICByZW5kZXIoKTtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG4gIG9uKCdlbmFibGUgZGlzYWJsZScsICgpID0+IHtcbiAgICBsZXQge1xuICAgICAgZWxcbiAgICB9ID0gc3dpcGVyLnBhZ2luYXRpb247XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICAgIGVsLmZvckVhY2goc3ViRWwgPT4gc3ViRWwuY2xhc3NMaXN0W3N3aXBlci5lbmFibGVkID8gJ3JlbW92ZScgOiAnYWRkJ10oc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmxvY2tDbGFzcykpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdsb2NrIHVubG9jaycsICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdjbGljaycsIChfcywgZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldEVsID0gZS50YXJnZXQ7XG4gICAgY29uc3QgZWwgPSBtYWtlRWxlbWVudHNBcnJheShzd2lwZXIucGFnaW5hdGlvbi5lbCk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5lbCAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uaGlkZU9uQ2xpY2sgJiYgZWwgJiYgZWwubGVuZ3RoID4gMCAmJiAhdGFyZ2V0RWwuY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpIHtcbiAgICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiAoc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsICYmIHRhcmdldEVsID09PSBzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwgfHwgc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsICYmIHRhcmdldEVsID09PSBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwpKSByZXR1cm47XG4gICAgICBjb25zdCBpc0hpZGRlbiA9IGVsWzBdLmNsYXNzTGlzdC5jb250YWlucyhzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgaWYgKGlzSGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgIGVtaXQoJ3BhZ2luYXRpb25TaG93Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbWl0KCdwYWdpbmF0aW9uSGlkZScpO1xuICAgICAgfVxuICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3QudG9nZ2xlKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcykpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGVuYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucGFnaW5hdGlvbkRpc2FibGVkQ2xhc3MpO1xuICAgIGxldCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcykpO1xuICAgIH1cbiAgICBpbml0KCk7XG4gICAgcmVuZGVyKCk7XG4gICAgdXBkYXRlKCk7XG4gIH07XG4gIGNvbnN0IGRpc2FibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLnBhZ2luYXRpb25EaXNhYmxlZENsYXNzKTtcbiAgICBsZXQge1xuICAgICAgZWxcbiAgICB9ID0gc3dpcGVyLnBhZ2luYXRpb247XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICAgIGVsLmZvckVhY2goc3ViRWwgPT4gc3ViRWwuY2xhc3NMaXN0LmFkZChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucGFnaW5hdGlvbkRpc2FibGVkQ2xhc3MpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5wYWdpbmF0aW9uLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGUsXG4gICAgcmVuZGVyLFxuICAgIHVwZGF0ZSxcbiAgICBpbml0LFxuICAgIGRlc3Ryb3lcbiAgfSk7XG59XG5cbmV4cG9ydCB7IFBhZ2luYXRpb24gYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGcgYXMgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzJztcblxuLyogZXNsaW50IG5vLXVuZGVyc2NvcmUtZGFuZ2xlOiBcIm9mZlwiICovXG4vKiBlc2xpbnQgbm8tdXNlLWJlZm9yZS1kZWZpbmU6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIEF1dG9wbGF5KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXQsXG4gICAgcGFyYW1zXG4gIH0gPSBfcmVmO1xuICBzd2lwZXIuYXV0b3BsYXkgPSB7XG4gICAgcnVubmluZzogZmFsc2UsXG4gICAgcGF1c2VkOiBmYWxzZSxcbiAgICB0aW1lTGVmdDogMFxuICB9O1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGF1dG9wbGF5OiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIGRlbGF5OiAzMDAwLFxuICAgICAgd2FpdEZvclRyYW5zaXRpb246IHRydWUsXG4gICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICBzdG9wT25MYXN0U2xpZGU6IGZhbHNlLFxuICAgICAgcmV2ZXJzZURpcmVjdGlvbjogZmFsc2UsXG4gICAgICBwYXVzZU9uTW91c2VFbnRlcjogZmFsc2VcbiAgICB9XG4gIH0pO1xuICBsZXQgdGltZW91dDtcbiAgbGV0IHJhZjtcbiAgbGV0IGF1dG9wbGF5RGVsYXlUb3RhbCA9IHBhcmFtcyAmJiBwYXJhbXMuYXV0b3BsYXkgPyBwYXJhbXMuYXV0b3BsYXkuZGVsYXkgOiAzMDAwO1xuICBsZXQgYXV0b3BsYXlEZWxheUN1cnJlbnQgPSBwYXJhbXMgJiYgcGFyYW1zLmF1dG9wbGF5ID8gcGFyYW1zLmF1dG9wbGF5LmRlbGF5IDogMzAwMDtcbiAgbGV0IGF1dG9wbGF5VGltZUxlZnQ7XG4gIGxldCBhdXRvcGxheVN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBsZXQgd2FzUGF1c2VkO1xuICBsZXQgaXNUb3VjaGVkO1xuICBsZXQgcGF1c2VkQnlUb3VjaDtcbiAgbGV0IHRvdWNoU3RhcnRUaW1lb3V0O1xuICBsZXQgc2xpZGVDaGFuZ2VkO1xuICBsZXQgcGF1c2VkQnlJbnRlcmFjdGlvbjtcbiAgbGV0IHBhdXNlZEJ5UG9pbnRlckVudGVyO1xuICBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoZSkge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci53cmFwcGVyRWwpIHJldHVybjtcbiAgICBpZiAoZS50YXJnZXQgIT09IHN3aXBlci53cmFwcGVyRWwpIHJldHVybjtcbiAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBvblRyYW5zaXRpb25FbmQpO1xuICAgIGlmIChwYXVzZWRCeVBvaW50ZXJFbnRlciB8fCBlLmRldGFpbCAmJiBlLmRldGFpbC5ieVN3aXBlclRvdWNoTW92ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXN1bWUoKTtcbiAgfVxuICBjb25zdCBjYWxjVGltZUxlZnQgPSAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgIHdhc1BhdXNlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh3YXNQYXVzZWQpIHtcbiAgICAgIGF1dG9wbGF5RGVsYXlDdXJyZW50ID0gYXV0b3BsYXlUaW1lTGVmdDtcbiAgICAgIHdhc1BhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0aW1lTGVmdCA9IHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPyBhdXRvcGxheVRpbWVMZWZ0IDogYXV0b3BsYXlTdGFydFRpbWUgKyBhdXRvcGxheURlbGF5Q3VycmVudCAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHN3aXBlci5hdXRvcGxheS50aW1lTGVmdCA9IHRpbWVMZWZ0O1xuICAgIGVtaXQoJ2F1dG9wbGF5VGltZUxlZnQnLCB0aW1lTGVmdCwgdGltZUxlZnQgLyBhdXRvcGxheURlbGF5VG90YWwpO1xuICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBjYWxjVGltZUxlZnQoKTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZ2V0U2xpZGVEZWxheSA9ICgpID0+IHtcbiAgICBsZXQgYWN0aXZlU2xpZGVFbDtcbiAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIGFjdGl2ZVNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmZpbmQoc2xpZGVFbCA9PiBzbGlkZUVsLmNsYXNzTGlzdC5jb250YWlucygnc3dpcGVyLXNsaWRlLWFjdGl2ZScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aXZlU2xpZGVFbCA9IHN3aXBlci5zbGlkZXNbc3dpcGVyLmFjdGl2ZUluZGV4XTtcbiAgICB9XG4gICAgaWYgKCFhY3RpdmVTbGlkZUVsKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGN1cnJlbnRTbGlkZURlbGF5ID0gcGFyc2VJbnQoYWN0aXZlU2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLWF1dG9wbGF5JyksIDEwKTtcbiAgICByZXR1cm4gY3VycmVudFNsaWRlRGVsYXk7XG4gIH07XG4gIGNvbnN0IHJ1biA9IGRlbGF5Rm9yY2UgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgY2FsY1RpbWVMZWZ0KCk7XG4gICAgbGV0IGRlbGF5ID0gdHlwZW9mIGRlbGF5Rm9yY2UgPT09ICd1bmRlZmluZWQnID8gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheSA6IGRlbGF5Rm9yY2U7XG4gICAgYXV0b3BsYXlEZWxheVRvdGFsID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICBhdXRvcGxheURlbGF5Q3VycmVudCA9IHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGVsYXk7XG4gICAgY29uc3QgY3VycmVudFNsaWRlRGVsYXkgPSBnZXRTbGlkZURlbGF5KCk7XG4gICAgaWYgKCFOdW1iZXIuaXNOYU4oY3VycmVudFNsaWRlRGVsYXkpICYmIGN1cnJlbnRTbGlkZURlbGF5ID4gMCAmJiB0eXBlb2YgZGVsYXlGb3JjZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRlbGF5ID0gY3VycmVudFNsaWRlRGVsYXk7XG4gICAgICBhdXRvcGxheURlbGF5VG90YWwgPSBjdXJyZW50U2xpZGVEZWxheTtcbiAgICAgIGF1dG9wbGF5RGVsYXlDdXJyZW50ID0gY3VycmVudFNsaWRlRGVsYXk7XG4gICAgfVxuICAgIGF1dG9wbGF5VGltZUxlZnQgPSBkZWxheTtcbiAgICBjb25zdCBzcGVlZCA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gICAgY29uc3QgcHJvY2VlZCA9ICgpID0+IHtcbiAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnJldmVyc2VEaXJlY3Rpb24pIHtcbiAgICAgICAgaWYgKCFzd2lwZXIuaXNCZWdpbm5pbmcgfHwgc3dpcGVyLnBhcmFtcy5sb29wIHx8IHN3aXBlci5wYXJhbXMucmV3aW5kKSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlUHJldihzcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfSBlbHNlIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGUpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEsIHNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXN3aXBlci5pc0VuZCB8fCBzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLnBhcmFtcy5yZXdpbmQpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVOZXh0KHNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZSkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKDAsIHNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgIGF1dG9wbGF5U3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgcnVuKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGRlbGF5ID4gMCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBwcm9jZWVkKCk7XG4gICAgICB9LCBkZWxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHByb2NlZWQoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHJldHVybiBkZWxheTtcbiAgfTtcbiAgY29uc3Qgc3RhcnQgPSAoKSA9PiB7XG4gICAgYXV0b3BsYXlTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucnVubmluZyA9IHRydWU7XG4gICAgcnVuKCk7XG4gICAgZW1pdCgnYXV0b3BsYXlTdGFydCcpO1xuICB9O1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgZW1pdCgnYXV0b3BsYXlTdG9wJyk7XG4gIH07XG4gIGNvbnN0IHBhdXNlID0gKGludGVybmFsLCByZXNldCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgcHJvY2VlZCA9ICgpID0+IHtcbiAgICAgIGVtaXQoJ2F1dG9wbGF5UGF1c2UnKTtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LndhaXRGb3JUcmFuc2l0aW9uKSB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIG9uVHJhbnNpdGlvbkVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSB0cnVlO1xuICAgIGlmIChyZXNldCkge1xuICAgICAgaWYgKHNsaWRlQ2hhbmdlZCkge1xuICAgICAgICBhdXRvcGxheVRpbWVMZWZ0ID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICAgIH1cbiAgICAgIHNsaWRlQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgcHJvY2VlZCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWxheSA9IGF1dG9wbGF5VGltZUxlZnQgfHwgc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICBhdXRvcGxheVRpbWVMZWZ0ID0gZGVsYXkgLSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBhdXRvcGxheVN0YXJ0VGltZSk7XG4gICAgaWYgKHN3aXBlci5pc0VuZCAmJiBhdXRvcGxheVRpbWVMZWZ0IDwgMCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSByZXR1cm47XG4gICAgaWYgKGF1dG9wbGF5VGltZUxlZnQgPCAwKSBhdXRvcGxheVRpbWVMZWZ0ID0gMDtcbiAgICBwcm9jZWVkKCk7XG4gIH07XG4gIGNvbnN0IHJlc3VtZSA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmIGF1dG9wbGF5VGltZUxlZnQgPCAwICYmICFzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBhdXRvcGxheVN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGlmIChwYXVzZWRCeUludGVyYWN0aW9uKSB7XG4gICAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gZmFsc2U7XG4gICAgICBydW4oYXV0b3BsYXlUaW1lTGVmdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJ1bigpO1xuICAgIH1cbiAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gZmFsc2U7XG4gICAgZW1pdCgnYXV0b3BsYXlSZXN1bWUnKTtcbiAgfTtcbiAgY29uc3Qgb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgICAgcGF1c2VkQnlJbnRlcmFjdGlvbiA9IHRydWU7XG4gICAgICBwYXVzZSh0cnVlKTtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICByZXN1bWUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uUG9pbnRlckVudGVyID0gZSA9PiB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScpIHJldHVybjtcbiAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICBwYXVzZWRCeVBvaW50ZXJFbnRlciA9IHRydWU7XG4gICAgaWYgKHN3aXBlci5hbmltYXRpbmcgfHwgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkgcmV0dXJuO1xuICAgIHBhdXNlKHRydWUpO1xuICB9O1xuICBjb25zdCBvblBvaW50ZXJMZWF2ZSA9IGUgPT4ge1xuICAgIGlmIChlLnBvaW50ZXJUeXBlICE9PSAnbW91c2UnKSByZXR1cm47XG4gICAgcGF1c2VkQnlQb2ludGVyRW50ZXIgPSBmYWxzZTtcbiAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkge1xuICAgICAgcmVzdW1lKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBhdHRhY2hNb3VzZUV2ZW50cyA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5wYXVzZU9uTW91c2VFbnRlcikge1xuICAgICAgc3dpcGVyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJlbnRlcicsIG9uUG9pbnRlckVudGVyKTtcbiAgICAgIHN3aXBlci5lbC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCBvblBvaW50ZXJMZWF2ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBkZXRhY2hNb3VzZUV2ZW50cyA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmVsICYmIHR5cGVvZiBzd2lwZXIuZWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICBzd2lwZXIuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgb25Qb2ludGVyRW50ZXIpO1xuICAgICAgc3dpcGVyLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIG9uUG9pbnRlckxlYXZlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGF0dGFjaERvY3VtZW50RXZlbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgfTtcbiAgY29uc3QgZGV0YWNoRG9jdW1lbnRFdmVudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UpO1xuICB9O1xuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5lbmFibGVkKSB7XG4gICAgICBhdHRhY2hNb3VzZUV2ZW50cygpO1xuICAgICAgYXR0YWNoRG9jdW1lbnRFdmVudHMoKTtcbiAgICAgIHN0YXJ0KCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgZGV0YWNoTW91c2VFdmVudHMoKTtcbiAgICBkZXRhY2hEb2N1bWVudEV2ZW50cygpO1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdfZnJlZU1vZGVTdGF0aWNSZWxlYXNlJywgKCkgPT4ge1xuICAgIGlmIChwYXVzZWRCeVRvdWNoIHx8IHBhdXNlZEJ5SW50ZXJhY3Rpb24pIHtcbiAgICAgIHJlc3VtZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZScsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlKHRydWUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIChfcywgc3BlZWQsIGludGVybmFsKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKGludGVybmFsIHx8ICFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICBwYXVzZSh0cnVlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzbGlkZXJGaXJzdE1vdmUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHN0b3AoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaXNUb3VjaGVkID0gdHJ1ZTtcbiAgICBwYXVzZWRCeVRvdWNoID0gZmFsc2U7XG4gICAgcGF1c2VkQnlJbnRlcmFjdGlvbiA9IGZhbHNlO1xuICAgIHRvdWNoU3RhcnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICAgIHBhdXNlZEJ5VG91Y2ggPSB0cnVlO1xuICAgICAgcGF1c2UodHJ1ZSk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG4gIG9uKCd0b3VjaEVuZCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgfHwgIWlzVG91Y2hlZCkgcmV0dXJuO1xuICAgIGNsZWFyVGltZW91dCh0b3VjaFN0YXJ0VGltZW91dCk7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICBwYXVzZWRCeVRvdWNoID0gZmFsc2U7XG4gICAgICBpc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhdXNlZEJ5VG91Y2ggJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSByZXN1bWUoKTtcbiAgICBwYXVzZWRCeVRvdWNoID0gZmFsc2U7XG4gICAgaXNUb3VjaGVkID0gZmFsc2U7XG4gIH0pO1xuICBvbignc2xpZGVDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgc2xpZGVDaGFuZ2VkID0gdHJ1ZTtcbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLmF1dG9wbGF5LCB7XG4gICAgc3RhcnQsXG4gICAgc3RvcCxcbiAgICBwYXVzZSxcbiAgICByZXN1bWVcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEF1dG9wbGF5IGFzIGRlZmF1bHQgfTtcbiIsICJmdW5jdGlvbiBlZmZlY3RJbml0KHBhcmFtcykge1xuICBjb25zdCB7XG4gICAgZWZmZWN0LFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBvdmVyd3JpdGVQYXJhbXMsXG4gICAgcGVyc3BlY3RpdmUsXG4gICAgcmVjcmVhdGVTaGFkb3dzLFxuICAgIGdldEVmZmVjdFBhcmFtc1xuICB9ID0gcGFyYW1zO1xuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7ZWZmZWN0fWApO1xuICAgIGlmIChwZXJzcGVjdGl2ZSAmJiBwZXJzcGVjdGl2ZSgpKSB7XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30zZGApO1xuICAgIH1cbiAgICBjb25zdCBvdmVyd3JpdGVQYXJhbXNSZXN1bHQgPSBvdmVyd3JpdGVQYXJhbXMgPyBvdmVyd3JpdGVQYXJhbXMoKSA6IHt9O1xuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUgX3ZpcnR1YWxVcGRhdGVkJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc2V0VHJhbnNsYXRlKCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNpdGlvbicsIChfcywgZHVyYXRpb24pID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIHNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICB9KTtcbiAgb24oJ3RyYW5zaXRpb25FbmQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBpZiAocmVjcmVhdGVTaGFkb3dzKSB7XG4gICAgICBpZiAoIWdldEVmZmVjdFBhcmFtcyB8fCAhZ2V0RWZmZWN0UGFyYW1zKCkuc2xpZGVTaGFkb3dzKSByZXR1cm47XG4gICAgICAvLyByZW1vdmUgc2hhZG93c1xuICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpLmZvckVhY2goc2hhZG93RWwgPT4gc2hhZG93RWwucmVtb3ZlKCkpO1xuICAgICAgfSk7XG4gICAgICAvLyBjcmVhdGUgbmV3IG9uZVxuICAgICAgcmVjcmVhdGVTaGFkb3dzKCk7XG4gICAgfVxuICB9KTtcbiAgbGV0IHJlcXVpcmVVcGRhdGVPblZpcnR1YWw7XG4gIG9uKCd2aXJ0dWFsVXBkYXRlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgaWYgKCFzd2lwZXIuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbCA9IHRydWU7XG4gICAgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBpZiAocmVxdWlyZVVwZGF0ZU9uVmlydHVhbCAmJiBzd2lwZXIuc2xpZGVzICYmIHN3aXBlci5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgICAgICByZXF1aXJlVXBkYXRlT25WaXJ0dWFsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgeyBlZmZlY3RJbml0IGFzIGUgfTtcbiIsICJpbXBvcnQgeyBnIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGVmZmVjdFRhcmdldChlZmZlY3RQYXJhbXMsIHNsaWRlRWwpIHtcbiAgY29uc3QgdHJhbnNmb3JtRWwgPSBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpO1xuICBpZiAodHJhbnNmb3JtRWwgIT09IHNsaWRlRWwpIHtcbiAgICB0cmFuc2Zvcm1FbC5zdHlsZS5iYWNrZmFjZVZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB0cmFuc2Zvcm1FbC5zdHlsZVsnLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5J10gPSAnaGlkZGVuJztcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtRWw7XG59XG5cbmV4cG9ydCB7IGVmZmVjdFRhcmdldCBhcyBlIH07XG4iLCAiaW1wb3J0IHsgbCBhcyBlbGVtZW50VHJhbnNpdGlvbkVuZCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBkdXJhdGlvbixcbiAgICB0cmFuc2Zvcm1FbGVtZW50cyxcbiAgICBhbGxTbGlkZXNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmVJbmRleFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBnZXRTbGlkZSA9IGVsID0+IHtcbiAgICBpZiAoIWVsLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIC8vIGFzc3VtZSBzaGFkb3cgcm9vdFxuICAgICAgY29uc3Qgc2xpZGUgPSBzd2lwZXIuc2xpZGVzLmZpbmQoc2xpZGVFbCA9PiBzbGlkZUVsLnNoYWRvd1Jvb3QgJiYgc2xpZGVFbC5zaGFkb3dSb290ID09PSBlbC5wYXJlbnROb2RlKTtcbiAgICAgIHJldHVybiBzbGlkZTtcbiAgICB9XG4gICAgcmV0dXJuIGVsLnBhcmVudEVsZW1lbnQ7XG4gIH07XG4gIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUgJiYgZHVyYXRpb24gIT09IDApIHtcbiAgICBsZXQgZXZlbnRUcmlnZ2VyZWQgPSBmYWxzZTtcbiAgICBsZXQgdHJhbnNpdGlvbkVuZFRhcmdldDtcbiAgICBpZiAoYWxsU2xpZGVzKSB7XG4gICAgICB0cmFuc2l0aW9uRW5kVGFyZ2V0ID0gdHJhbnNmb3JtRWxlbWVudHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zaXRpb25FbmRUYXJnZXQgPSB0cmFuc2Zvcm1FbGVtZW50cy5maWx0ZXIodHJhbnNmb3JtRWwgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IHRyYW5zZm9ybUVsLmNsYXNzTGlzdC5jb250YWlucygnc3dpcGVyLXNsaWRlLXRyYW5zZm9ybScpID8gZ2V0U2xpZGUodHJhbnNmb3JtRWwpIDogdHJhbnNmb3JtRWw7XG4gICAgICAgIHJldHVybiBzd2lwZXIuZ2V0U2xpZGVJbmRleChlbCkgPT09IGFjdGl2ZUluZGV4O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRyYW5zaXRpb25FbmRUYXJnZXQuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbGVtZW50VHJhbnNpdGlvbkVuZChlbCwgKCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnRUcmlnZ2VyZWQpIHJldHVybjtcbiAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBldmVudFRyaWdnZXJlZCA9IHRydWU7XG4gICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZXZ0ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudCgndHJhbnNpdGlvbmVuZCcsIHtcbiAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQgYXMgZSB9O1xuIiwgImltcG9ydCB7IGUgYXMgZWZmZWN0SW5pdCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtaW5pdC5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RUYXJnZXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LXRhcmdldC5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdmlydHVhbC10cmFuc2l0aW9uLWVuZC5tanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRTbGlkZVRyYW5zZm9ybUVsIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIEVmZmVjdEZhZGUoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgZmFkZUVmZmVjdDoge1xuICAgICAgY3Jvc3NGYWRlOiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHNldFRyYW5zbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuZmFkZUVmZmVjdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc2xpZGVFbCA9IHN3aXBlci5zbGlkZXNbaV07XG4gICAgICBjb25zdCBvZmZzZXQgPSBzbGlkZUVsLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgbGV0IHR4ID0gLW9mZnNldDtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB0eCAtPSBzd2lwZXIudHJhbnNsYXRlO1xuICAgICAgbGV0IHR5ID0gMDtcbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIHR5ID0gdHg7XG4gICAgICAgIHR4ID0gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsaWRlT3BhY2l0eSA9IHN3aXBlci5wYXJhbXMuZmFkZUVmZmVjdC5jcm9zc0ZhZGUgPyBNYXRoLm1heCgxIC0gTWF0aC5hYnMoc2xpZGVFbC5wcm9ncmVzcyksIDApIDogMSArIE1hdGgubWluKE1hdGgubWF4KHNsaWRlRWwucHJvZ3Jlc3MsIC0xKSwgMCk7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUub3BhY2l0eSA9IHNsaWRlT3BhY2l0eTtcbiAgICAgIHRhcmdldEVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3R4fXB4LCAke3R5fXB4LCAwcHgpYDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldFRyYW5zaXRpb24gPSBkdXJhdGlvbiA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtRWxlbWVudHMgPSBzd2lwZXIuc2xpZGVzLm1hcChzbGlkZUVsID0+IGdldFNsaWRlVHJhbnNmb3JtRWwoc2xpZGVFbCkpO1xuICAgIHRyYW5zZm9ybUVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgIH0pO1xuICAgIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kKHtcbiAgICAgIHN3aXBlcixcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgdHJhbnNmb3JtRWxlbWVudHMsXG4gICAgICBhbGxTbGlkZXM6IHRydWVcbiAgICB9KTtcbiAgfTtcbiAgZWZmZWN0SW5pdCh7XG4gICAgZWZmZWN0OiAnZmFkZScsXG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBzZXRUcmFuc2l0aW9uLFxuICAgIG92ZXJ3cml0ZVBhcmFtczogKCkgPT4gKHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICB2aXJ0dWFsVHJhbnNsYXRlOiAhc3dpcGVyLnBhcmFtcy5jc3NNb2RlXG4gICAgfSlcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEVmZmVjdEZhZGUgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCBTd2lwZXIgZnJvbSAnc3dpcGVyJztcbmltcG9ydCB7IEVmZmVjdEZhZGUsIEF1dG9wbGF5LCBOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uIH0gZnJvbSAnc3dpcGVyL21vZHVsZXMnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICBpbml0U2xpZGVycygpO1xufSk7XG5cbmNvbnN0IGluaXRTbGlkZXJzID0gKCkgPT4ge1xuICBuZXcgU3dpcGVyKCcuaGVyby1zbGlkZXInLCB7XG4gICAgbW9kdWxlczogW0VmZmVjdEZhZGUsIEF1dG9wbGF5XSxcbiAgICBsb29wOiB0cnVlLFxuXG4gICAgZWZmZWN0OiAnZmFkZScsXG4gICAgZmFkZUVmZmVjdDoge1xuICAgICAgY3Jvc3NGYWRlOiB0cnVlXG4gICAgfSxcblxuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogNTAwMFxuICAgIH0sXG4gIH0pO1xuXG4gIG5ldyBTd2lwZXIoJy5jb21wYW55LXJldmlldy1zbGlkZXInLCB7XG4gICAgbW9kdWxlczogW05hdmlnYXRpb25dLFxuICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgc3BhY2VCZXR3ZWVuOiAyNCxcbiAgICBsb29wOiB0cnVlLFxuICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcblxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogJy5jb21wYW55LXJldmlldy1zbGlkZXItYmxvY2tfX25leHQtYnRuJ1xuICAgIH0sXG5cbiAgICBicmVha3BvaW50czoge1xuICAgICAgNzY4OiB7XG4gICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnXG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBuZXcgU3dpcGVyKCcuc2VydmljZS1ibG9jay1zbGlkZXInLCB7XG4gICAgbW9kdWxlczogW0F1dG9wbGF5LCBOYXZpZ2F0aW9uXSxcbiAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgICBsb29wOiB0cnVlLFxuXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDc2ODoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuICAgICAgfSxcblxuICAgICAgMTIwMDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyXG4gICAgICB9XG4gICAgfSxcblxuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogNTAwMCxcbiAgICB9LFxuXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiAnLnNlcnZpY2UtYmxvY2stc2xpZGVyLXdyYXBwZXJfX25leHQtYnRuJ1xuICAgIH1cbiAgfSk7XG5cbiAgbmV3IFN3aXBlcignLmluZm8tc2xpZGVyJywge1xuICAgIG1vZHVsZXM6IFtFZmZlY3RGYWRlLCBOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uXSxcbiAgICBsb29wOiB0cnVlLFxuXG4gICAgLy8gZWZmZWN0OiAnZmFkZScsXG4gICAgLy8gZmFkZUVmZmVjdDoge1xuICAgIC8vICAgY3Jvc3NGYWRlOiB0cnVlXG4gICAgLy8gfSxcblxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogJy5pbmZvLWJsb2NrX19uZXh0LWJ0bicsXG4gICAgICBwcmV2RWw6ICcuaW5mby1ibG9ja19fcHJldi1idG4nLFxuICAgIH0sXG5cbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogJy5pbmZvLXNsaWRlci1zZWN0aW9uX19wYWdpbmF0aW9uJyxcbiAgICAgIHR5cGU6ICdidWxsZXRzJyxcbiAgICB9LFxuICB9KTtcblxuICBuZXcgU3dpcGVyKCcudGVzdGltb25pYWwtc2xpZGVyJywge1xuICAgIG1vZHVsZXM6IFtFZmZlY3RGYWRlLCBOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uXSxcbiAgICBsb29wOiB0cnVlLFxuXG4gICAgLy8gZWZmZWN0OiAnZmFkZScsXG4gICAgLy8gZmFkZUVmZmVjdDoge1xuICAgIC8vICAgY3Jvc3NGYWRlOiB0cnVlXG4gICAgLy8gfSxcblxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogJy50ZXN0aW1vbmlhbC1ibG9ja19fbmV4dC1idG4nLFxuICAgICAgcHJldkVsOiAnLnRlc3RpbW9uaWFsLWJsb2NrX19wcmV2LWJ0bicsXG4gICAgfSxcblxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiAnLnRlc3RpbW9uaWFsLXNlY3Rpb25fX3BhZ2luYXRpb24nLFxuICAgICAgdHlwZTogJ2J1bGxldHMnLFxuICAgIH0sXG4gIH0pO1xuXG4gIG5ldyBTd2lwZXIoJy5zdGF0aXN0aWNzLXNsaWRlcicsIHtcbiAgICBtb2R1bGVzOiBbUGFnaW5hdGlvbl0sXG4gICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICBzcGFjZUJldHdlZW46IDI0LFxuICAgIGxvb3A6IHRydWUsXG5cbiAgICBicmVha3BvaW50czoge1xuICAgICAgNzY4OiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDJcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6ICcuc3RhdGlzdGljcy1zbGlkZXJfX3BhZ2luYXRpb24nLFxuICAgICAgdHlwZTogJ2J1bGxldHMnLFxuICAgIH0sXG4gIH0pO1xufTsiXSwKICAibWFwcGluZ3MiOiAiQUFZQSxTQUFTLFNBQVMsSUFBSyxDQUNyQixPQUFPLE1BQVEsTUFBUSxPQUFPLE1BQVEsVUFBWSxnQkFBaUIsS0FBTyxJQUFJLGNBQWdCLE1BQ2hHLENBQ0EsU0FBUyxPQUFPLE9BQVEsSUFBSyxDQUMzQixHQUFJLFNBQVcsT0FBUSxDQUNyQixPQUFTLENBQUMsQ0FDWixDQUNBLEdBQUksTUFBUSxPQUFRLENBQ2xCLElBQU0sQ0FBQyxDQUNULENBQ0EsTUFBTSxTQUFXLENBQUMsWUFBYSxjQUFlLFdBQVcsRUFDekQsT0FBTyxLQUFLLEdBQUcsRUFBRSxPQUFPLEtBQU8sU0FBUyxRQUFRLEdBQUcsRUFBSSxDQUFDLEVBQUUsUUFBUSxLQUFPLENBQ3ZFLEdBQUksT0FBTyxPQUFPLEdBQUcsSUFBTSxZQUFhLE9BQU8sR0FBRyxFQUFJLElBQUksR0FBRyxVQUFXLFNBQVMsSUFBSSxHQUFHLENBQUMsR0FBSyxTQUFTLE9BQU8sR0FBRyxDQUFDLEdBQUssT0FBTyxLQUFLLElBQUksR0FBRyxDQUFDLEVBQUUsT0FBUyxFQUFHLENBQ3ZKLE9BQU8sT0FBTyxHQUFHLEVBQUcsSUFBSSxHQUFHLENBQUMsQ0FDOUIsQ0FDRixDQUFDLENBQ0gsQ0FDQSxJQUFNLFlBQWMsQ0FDbEIsS0FBTSxDQUFDLEVBQ1Asa0JBQW1CLENBQUMsRUFDcEIscUJBQXNCLENBQUMsRUFDdkIsY0FBZSxDQUNiLE1BQU8sQ0FBQyxFQUNSLFNBQVUsRUFDWixFQUNBLGVBQWdCLENBQ2QsT0FBTyxJQUNULEVBQ0Esa0JBQW1CLENBQ2pCLE1BQU8sQ0FBQyxDQUNWLEVBQ0EsZ0JBQWlCLENBQ2YsT0FBTyxJQUNULEVBQ0EsYUFB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QzVDLEtBQU0sS0FPTixXQUFZLENBQ1YsT0FBUSx3QkFDUixPQUFRLHVCQUNWLEVBRUEsV0FBWSxDQUNWLEdBQUksbUNBQ0osS0FBTSxTQUNSLENBQ0YsQ0FBQyxFQUVELElBQUksT0FBTyxzQkFBdUIsQ0FDaEMsUUFBUyxDQUFDLFdBQVksV0FBWSxVQUFVLEVBQzVDLEtBQU0sS0FPTixXQUFZLENBQ1YsT0FBUSwrQkFDUixPQUFRLDhCQUNWLEVBRUEsV0FBWSxDQUNWLEdBQUksbUNBQ0osS0FBTSxTQUNSLENBQ0YsQ0FBQyxFQUVELElBQUksT0FBTyxxQkFBc0IsQ0FDL0IsUUFBUyxDQUFDLFVBQVUsRUFDcEIsY0FBZSxFQUNmLGFBQWMsR0FDZCxLQUFNLEtBRU4sWUFBYSxDQUNYLElBQUssQ0FDSCxjQUFlLENBQ2pCLENBQ0YsRUFFQSxXQUFZLENBQ1YsR0FBSSxpQ0FDSixLQUFNLFNBQ1IsQ0FDRixDQUFDLENBQ0giLAogICJuYW1lcyI6IFsiY2xhc3NlcyIsICJnZXRDb21wdXRlZFN0eWxlIiwgIndpbmRvdyIsICJpc09iamVjdCIsICJleHRlbmQiLCAid2luZG93IiwgIndpbmRvdyIsICJkb2N1bWVudCIsICJzdXBwb3J0IiwgIm9ic2VydmVyVXBkYXRlIiwgImV2ZW50cyIsICJldmVudCIsICJzbGlkZSIsICJ0cmFuc2xhdGUiLCAicmVhbEluZGV4IiwgIm1pblRyYW5zbGF0ZSIsICJtYXhUcmFuc2xhdGUiLCAidHJhbnNpdGlvbkVuZCIsICJicm93c2VyIiwgInNsaWRlVG8iLCAic2V0VHJhbnNsYXRlIiwgImkiLCAiaW5jcmVtZW50IiwgImJyZWFrcG9pbnRzIiwgImV4dGVuZCIsICJ1cGRhdGUiLCAiY2xhc3NlcyIsICJ1cGRhdGUiLCAiZG9jdW1lbnQiLCAic2V0VHJhbnNsYXRlIiwgInNldFRyYW5zaXRpb24iLCAic2xpZGUiLCAic2V0VHJhbnNsYXRlIiwgInNldFRyYW5zaXRpb24iXQp9Cg==
