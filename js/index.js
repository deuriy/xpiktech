function isObject(obj){return obj!==null&&typeof obj==="object"&&"constructor"in obj&&obj.constructor===Object}function extend(target,src){if(target===void 0){target={}}if(src===void 0){src={}}const noExtend=["__proto__","constructor","prototype"];Object.keys(src).filter(key=>noExtend.indexOf(key)<0).forEach(key=>{if(typeof target[key]==="undefined")target[key]=src[key];else if(isObject(src[key])&&isObject(target[key])&&Object.keys(src[key]).length>0){extend(target[key],src[key])}})}var ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const doc=typeof document!=="undefined"?document:{};extend(doc,ssrDocument);return doc}var ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function CustomEvent(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(callback){if(typeof setTimeout==="undefined"){callback();return null}return setTimeout(callback,0)},cancelAnimationFrame(id){if(typeof setTimeout==="undefined"){return}clearTimeout(id)}};function getWindow(){const win=typeof window!=="undefined"?window:{};extend(win,ssrWindow);return win}function classesToTokens(classes2){if(classes2===void 0){classes2=""}return classes2.trim().split(" ").filter(c=>!!c.trim())}function deleteProps(obj){const object=obj;Object.keys(object).forEach(key=>{try{object[key]=null}catch(e){}try{delete object[key]}catch(e){}})}function nextTick(callback,delay){if(delay===void 0){delay=0}return setTimeout(callback,delay)}function now(){return Date.now()}function getComputedStyle2(el){const window2=getWindow();let style;if(window2.getComputedStyle){style=window2.getComputedStyle(el,null)}if(!style&&el.currentStyle){style=el.currentStyle}if(!style){style=el.style}return style}function getTranslate(el,axis){if(axis===void 0){axis="x"}const window2=getWindow();let matrix;let curTransform;let transformMatrix;const curStyle=getComputedStyle2(el);if(window2.WebKitCSSMatrix){curTransform=curStyle.transform||curStyle.webkitTransform;if(curTransform.split(",").length>6){curTransform=curTransform.split(", ").map(a=>a.replace(",",".")).join(", ")}transformMatrix=new window2.WebKitCSSMatrix(curTransform==="none"?"":curTransform)}else{transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");matrix=transformMatrix.toString().split(",")}if(axis==="x"){if(window2.WebKitCSSMatrix)curTransform=transformMatrix.m41;else if(matrix.length===16)curTransform=parseFloat(matrix[12]);else curTransform=parseFloat(matrix[4])}if(axis==="y"){if(window2.WebKitCSSMatrix)curTransform=transformMatrix.m42;else if(matrix.length===16)curTransform=parseFloat(matrix[13]);else curTransform=parseFloat(matrix[5])}return curTransform||0}function isObject2(o){return typeof o==="object"&&o!==null&&o.constructor&&Object.prototype.toString.call(o).slice(8,-1)==="Object"}function isNode(node){if(typeof window!=="undefined"&&typeof window.HTMLElement!=="undefined"){return node instanceof HTMLElement}return node&&(node.nodeType===1||node.nodeType===11)}function extend2(){const to=Object(arguments.length<=0?void 0:arguments[0]);const noExtend=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const nextSource=i<0||arguments.length<=i?void 0:arguments[i];if(nextSource!==void 0&&nextSource!==null&&!isNode(nextSource)){const keysArray=Object.keys(Object(nextSource)).filter(key=>noExtend.indexOf(key)<0);for(let nextIndex=0,len=keysArray.length;nextIndex<len;nextIndex+=1){const nextKey=keysArray[nextIndex];const desc=Object.getOwnPropertyDescriptor(nextSource,nextKey);if(desc!==void 0&&desc.enumerable){if(isObject2(to[nextKey])&&isObject2(nextSource[nextKey])){if(nextSource[nextKey].__swiper__){to[nextKey]=nextSource[nextKey]}else{extend2(to[nextKey],nextSource[nextKey])}}else if(!isObject2(to[nextKey])&&isObject2(nextSource[nextKey])){to[nextKey]={};if(nextSource[nextKey].__swiper__){to[nextKey]=nextSource[nextKey]}else{extend2(to[nextKey],nextSource[nextKey])}}else{to[nextKey]=nextSource[nextKey]}}}}}return to}function setCSSProperty(el,varName,varValue){el.style.setProperty(varName,varValue)}function animateCSSModeScroll(_ref){let{swiper,targetPosition,side}=_ref;const window2=getWindow();const startPosition=-swiper.translate;let startTime=null;let time;const duration=swiper.params.speed;swiper.wrapperEl.style.scrollSnapType="none";window2.cancelAnimationFrame(swiper.cssModeFrameID);const dir=targetPosition>startPosition?"next":"prev";const isOutOfBound=(current,target)=>{return dir==="next"&&current>=target||dir==="prev"&&current<=target};const animate=()=>{time=new Date().getTime();if(startTime===null){startTime=time}const progress=Math.max(Math.min((time-startTime)/duration,1),0);const easeProgress=.5-Math.cos(progress*Math.PI)/2;let currentPosition=startPosition+easeProgress*(targetPosition-startPosition);if(isOutOfBound(currentPosition,targetPosition)){currentPosition=targetPosition}swiper.wrapperEl.scrollTo({[side]:currentPosition});if(isOutOfBound(currentPosition,targetPosition)){swiper.wrapperEl.style.overflow="hidden";swiper.wrapperEl.style.scrollSnapType="";setTimeout(()=>{swiper.wrapperEl.style.overflow="";swiper.wrapperEl.scrollTo({[side]:currentPosition})});window2.cancelAnimationFrame(swiper.cssModeFrameID);return}swiper.cssModeFrameID=window2.requestAnimationFrame(animate)};animate()}function getSlideTransformEl(slideEl){return slideEl.querySelector(".swiper-slide-transform")||slideEl.shadowRoot&&slideEl.shadowRoot.querySelector(".swiper-slide-transform")||slideEl}function elementChildren(element,selector){if(selector===void 0){selector=""}const window2=getWindow();const children=[...element.children];if(window2.HTMLSlotElement&&element instanceof HTMLSlotElement){children.push(...element.assignedElements())}if(!selector){return children}return children.filter(el=>el.matches(selector))}function elementIsChildOfSlot(el,slot){const elementsQueue=[slot];while(elementsQueue.length>0){const elementToCheck=elementsQueue.shift();if(el===elementToCheck){return true}elementsQueue.push(...elementToCheck.children,...elementToCheck.shadowRoot?elementToCheck.shadowRoot.children:[],...elementToCheck.assignedElements?elementToCheck.assignedElements():[])}}function elementIsChildOf(el,parent){const window2=getWindow();let isChild=parent.contains(el);if(!isChild&&window2.HTMLSlotElement&&parent instanceof HTMLSlotElement){const children=[...parent.assignedElements()];isChild=children.includes(el);if(!isChild){isChild=elementIsChildOfSlot(el,parent)}}return isChild}function showWarning(text){try{console.warn(text);return}catch(err){}}function createElement(tag,classes2){if(classes2===void 0){classes2=[]}const el=document.createElement(tag);el.classList.add(...Array.isArray(classes2)?classes2:classesToTokens(classes2));return el}function elementPrevAll(el,selector){const prevEls=[];while(el.previousElementSibling){const prev=el.previousElementSibling;if(selector){if(prev.matches(selector))prevEls.push(prev)}else prevEls.push(prev);el=prev}return prevEls}function elementNextAll(el,selector){const nextEls=[];while(el.nextElementSibling){const next=el.nextElementSibling;if(selector){if(next.matches(selector))nextEls.push(next)}else nextEls.push(next);el=next}return nextEls}function elementStyle(el,prop){const window2=getWindow();return window2.getComputedStyle(el,null).getPropertyValue(prop)}function elementIndex(el){let child=el;let i;if(child){i=0;while((child=child.previousSibling)!==null){if(child.nodeType===1)i+=1}return i}return void 0}function elementParents(el,selector){const parents=[];let parent=el.parentElement;while(parent){if(selector){if(parent.matches(selector))parents.push(parent)}else{parents.push(parent)}parent=parent.parentElement}return parents}function elementTransitionEnd(el,callback){function fireCallBack(e){if(e.target!==el)return;callback.call(el,e);el.removeEventListener("transitionend",fireCallBack)}if(callback){el.addEventListener("transitionend",fireCallBack)}}function elementOuterSize(el,size,includeMargins){const window2=getWindow();if(includeMargins){return el[size==="width"?"offsetWidth":"offsetHeight"]+parseFloat(window2.getComputedStyle(el,null).getPropertyValue(size==="width"?"margin-right":"margin-top"))+parseFloat(window2.getComputedStyle(el,null).getPropertyValue(size==="width"?"margin-left":"margin-bottom"))}return el.offsetWidth}function makeElementsArray(el){return(Array.isArray(el)?el:[el]).filter(e=>!!e)}var support;function calcSupport(){const window2=getWindow();const document2=getDocument();return{smoothScroll:document2.documentElement&&document2.documentElement.style&&"scrollBehavior"in document2.documentElement.style,touch:!!("ontouchstart"in window2||window2.DocumentTouch&&document2 instanceof window2.DocumentTouch)}}function getSupport(){if(!support){support=calcSupport()}return support}var deviceCached;function calcDevice(_temp){let{userAgent}=_temp===void 0?{}:_temp;const support2=getSupport();const window2=getWindow();const platform=window2.navigator.platform;const ua=userAgent||window2.navigator.userAgent;const device={ios:false,android:false};const screenWidth=window2.screen.width;const screenHeight=window2.screen.height;const android=ua.match(/(Android);?[\s\/]+([\d.]+)?/);let ipad=ua.match(/(iPad).*OS\s([\d_]+)/);const ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/);const iphone=!ipad&&ua.match(/(iPhone\sOS|iOS)\s([\d_]+)/);const windows=platform==="Win32";let macos=platform==="MacIntel";const iPadScreens=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];if(!ipad&&macos&&support2.touch&&iPadScreens.indexOf(`${screenWidth}x${screenHeight}`)>=0){ipad=ua.match(/(Version)\/([\d.]+)/);if(!ipad)ipad=[0,1,"13_0_0"];macos=false}if(android&&!windows){device.os="android";device.android=true}if(ipad||iphone||ipod){device.os="ios";device.ios=true}return device}function getDevice(overrides){if(overrides===void 0){overrides={}}if(!deviceCached){deviceCached=calcDevice(overrides)}return deviceCached}var browser;function calcBrowser(){const window2=getWindow();const device=getDevice();let needPerspectiveFix=false;function isSafari(){const ua=window2.navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0&&ua.indexOf("android")<0}if(isSafari()){const ua=String(window2.navigator.userAgent);if(ua.includes("Version/")){const[major,minor]=ua.split("Version/")[1].split(" ")[0].split(".").map(num=>Number(num));needPerspectiveFix=major<16||major===16&&minor<2}}const isWebView=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window2.navigator.userAgent);const isSafariBrowser=isSafari();const need3dFix=isSafariBrowser||isWebView&&device.ios;return{isSafari:needPerspectiveFix||isSafariBrowser,needPerspectiveFix,need3dFix,isWebView}}function getBrowser(){if(!browser){browser=calcBrowser()}return browser}function Resize(_ref){let{swiper,on,emit}=_ref;const window2=getWindow();let observer=null;let animationFrame=null;const resizeHandler=()=>{if(!swiper||swiper.destroyed||!swiper.initialized)return;emit("beforeResize");emit("resize")};const createObserver=()=>{if(!swiper||swiper.destroyed||!swiper.initialized)return;observer=new ResizeObserver(entries=>{animationFrame=window2.requestAnimationFrame(()=>{const{width,height}=swiper;let newWidth=width;let newHeight=height;entries.forEach(_ref2=>{let{contentBoxSize,contentRect,target}=_ref2;if(target&&target!==swiper.el)return;newWidth=contentRect?contentRect.width:(contentBoxSize[0]||contentBoxSize).inlineSize;newHeight=contentRect?contentRect.height:(contentBoxSize[0]||contentBoxSize).blockSize});if(newWidth!==width||newHeight!==height){resizeHandler()}})});observer.observe(swiper.el)};const removeObserver=()=>{if(animationFrame){window2.cancelAnimationFrame(animationFrame)}if(observer&&observer.unobserve&&swiper.el){observer.unobserve(swiper.el);observer=null}};const orientationChangeHandler=()=>{if(!swiper||swiper.destroyed||!swiper.initialized)return;emit("orientationchange")};on("init",()=>{if(swiper.params.resizeObserver&&typeof window2.ResizeObserver!=="undefined"){createObserver();return}window2.addEventListener("resize",resizeHandler);window2.addEventListener("orientationchange",orientationChangeHandler)});on("destroy",()=>{removeObserver();window2.removeEventListener("resize",resizeHandler);window2.removeEventListener("orientationchange",orientationChangeHandler)})}function Observer(_ref){let{swiper,extendParams,on,emit}=_ref;const observers=[];const window2=getWindow();const attach=function(target,options){if(options===void 0){options={}}const ObserverFunc=window2.MutationObserver||window2.WebkitMutationObserver;const observer=new ObserverFunc(mutations=>{if(swiper.__preventObserver__)return;if(mutations.length===1){emit("observerUpdate",mutations[0]);return}const observerUpdate=function observerUpdate2(){emit("observerUpdate",mutations[0])};if(window2.requestAnimationFrame){window2.requestAnimationFrame(observerUpdate)}else{window2.setTimeout(observerUpdate,0)}});observer.observe(target,{attributes:typeof options.attributes==="undefined"?true:options.attributes,childList:swiper.isElement||(typeof options.childList==="undefined"?true:options).childList,characterData:typeof options.characterData==="undefined"?true:options.characterData});observers.push(observer)};const init=()=>{if(!swiper.params.observer)return;if(swiper.params.observeParents){const containerParents=elementParents(swiper.hostEl);for(let i=0;i<containerParents.length;i+=1){attach(containerParents[i])}}attach(swiper.hostEl,{childList:swiper.params.observeSlideChildren});attach(swiper.wrapperEl,{attributes:false})};const destroy=()=>{observers.forEach(observer=>{observer.disconnect()});observers.splice(0,observers.length)};extendParams({observer:false,observeParents:false,observeSlideChildren:false});on("init",init);on("destroy",destroy)}var eventsEmitter={on(events2,handler,priority){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(typeof handler!=="function")return self;const method=priority?"unshift":"push";events2.split(" ").forEach(event2=>{if(!self.eventsListeners[event2])self.eventsListeners[event2]=[];self.eventsListeners[event2][method](handler)});return self},once(events2,handler,priority){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(typeof handler!=="function")return self;function onceHandler(){self.off(events2,onceHandler);if(onceHandler.__emitterProxy){delete onceHandler.__emitterProxy}for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}handler.apply(self,args)}onceHandler.__emitterProxy=handler;return self.on(events2,onceHandler,priority)},onAny(handler,priority){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(typeof handler!=="function")return self;const method=priority?"unshift":"push";if(self.eventsAnyListeners.indexOf(handler)<0){self.eventsAnyListeners[method](handler)}return self},offAny(handler){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(!self.eventsAnyListeners)return self;const index=self.eventsAnyListeners.indexOf(handler);if(index>=0){self.eventsAnyListeners.splice(index,1)}return self},off(events2,handler){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(!self.eventsListeners)return self;events2.split(" ").forEach(event2=>{if(typeof handler==="undefined"){self.eventsListeners[event2]=[]}else if(self.eventsListeners[event2]){self.eventsListeners[event2].forEach((eventHandler,index)=>{if(eventHandler===handler||eventHandler.__emitterProxy&&eventHandler.__emitterProxy===handler){self.eventsListeners[event2].splice(index,1)}})}});return self},emit(){const self=this;if(!self.eventsListeners||self.destroyed)return self;if(!self.eventsListeners)return self;let events2;let data;let context;for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}if(typeof args[0]==="string"||Array.isArray(args[0])){events2=args[0];data=args.slice(1,args.length);context=self}else{events2=args[0].events;data=args[0].data;context=args[0].context||self}data.unshift(context);const eventsArray=Array.isArray(events2)?events2:events2.split(" ");eventsArray.forEach(event2=>{if(self.eventsAnyListeners&&self.eventsAnyListeners.length){self.eventsAnyListeners.forEach(eventHandler=>{eventHandler.apply(context,[event2,...data])})}if(self.eventsListeners&&self.eventsListeners[event2]){self.eventsListeners[event2].forEach(eventHandler=>{eventHandler.apply(context,data)})}});return self}};function updateSize(){const swiper=this;let width;let height;const el=swiper.el;if(typeof swiper.params.width!=="undefined"&&swiper.params.width!==null){width=swiper.params.width}else{width=el.clientWidth}if(typeof swiper.params.height!=="undefined"&&swiper.params.height!==null){height=swiper.params.height}else{height=el.clientHeight}if(width===0&&swiper.isHorizontal()||height===0&&swiper.isVertical()){return}width=width-parseInt(elementStyle(el,"padding-left")||0,10)-parseInt(elementStyle(el,"padding-right")||0,10);height=height-parseInt(elementStyle(el,"padding-top")||0,10)-parseInt(elementStyle(el,"padding-bottom")||0,10);if(Number.isNaN(width))width=0;if(Number.isNaN(height))height=0;Object.assign(swiper,{width,height,size:swiper.isHorizontal()?width:height})}function updateSlides(){const swiper=this;function getDirectionPropertyValue(node,label){return parseFloat(node.getPropertyValue(swiper.getDirectionLabel(label))||0)}const params=swiper.params;const{wrapperEl,slidesEl,size:swiperSize,rtlTranslate:rtl,wrongRTL}=swiper;const isVirtual=swiper.virtual&&params.virtual.enabled;const previousSlidesLength=isVirtual?swiper.virtual.slides.length:swiper.slides.length;const slides=elementChildren(slidesEl,`.${swiper.params.slideClass}, swiper-slide`);const slidesLength=isVirtual?swiper.virtual.slides.length:slides.length;let snapGrid=[];const slidesGrid=[];const slidesSizesGrid=[];let offsetBefore=params.slidesOffsetBefore;if(typeof offsetBefore==="function"){offsetBefore=params.slidesOffsetBefore.call(swiper)}let offsetAfter=params.slidesOffsetAfter;if(typeof offsetAfter==="function"){offsetAfter=params.slidesOffsetAfter.call(swiper)}const previousSnapGridLength=swiper.snapGrid.length;const previousSlidesGridLength=swiper.slidesGrid.length;let spaceBetween=params.spaceBetween;let slidePosition=-offsetBefore;let prevSlideSize=0;let index=0;if(typeof swiperSize==="undefined"){return}if(typeof spaceBetween==="string"&&spaceBetween.indexOf("%")>=0){spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*swiperSize}else if(typeof spaceBetween==="string"){spaceBetween=parseFloat(spaceBetween)}swiper.virtualSize=-spaceBetween;slides.forEach(slideEl=>{if(rtl){slideEl.style.marginLeft=""}else{slideEl.style.marginRight=""}slideEl.style.marginBottom="";slideEl.style.marginTop=""});if(params.centeredSlides&&params.cssMode){setCSSProperty(wrapperEl,"--swiper-centered-offset-before","");setCSSProperty(wrapperEl,"--swiper-centered-offset-after","")}const gridEnabled=params.grid&&params.grid.rows>1&&swiper.grid;if(gridEnabled){swiper.grid.initSlides(slides)}else if(swiper.grid){swiper.grid.unsetSlides()}let slideSize;const shouldResetSlideSize=params.slidesPerView==="auto"&&params.breakpoints&&Object.keys(params.breakpoints).filter(key=>{return typeof params.breakpoints[key].slidesPerView!=="undefined"}).length>0;for(let i=0;i<slidesLength;i+=1){slideSize=0;let slide2;if(slides[i])slide2=slides[i];if(gridEnabled){swiper.grid.updateSlide(i,slide2,slides)}if(slides[i]&&elementStyle(slide2,"display")==="none")continue;if(params.slidesPerView==="auto"){if(shouldResetSlideSize){slides[i].style[swiper.getDirectionLabel("width")]=``}const slideStyles=getComputedStyle(slide2);const currentTransform=slide2.style.transform;const currentWebKitTransform=slide2.style.webkitTransform;if(currentTransform){slide2.style.transform="none"}if(currentWebKitTransform){slide2.style.webkitTransform="none"}if(params.roundLengths){slideSize=swiper.isHorizontal()?elementOuterSize(slide2,"width",true):elementOuterSize(slide2,"height",true)}else{const width=getDirectionPropertyValue(slideStyles,"width");const paddingLeft=getDirectionPropertyValue(slideStyles,"padding-left");const paddingRight=getDirectionPropertyValue(slideStyles,"padding-right");const marginLeft=getDirectionPropertyValue(slideStyles,"margin-left");const marginRight=getDirectionPropertyValue(slideStyles,"margin-right");const boxSizing=slideStyles.getPropertyValue("box-sizing");if(boxSizing&&boxSizing==="border-box"){slideSize=width+marginLeft+marginRight}else{const{clientWidth,offsetWidth}=slide2;slideSize=width+paddingLeft+paddingRight+marginLeft+marginRight+(offsetWidth-clientWidth)}}if(currentTransform){slide2.style.transform=currentTransform}if(currentWebKitTransform){slide2.style.webkitTransform=currentWebKitTransform}if(params.roundLengths)slideSize=Math.floor(slideSize)}else{slideSize=(swiperSize-(params.slidesPerView-1)*spaceBetween)/params.slidesPerView;if(params.roundLengths)slideSize=Math.floor(slideSize);if(slides[i]){slides[i].style[swiper.getDirectionLabel("width")]=`${slideSize}px`}}if(slides[i]){slides[i].swiperSlideSize=slideSize}slidesSizesGrid.push(slideSize);if(params.centeredSlides){slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween;if(prevSlideSize===0&&i!==0)slidePosition=slidePosition-swiperSize/2-spaceBetween;if(i===0)slidePosition=slidePosition-swiperSize/2-spaceBetween;if(Math.abs(slidePosition)<1/1e3)slidePosition=0;if(params.roundLengths)slidePosition=Math.floor(slidePosition);if(index%params.slidesPerGroup===0)snapGrid.push(slidePosition);slidesGrid.push(slidePosition)}else{if(params.roundLengths)slidePosition=Math.floor(slidePosition);if((index-Math.min(swiper.params.slidesPerGroupSkip,index))%swiper.params.slidesPerGroup===0)snapGrid.push(slidePosition);slidesGrid.push(slidePosition);slidePosition=slidePosition+slideSize+spaceBetween}swiper.virtualSize+=slideSize+spaceBetween;prevSlideSize=slideSize;index+=1}swiper.virtualSize=Math.max(swiper.virtualSize,swiperSize)+offsetAfter;if(rtl&&wrongRTL&&(params.effect==="slide"||params.effect==="coverflow")){wrapperEl.style.width=`${swiper.virtualSize+spaceBetween}px`}if(params.setWrapperSize){wrapperEl.style[swiper.getDirectionLabel("width")]=`${swiper.virtualSize+spaceBetween}px`}if(gridEnabled){swiper.grid.updateWrapperSize(slideSize,snapGrid)}if(!params.centeredSlides){const newSlidesGrid=[];for(let i=0;i<snapGrid.length;i+=1){let slidesGridItem=snapGrid[i];if(params.roundLengths)slidesGridItem=Math.floor(slidesGridItem);if(snapGrid[i]<=swiper.virtualSize-swiperSize){newSlidesGrid.push(slidesGridItem)}}snapGrid=newSlidesGrid;if(Math.floor(swiper.virtualSize-swiperSize)-Math.floor(snapGrid[snapGrid.length-1])>1){snapGrid.push(swiper.virtualSize-swiperSize)}}if(isVirtual&&params.loop){const size=slidesSizesGrid[0]+spaceBetween;if(params.slidesPerGroup>1){const groups=Math.ceil((swiper.virtual.slidesBefore+swiper.virtual.slidesAfter)/params.slidesPerGroup);const groupSize=size*params.slidesPerGroup;for(let i=0;i<groups;i+=1){snapGrid.push(snapGrid[snapGrid.length-1]+groupSize)}}for(let i=0;i<swiper.virtual.slidesBefore+swiper.virtual.slidesAfter;i+=1){if(params.slidesPerGroup===1){snapGrid.push(snapGrid[snapGrid.length-1]+size)}slidesGrid.push(slidesGrid[slidesGrid.length-1]+size);swiper.virtualSize+=size}}if(snapGrid.length===0)snapGrid=[0];if(spaceBetween!==0){const key=swiper.isHorizontal()&&rtl?"marginLeft":swiper.getDirectionLabel("marginRight");slides.filter((_,slideIndex)=>{if(!params.cssMode||params.loop)return true;if(slideIndex===slides.length-1){return false}return true}).forEach(slideEl=>{slideEl.style[key]=`${spaceBetween}px`})}if(params.centeredSlides&&params.centeredSlidesBounds){let allSlidesSize=0;slidesSizesGrid.forEach(slideSizeValue=>{allSlidesSize+=slideSizeValue+(spaceBetween||0)});allSlidesSize-=spaceBetween;const maxSnap=allSlidesSize>swiperSize?allSlidesSize-swiperSize:0;snapGrid=snapGrid.map(snap=>{if(snap<=0)return-offsetBefore;if(snap>maxSnap)return maxSnap+offsetAfter;return snap})}if(params.centerInsufficientSlides){let allSlidesSize=0;slidesSizesGrid.forEach(slideSizeValue=>{allSlidesSize+=slideSizeValue+(spaceBetween||0)});allSlidesSize-=spaceBetween;const offsetSize=(params.slidesOffsetBefore||0)+(params.slidesOffsetAfter||0);if(allSlidesSize+offsetSize<swiperSize){const allSlidesOffset=(swiperSize-allSlidesSize-offsetSize)/2;snapGrid.forEach((snap,snapIndex)=>{snapGrid[snapIndex]=snap-allSlidesOffset});slidesGrid.forEach((snap,snapIndex)=>{slidesGrid[snapIndex]=snap+allSlidesOffset})}}Object.assign(swiper,{slides,snapGrid,slidesGrid,slidesSizesGrid});if(params.centeredSlides&&params.cssMode&&!params.centeredSlidesBounds){setCSSProperty(wrapperEl,"--swiper-centered-offset-before",`${-snapGrid[0]}px`);setCSSProperty(wrapperEl,"--swiper-centered-offset-after",`${swiper.size/2-slidesSizesGrid[slidesSizesGrid.length-1]/2}px`);const addToSnapGrid=-swiper.snapGrid[0];const addToSlidesGrid=-swiper.slidesGrid[0];swiper.snapGrid=swiper.snapGrid.map(v=>v+addToSnapGrid);swiper.slidesGrid=swiper.slidesGrid.map(v=>v+addToSlidesGrid)}if(slidesLength!==previousSlidesLength){swiper.emit("slidesLengthChange")}if(snapGrid.length!==previousSnapGridLength){if(swiper.params.watchOverflow)swiper.checkOverflow();swiper.emit("snapGridLengthChange")}if(slidesGrid.length!==previousSlidesGridLength){swiper.emit("slidesGridLengthChange")}if(params.watchSlidesProgress){swiper.updateSlidesOffset()}swiper.emit("slidesUpdated");if(!isVirtual&&!params.cssMode&&(params.effect==="slide"||params.effect==="fade")){const backFaceHiddenClass=`${params.containerModifierClass}backface-hidden`;const hasClassBackfaceClassAdded=swiper.el.classList.contains(backFaceHiddenClass);if(slidesLength<=params.maxBackfaceHiddenSlides){if(!hasClassBackfaceClassAdded)swiper.el.classList.add(backFaceHiddenClass)}else if(hasClassBackfaceClassAdded){swiper.el.classList.remove(backFaceHiddenClass)}}}function updateAutoHeight(speed){const swiper=this;const activeSlides=[];const isVirtual=swiper.virtual&&swiper.params.virtual.enabled;let newHeight=0;let i;if(typeof speed==="number"){swiper.setTransition(speed)}else if(speed===true){swiper.setTransition(swiper.params.speed)}const getSlideByIndex=index=>{if(isVirtual){return swiper.slides[swiper.getSlideIndexByData(index)]}return swiper.slides[index]};if(swiper.params.slidesPerView!=="auto"&&swiper.params.slidesPerView>1){if(swiper.params.centeredSlides){(swiper.visibleSlides||[]).forEach(slide2=>{activeSlides.push(slide2)})}else{for(i=0;i<Math.ceil(swiper.params.slidesPerView);i+=1){const index=swiper.activeIndex+i;if(index>swiper.slides.length&&!isVirtual)break;activeSlides.push(getSlideByIndex(index))}}}else{activeSlides.push(getSlideByIndex(swiper.activeIndex))}for(i=0;i<activeSlides.length;i+=1){if(typeof activeSlides[i]!=="undefined"){const height=activeSlides[i].offsetHeight;newHeight=height>newHeight?height:newHeight}}if(newHeight||newHeight===0)swiper.wrapperEl.style.height=`${newHeight}px`}function updateSlidesOffset(){const swiper=this;const slides=swiper.slides;const minusOffset=swiper.isElement?swiper.isHorizontal()?swiper.wrapperEl.offsetLeft:swiper.wrapperEl.offsetTop:0;for(let i=0;i<slides.length;i+=1){slides[i].swiperSlideOffset=(swiper.isHorizontal()?slides[i].offsetLeft:slides[i].offsetTop)-minusOffset-swiper.cssOverflowAdjustment()}}var toggleSlideClasses$1=(slideEl,condition,className)=>{if(condition&&!slideEl.classList.contains(className)){slideEl.classList.add(className)}else if(!condition&&slideEl.classList.contains(className)){slideEl.classList.remove(className)}};function updateSlidesProgress(translate2){if(translate2===void 0){translate2=this&&this.translate||0}const swiper=this;const params=swiper.params;const{slides,rtlTranslate:rtl,snapGrid}=swiper;if(slides.length===0)return;if(typeof slides[0].swiperSlideOffset==="undefined")swiper.updateSlidesOffset();let offsetCenter=-translate2;if(rtl)offsetCenter=translate2;swiper.visibleSlidesIndexes=[];swiper.visibleSlides=[];let spaceBetween=params.spaceBetween;if(typeof spaceBetween==="string"&&spaceBetween.indexOf("%")>=0){spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*swiper.size}else if(typeof spaceBetween==="string"){spaceBetween=parseFloat(spaceBetween)}for(let i=0;i<slides.length;i+=1){const slide2=slides[i];let slideOffset=slide2.swiperSlideOffset;if(params.cssMode&&params.centeredSlides){slideOffset-=slides[0].swiperSlideOffset}const slideProgress=(offsetCenter+(params.centeredSlides?swiper.minTranslate():0)-slideOffset)/(slide2.swiperSlideSize+spaceBetween);const originalSlideProgress=(offsetCenter-snapGrid[0]+(params.centeredSlides?swiper.minTranslate():0)-slideOffset)/(slide2.swiperSlideSize+spaceBetween);const slideBefore=-(offsetCenter-slideOffset);const slideAfter=slideBefore+swiper.slidesSizesGrid[i];const isFullyVisible=slideBefore>=0&&slideBefore<=swiper.size-swiper.slidesSizesGrid[i];const isVisible=slideBefore>=0&&slideBefore<swiper.size-1||slideAfter>1&&slideAfter<=swiper.size||slideBefore<=0&&slideAfter>=swiper.size;if(isVisible){swiper.visibleSlides.push(slide2);swiper.visibleSlidesIndexes.push(i)}toggleSlideClasses$1(slide2,isVisible,params.slideVisibleClass);toggleSlideClasses$1(slide2,isFullyVisible,params.slideFullyVisibleClass);slide2.progress=rtl?-slideProgress:slideProgress;slide2.originalProgress=rtl?-originalSlideProgress:originalSlideProgress}}function updateProgress(translate2){const swiper=this;if(typeof translate2==="undefined"){const multiplier=swiper.rtlTranslate?-1:1;translate2=swiper&&swiper.translate&&swiper.translate*multiplier||0}const params=swiper.params;const translatesDiff=swiper.maxTranslate()-swiper.minTranslate();let{progress,isBeginning,isEnd,progressLoop}=swiper;const wasBeginning=isBeginning;const wasEnd=isEnd;if(translatesDiff===0){progress=0;isBeginning=true;isEnd=true}else{progress=(translate2-swiper.minTranslate())/translatesDiff;const isBeginningRounded=Math.abs(translate2-swiper.minTranslate())<1;const isEndRounded=Math.abs(translate2-swiper.maxTranslate())<1;isBeginning=isBeginningRounded||progress<=0;isEnd=isEndRounded||progress>=1;if(isBeginningRounded)progress=0;if(isEndRounded)progress=1}if(params.loop){const firstSlideIndex=swiper.getSlideIndexByData(0);const lastSlideIndex=swiper.getSlideIndexByData(swiper.slides.length-1);const firstSlideTranslate=swiper.slidesGrid[firstSlideIndex];const lastSlideTranslate=swiper.slidesGrid[lastSlideIndex];const translateMax=swiper.slidesGrid[swiper.slidesGrid.length-1];const translateAbs=Math.abs(translate2);if(translateAbs>=firstSlideTranslate){progressLoop=(translateAbs-firstSlideTranslate)/translateMax}else{progressLoop=(translateAbs+translateMax-lastSlideTranslate)/translateMax}if(progressLoop>1)progressLoop-=1}Object.assign(swiper,{progress,progressLoop,isBeginning,isEnd});if(params.watchSlidesProgress||params.centeredSlides&&params.autoHeight)swiper.updateSlidesProgress(translate2);if(isBeginning&&!wasBeginning){swiper.emit("reachBeginning toEdge")}if(isEnd&&!wasEnd){swiper.emit("reachEnd toEdge")}if(wasBeginning&&!isBeginning||wasEnd&&!isEnd){swiper.emit("fromEdge")}swiper.emit("progress",progress)}var toggleSlideClasses=(slideEl,condition,className)=>{if(condition&&!slideEl.classList.contains(className)){slideEl.classList.add(className)}else if(!condition&&slideEl.classList.contains(className)){slideEl.classList.remove(className)}};function updateSlidesClasses(){const swiper=this;const{slides,params,slidesEl,activeIndex}=swiper;const isVirtual=swiper.virtual&&params.virtual.enabled;const gridEnabled=swiper.grid&&params.grid&&params.grid.rows>1;const getFilteredSlide=selector=>{return elementChildren(slidesEl,`.${params.slideClass}${selector}, swiper-slide${selector}`)[0]};let activeSlide;let prevSlide;let nextSlide;if(isVirtual){if(params.loop){let slideIndex=activeIndex-swiper.virtual.slidesBefore;if(slideIndex<0)slideIndex=swiper.virtual.slides.length+slideIndex;if(slideIndex>=swiper.virtual.slides.length)slideIndex-=swiper.virtual.slides.length;activeSlide=getFilteredSlide(`[data-swiper-slide-index="${slideIndex}"]`)}else{activeSlide=getFilteredSlide(`[data-swiper-slide-index="${activeIndex}"]`)}}else{if(gridEnabled){activeSlide=slides.find(slideEl=>slideEl.column===activeIndex);nextSlide=slides.find(slideEl=>slideEl.column===activeIndex+1);prevSlide=slides.find(slideEl=>slideEl.column===activeIndex-1)}else{activeSlide=slides[activeIndex]}}if(activeSlide){if(!gridEnabled){nextSlide=elementNextAll(activeSlide,`.${params.slideClass}, swiper-slide`)[0];if(params.loop&&!nextSlide){nextSlide=slides[0]}prevSlide=elementPrevAll(activeSlide,`.${params.slideClass}, swiper-slide`)[0];if(params.loop&&!prevSlide===0){prevSlide=slides[slides.length-1]}}}slides.forEach(slideEl=>{toggleSlideClasses(slideEl,slideEl===activeSlide,params.slideActiveClass);toggleSlideClasses(slideEl,slideEl===nextSlide,params.slideNextClass);toggleSlideClasses(slideEl,slideEl===prevSlide,params.slidePrevClass)});swiper.emitSlidesClasses()}var processLazyPreloader=(swiper,imageEl)=>{if(!swiper||swiper.destroyed||!swiper.params)return;const slideSelector=()=>swiper.isElement?`swiper-slide`:`.${swiper.params.slideClass}`;const slideEl=imageEl.closest(slideSelector());if(slideEl){let lazyEl=slideEl.querySelector(`.${swiper.params.lazyPreloaderClass}`);if(!lazyEl&&swiper.isElement){if(slideEl.shadowRoot){lazyEl=slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`)}else{requestAnimationFrame(()=>{if(slideEl.shadowRoot){lazyEl=slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`);if(lazyEl)lazyEl.remove()}})}}if(lazyEl)lazyEl.remove()}};var unlazy=(swiper,index)=>{if(!swiper.slides[index])return;const imageEl=swiper.slides[index].querySelector('[loading="lazy"]');if(imageEl)imageEl.removeAttribute("loading")};var preload=swiper=>{if(!swiper||swiper.destroyed||!swiper.params)return;let amount=swiper.params.lazyPreloadPrevNext;const len=swiper.slides.length;if(!len||!amount||amount<0)return;amount=Math.min(amount,len);const slidesPerView=swiper.params.slidesPerView==="auto"?swiper.slidesPerViewDynamic():Math.ceil(swiper.params.slidesPerView);const activeIndex=swiper.activeIndex;if(swiper.params.grid&&swiper.params.grid.rows>1){const activeColumn=activeIndex;const preloadColumns=[activeColumn-amount];preloadColumns.push(...Array.from({length:amount}).map((_,i)=>{return activeColumn+slidesPerView+i}));swiper.slides.forEach((slideEl,i)=>{if(preloadColumns.includes(slideEl.column))unlazy(swiper,i)});return}const slideIndexLastInView=activeIndex+slidesPerView-1;if(swiper.params.rewind||swiper.params.loop){for(let i=activeIndex-amount;i<=slideIndexLastInView+amount;i+=1){const realIndex=(i%len+len)%len;if(realIndex<activeIndex||realIndex>slideIndexLastInView)unlazy(swiper,realIndex)}}else{for(let i=Math.max(activeIndex-amount,0);i<=Math.min(slideIndexLastInView+amount,len-1);i+=1){if(i!==activeIndex&&(i>slideIndexLastInView||i<activeIndex)){unlazy(swiper,i)}}}};function getActiveIndexByTranslate(swiper){const{slidesGrid,params}=swiper;const translate2=swiper.rtlTranslate?swiper.translate:-swiper.translate;let activeIndex;for(let i=0;i<slidesGrid.length;i+=1){if(typeof slidesGrid[i+1]!=="undefined"){if(translate2>=slidesGrid[i]&&translate2<slidesGrid[i+1]-(slidesGrid[i+1]-slidesGrid[i])/2){activeIndex=i}else if(translate2>=slidesGrid[i]&&translate2<slidesGrid[i+1]){activeIndex=i+1}}else if(translate2>=slidesGrid[i]){activeIndex=i}}if(params.normalizeSlideIndex){if(activeIndex<0||typeof activeIndex==="undefined")activeIndex=0}return activeIndex}function updateActiveIndex(newActiveIndex){const swiper=this;const translate2=swiper.rtlTranslate?swiper.translate:-swiper.translate;const{snapGrid,params,activeIndex:previousIndex,realIndex:previousRealIndex,snapIndex:previousSnapIndex}=swiper;let activeIndex=newActiveIndex;let snapIndex;const getVirtualRealIndex=aIndex=>{let realIndex2=aIndex-swiper.virtual.slidesBefore;if(realIndex2<0){realIndex2=swiper.virtual.slides.length+realIndex2}if(realIndex2>=swiper.virtual.slides.length){realIndex2-=swiper.virtual.slides.length}return realIndex2};if(typeof activeIndex==="undefined"){activeIndex=getActiveIndexByTranslate(swiper)}if(snapGrid.indexOf(translate2)>=0){snapIndex=snapGrid.indexOf(translate2)}else{const skip=Math.min(params.slidesPerGroupSkip,activeIndex);snapIndex=skip+Math.floor((activeIndex-skip)/params.slidesPerGroup)}if(snapIndex>=snapGrid.length)snapIndex=snapGrid.length-1;if(activeIndex===previousIndex&&!swiper.params.loop){if(snapIndex!==previousSnapIndex){swiper.snapIndex=snapIndex;swiper.emit("snapIndexChange")}return}if(activeIndex===previousIndex&&swiper.params.loop&&swiper.virtual&&swiper.params.virtual.enabled){swiper.realIndex=getVirtualRealIndex(activeIndex);return}const gridEnabled=swiper.grid&&params.grid&&params.grid.rows>1;let realIndex;if(swiper.virtual&&params.virtual.enabled&&params.loop){realIndex=getVirtualRealIndex(activeIndex)}else if(gridEnabled){const firstSlideInColumn=swiper.slides.find(slideEl=>slideEl.column===activeIndex);let activeSlideIndex=parseInt(firstSlideInColumn.getAttribute("data-swiper-slide-index"),10);if(Number.isNaN(activeSlideIndex)){activeSlideIndex=Math.max(swiper.slides.indexOf(firstSlideInColumn),0)}realIndex=Math.floor(activeSlideIndex/params.grid.rows)}else if(swiper.slides[activeIndex]){const slideIndex=swiper.slides[activeIndex].getAttribute("data-swiper-slide-index");if(slideIndex){realIndex=parseInt(slideIndex,10)}else{realIndex=activeIndex}}else{realIndex=activeIndex}Object.assign(swiper,{previousSnapIndex,snapIndex,previousRealIndex,realIndex,previousIndex,activeIndex});if(swiper.initialized){preload(swiper)}swiper.emit("activeIndexChange");swiper.emit("snapIndexChange");if(swiper.initialized||swiper.params.runCallbacksOnInit){if(previousRealIndex!==realIndex){swiper.emit("realIndexChange")}swiper.emit("slideChange")}}function updateClickedSlide(el,path){const swiper=this;const params=swiper.params;let slide2=el.closest(`.${params.slideClass}, swiper-slide`);if(!slide2&&swiper.isElement&&path&&path.length>1&&path.includes(el)){[...path.slice(path.indexOf(el)+1,path.length)].forEach(pathEl=>{if(!slide2&&pathEl.matches&&pathEl.matches(`.${params.slideClass}, swiper-slide`)){slide2=pathEl}})}let slideFound=false;let slideIndex;if(slide2){for(let i=0;i<swiper.slides.length;i+=1){if(swiper.slides[i]===slide2){slideFound=true;slideIndex=i;break}}}if(slide2&&slideFound){swiper.clickedSlide=slide2;if(swiper.virtual&&swiper.params.virtual.enabled){swiper.clickedIndex=parseInt(slide2.getAttribute("data-swiper-slide-index"),10)}else{swiper.clickedIndex=slideIndex}}else{swiper.clickedSlide=void 0;swiper.clickedIndex=void 0;return}if(params.slideToClickedSlide&&swiper.clickedIndex!==void 0&&swiper.clickedIndex!==swiper.activeIndex){swiper.slideToClickedSlide()}}var update={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(axis){if(axis===void 0){axis=this.isHorizontal()?"x":"y"}const swiper=this;const{params,rtlTranslate:rtl,translate:translate2,wrapperEl}=swiper;if(params.virtualTranslate){return rtl?-translate2:translate2}if(params.cssMode){return translate2}let currentTranslate=getTranslate(wrapperEl,axis);currentTranslate+=swiper.cssOverflowAdjustment();if(rtl)currentTranslate=-currentTranslate;return currentTranslate||0}function setTranslate(translate2,byController){const swiper=this;const{rtlTranslate:rtl,params,wrapperEl,progress}=swiper;let x=0;let y=0;const z=0;if(swiper.isHorizontal()){x=rtl?-translate2:translate2}else{y=translate2}if(params.roundLengths){x=Math.floor(x);y=Math.floor(y)}swiper.previousTranslate=swiper.translate;swiper.translate=swiper.isHorizontal()?x:y;if(params.cssMode){wrapperEl[swiper.isHorizontal()?"scrollLeft":"scrollTop"]=swiper.isHorizontal()?-x:-y}else if(!params.virtualTranslate){if(swiper.isHorizontal()){x-=swiper.cssOverflowAdjustment()}else{y-=swiper.cssOverflowAdjustment()}wrapperEl.style.transform=`translate3d(${x}px, ${y}px, ${z}px)`}let newProgress;const translatesDiff=swiper.maxTranslate()-swiper.minTranslate();if(translatesDiff===0){newProgress=0}else{newProgress=(translate2-swiper.minTranslate())/translatesDiff}if(newProgress!==progress){swiper.updateProgress(translate2)}swiper.emit("setTranslate",swiper.translate,byController)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(translate2,speed,runCallbacks,translateBounds,internal){if(translate2===void 0){translate2=0}if(speed===void 0){speed=this.params.speed}if(runCallbacks===void 0){runCallbacks=true}if(translateBounds===void 0){translateBounds=true}const swiper=this;const{params,wrapperEl}=swiper;if(swiper.animating&&params.preventInteractionOnTransition){return false}const minTranslate2=swiper.minTranslate();const maxTranslate2=swiper.maxTranslate();let newTranslate;if(translateBounds&&translate2>minTranslate2)newTranslate=minTranslate2;else if(translateBounds&&translate2<maxTranslate2)newTranslate=maxTranslate2;else newTranslate=translate2;swiper.updateProgress(newTranslate);if(params.cssMode){const isH=swiper.isHorizontal();if(speed===0){wrapperEl[isH?"scrollLeft":"scrollTop"]=-newTranslate}else{if(!swiper.support.smoothScroll){animateCSSModeScroll({swiper,targetPosition:-newTranslate,side:isH?"left":"top"});return true}wrapperEl.scrollTo({[isH?"left":"top"]:-newTranslate,behavior:"smooth"})}return true}if(speed===0){swiper.setTransition(0);swiper.setTranslate(newTranslate);if(runCallbacks){swiper.emit("beforeTransitionStart",speed,internal);swiper.emit("transitionEnd")}}else{swiper.setTransition(speed);swiper.setTranslate(newTranslate);if(runCallbacks){swiper.emit("beforeTransitionStart",speed,internal);swiper.emit("transitionStart")}if(!swiper.animating){swiper.animating=true;if(!swiper.onTranslateToWrapperTransitionEnd){swiper.onTranslateToWrapperTransitionEnd=function transitionEnd2(e){if(!swiper||swiper.destroyed)return;if(e.target!==this)return;swiper.wrapperEl.removeEventListener("transitionend",swiper.onTranslateToWrapperTransitionEnd);swiper.onTranslateToWrapperTransitionEnd=null;delete swiper.onTranslateToWrapperTransitionEnd;swiper.animating=false;if(runCallbacks){swiper.emit("transitionEnd")}}}swiper.wrapperEl.addEventListener("transitionend",swiper.onTranslateToWrapperTransitionEnd)}}return true}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(duration,byController){const swiper=this;if(!swiper.params.cssMode){swiper.wrapperEl.style.transitionDuration=`${duration}ms`;swiper.wrapperEl.style.transitionDelay=duration===0?`0ms`:""}swiper.emit("setTransition",duration,byController)}function transitionEmit(_ref){let{swiper,runCallbacks,direction,step}=_ref;const{activeIndex,previousIndex}=swiper;let dir=direction;if(!dir){if(activeIndex>previousIndex)dir="next";else if(activeIndex<previousIndex)dir="prev";else dir="reset"}swiper.emit(`transition${step}`);if(runCallbacks&&dir==="reset"){swiper.emit(`slideResetTransition${step}`)}else if(runCallbacks&&activeIndex!==previousIndex){swiper.emit(`slideChangeTransition${step}`);if(dir==="next"){swiper.emit(`slideNextTransition${step}`)}else{swiper.emit(`slidePrevTransition${step}`)}}}function transitionStart(runCallbacks,direction){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;const{params}=swiper;if(params.cssMode)return;if(params.autoHeight){swiper.updateAutoHeight()}transitionEmit({swiper,runCallbacks,direction,step:"Start"})}function transitionEnd(runCallbacks,direction){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;const{params}=swiper;swiper.animating=false;if(params.cssMode)return;swiper.setTransition(0);transitionEmit({swiper,runCallbacks,direction,step:"End"})}var transition={setTransition,transitionStart,transitionEnd};function slideTo(index,speed,runCallbacks,internal,initial){if(index===void 0){index=0}if(runCallbacks===void 0){runCallbacks=true}if(typeof index==="string"){index=parseInt(index,10)}const swiper=this;let slideIndex=index;if(slideIndex<0)slideIndex=0;const{params,snapGrid,slidesGrid,previousIndex,activeIndex,rtlTranslate:rtl,wrapperEl,enabled}=swiper;if(!enabled&&!internal&&!initial||swiper.destroyed||swiper.animating&&params.preventInteractionOnTransition){return false}if(typeof speed==="undefined"){speed=swiper.params.speed}const skip=Math.min(swiper.params.slidesPerGroupSkip,slideIndex);let snapIndex=skip+Math.floor((slideIndex-skip)/swiper.params.slidesPerGroup);if(snapIndex>=snapGrid.length)snapIndex=snapGrid.length-1;const translate2=-snapGrid[snapIndex];if(params.normalizeSlideIndex){for(let i=0;i<slidesGrid.length;i+=1){const normalizedTranslate=-Math.floor(translate2*100);const normalizedGrid=Math.floor(slidesGrid[i]*100);const normalizedGridNext=Math.floor(slidesGrid[i+1]*100);if(typeof slidesGrid[i+1]!=="undefined"){if(normalizedTranslate>=normalizedGrid&&normalizedTranslate<normalizedGridNext-(normalizedGridNext-normalizedGrid)/2){slideIndex=i}else if(normalizedTranslate>=normalizedGrid&&normalizedTranslate<normalizedGridNext){slideIndex=i+1}}else if(normalizedTranslate>=normalizedGrid){slideIndex=i}}}if(swiper.initialized&&slideIndex!==activeIndex){if(!swiper.allowSlideNext&&(rtl?translate2>swiper.translate&&translate2>swiper.minTranslate():translate2<swiper.translate&&translate2<swiper.minTranslate())){return false}if(!swiper.allowSlidePrev&&translate2>swiper.translate&&translate2>swiper.maxTranslate()){if((activeIndex||0)!==slideIndex){return false}}}if(slideIndex!==(previousIndex||0)&&runCallbacks){swiper.emit("beforeSlideChangeStart")}swiper.updateProgress(translate2);let direction;if(slideIndex>activeIndex)direction="next";else if(slideIndex<activeIndex)direction="prev";else direction="reset";const isVirtual=swiper.virtual&&swiper.params.virtual.enabled;const isInitialVirtual=isVirtual&&initial;if(!isInitialVirtual&&(rtl&&-translate2===swiper.translate||!rtl&&translate2===swiper.translate)){swiper.updateActiveIndex(slideIndex);if(params.autoHeight){swiper.updateAutoHeight()}swiper.updateSlidesClasses();if(params.effect!=="slide"){swiper.setTranslate(translate2)}if(direction!=="reset"){swiper.transitionStart(runCallbacks,direction);swiper.transitionEnd(runCallbacks,direction)}return false}if(params.cssMode){const isH=swiper.isHorizontal();const t=rtl?translate2:-translate2;if(speed===0){if(isVirtual){swiper.wrapperEl.style.scrollSnapType="none";swiper._immediateVirtual=true}if(isVirtual&&!swiper._cssModeVirtualInitialSet&&swiper.params.initialSlide>0){swiper._cssModeVirtualInitialSet=true;requestAnimationFrame(()=>{wrapperEl[isH?"scrollLeft":"scrollTop"]=t})}else{wrapperEl[isH?"scrollLeft":"scrollTop"]=t}if(isVirtual){requestAnimationFrame(()=>{swiper.wrapperEl.style.scrollSnapType="";swiper._immediateVirtual=false})}}else{if(!swiper.support.smoothScroll){animateCSSModeScroll({swiper,targetPosition:t,side:isH?"left":"top"});return true}wrapperEl.scrollTo({[isH?"left":"top"]:t,behavior:"smooth"})}return true}const browser2=getBrowser();const isSafari=browser2.isSafari;if(isVirtual&&!initial&&isSafari&&swiper.isElement){swiper.virtual.update(false,false,slideIndex)}swiper.setTransition(speed);swiper.setTranslate(translate2);swiper.updateActiveIndex(slideIndex);swiper.updateSlidesClasses();swiper.emit("beforeTransitionStart",speed,internal);swiper.transitionStart(runCallbacks,direction);if(speed===0){swiper.transitionEnd(runCallbacks,direction)}else if(!swiper.animating){swiper.animating=true;if(!swiper.onSlideToWrapperTransitionEnd){swiper.onSlideToWrapperTransitionEnd=function transitionEnd2(e){if(!swiper||swiper.destroyed)return;if(e.target!==this)return;swiper.wrapperEl.removeEventListener("transitionend",swiper.onSlideToWrapperTransitionEnd);swiper.onSlideToWrapperTransitionEnd=null;delete swiper.onSlideToWrapperTransitionEnd;swiper.transitionEnd(runCallbacks,direction)}}swiper.wrapperEl.addEventListener("transitionend",swiper.onSlideToWrapperTransitionEnd)}return true}function slideToLoop(index,speed,runCallbacks,internal){if(index===void 0){index=0}if(runCallbacks===void 0){runCallbacks=true}if(typeof index==="string"){const indexAsNumber=parseInt(index,10);index=indexAsNumber}const swiper=this;if(swiper.destroyed)return;if(typeof speed==="undefined"){speed=swiper.params.speed}const gridEnabled=swiper.grid&&swiper.params.grid&&swiper.params.grid.rows>1;let newIndex=index;if(swiper.params.loop){if(swiper.virtual&&swiper.params.virtual.enabled){newIndex=newIndex+swiper.virtual.slidesBefore}else{let targetSlideIndex;if(gridEnabled){const slideIndex=newIndex*swiper.params.grid.rows;targetSlideIndex=swiper.slides.find(slideEl=>slideEl.getAttribute("data-swiper-slide-index")*1===slideIndex).column}else{targetSlideIndex=swiper.getSlideIndexByData(newIndex)}const cols=gridEnabled?Math.ceil(swiper.slides.length/swiper.params.grid.rows):swiper.slides.length;const{centeredSlides}=swiper.params;let slidesPerView=swiper.params.slidesPerView;if(slidesPerView==="auto"){slidesPerView=swiper.slidesPerViewDynamic()}else{slidesPerView=Math.ceil(parseFloat(swiper.params.slidesPerView,10));if(centeredSlides&&slidesPerView%2===0){slidesPerView=slidesPerView+1}}let needLoopFix=cols-targetSlideIndex<slidesPerView;if(centeredSlides){needLoopFix=needLoopFix||targetSlideIndex<Math.ceil(slidesPerView/2)}if(internal&&centeredSlides&&swiper.params.slidesPerView!=="auto"&&!gridEnabled){needLoopFix=false}if(needLoopFix){const direction=centeredSlides?targetSlideIndex<swiper.activeIndex?"prev":"next":targetSlideIndex-swiper.activeIndex-1<swiper.params.slidesPerView?"next":"prev";swiper.loopFix({direction,slideTo:true,activeSlideIndex:direction==="next"?targetSlideIndex+1:targetSlideIndex-cols+1,slideRealIndex:direction==="next"?swiper.realIndex:void 0})}if(gridEnabled){const slideIndex=newIndex*swiper.params.grid.rows;newIndex=swiper.slides.find(slideEl=>slideEl.getAttribute("data-swiper-slide-index")*1===slideIndex).column}else{newIndex=swiper.getSlideIndexByData(newIndex)}}}requestAnimationFrame(()=>{swiper.slideTo(newIndex,speed,runCallbacks,internal)});return swiper}function slideNext(speed,runCallbacks,internal){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;const{enabled,params,animating}=swiper;if(!enabled||swiper.destroyed)return swiper;if(typeof speed==="undefined"){speed=swiper.params.speed}let perGroup=params.slidesPerGroup;if(params.slidesPerView==="auto"&&params.slidesPerGroup===1&&params.slidesPerGroupAuto){perGroup=Math.max(swiper.slidesPerViewDynamic("current",true),1)}const increment=swiper.activeIndex<params.slidesPerGroupSkip?1:perGroup;const isVirtual=swiper.virtual&&params.virtual.enabled;if(params.loop){if(animating&&!isVirtual&&params.loopPreventsSliding)return false;swiper.loopFix({direction:"next"});swiper._clientLeft=swiper.wrapperEl.clientLeft;if(swiper.activeIndex===swiper.slides.length-1&&params.cssMode){requestAnimationFrame(()=>{swiper.slideTo(swiper.activeIndex+increment,speed,runCallbacks,internal)});return true}}if(params.rewind&&swiper.isEnd){return swiper.slideTo(0,speed,runCallbacks,internal)}return swiper.slideTo(swiper.activeIndex+increment,speed,runCallbacks,internal)}function slidePrev(speed,runCallbacks,internal){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;const{params,snapGrid,slidesGrid,rtlTranslate,enabled,animating}=swiper;if(!enabled||swiper.destroyed)return swiper;if(typeof speed==="undefined"){speed=swiper.params.speed}const isVirtual=swiper.virtual&&params.virtual.enabled;if(params.loop){if(animating&&!isVirtual&&params.loopPreventsSliding)return false;swiper.loopFix({direction:"prev"});swiper._clientLeft=swiper.wrapperEl.clientLeft}const translate2=rtlTranslate?swiper.translate:-swiper.translate;function normalize(val){if(val<0)return-Math.floor(Math.abs(val));return Math.floor(val)}const normalizedTranslate=normalize(translate2);const normalizedSnapGrid=snapGrid.map(val=>normalize(val));const isFreeMode=params.freeMode&&params.freeMode.enabled;let prevSnap=snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate)-1];if(typeof prevSnap==="undefined"&&(params.cssMode||isFreeMode)){let prevSnapIndex;snapGrid.forEach((snap,snapIndex)=>{if(normalizedTranslate>=snap){prevSnapIndex=snapIndex}});if(typeof prevSnapIndex!=="undefined"){prevSnap=isFreeMode?snapGrid[prevSnapIndex]:snapGrid[prevSnapIndex>0?prevSnapIndex-1:prevSnapIndex]}}let prevIndex=0;if(typeof prevSnap!=="undefined"){prevIndex=slidesGrid.indexOf(prevSnap);if(prevIndex<0)prevIndex=swiper.activeIndex-1;if(params.slidesPerView==="auto"&&params.slidesPerGroup===1&&params.slidesPerGroupAuto){prevIndex=prevIndex-swiper.slidesPerViewDynamic("previous",true)+1;prevIndex=Math.max(prevIndex,0)}}if(params.rewind&&swiper.isBeginning){const lastIndex=swiper.params.virtual&&swiper.params.virtual.enabled&&swiper.virtual?swiper.virtual.slides.length-1:swiper.slides.length-1;return swiper.slideTo(lastIndex,speed,runCallbacks,internal)}else if(params.loop&&swiper.activeIndex===0&&params.cssMode){requestAnimationFrame(()=>{swiper.slideTo(prevIndex,speed,runCallbacks,internal)});return true}return swiper.slideTo(prevIndex,speed,runCallbacks,internal)}function slideReset(speed,runCallbacks,internal){if(runCallbacks===void 0){runCallbacks=true}const swiper=this;if(swiper.destroyed)return;if(typeof speed==="undefined"){speed=swiper.params.speed}return swiper.slideTo(swiper.activeIndex,speed,runCallbacks,internal)}function slideToClosest(speed,runCallbacks,internal,threshold){if(runCallbacks===void 0){runCallbacks=true}if(threshold===void 0){threshold=.5}const swiper=this;if(swiper.destroyed)return;if(typeof speed==="undefined"){speed=swiper.params.speed}let index=swiper.activeIndex;const skip=Math.min(swiper.params.slidesPerGroupSkip,index);const snapIndex=skip+Math.floor((index-skip)/swiper.params.slidesPerGroup);const translate2=swiper.rtlTranslate?swiper.translate:-swiper.translate;if(translate2>=swiper.snapGrid[snapIndex]){const currentSnap=swiper.snapGrid[snapIndex];const nextSnap=swiper.snapGrid[snapIndex+1];if(translate2-currentSnap>(nextSnap-currentSnap)*threshold){index+=swiper.params.slidesPerGroup}}else{const prevSnap=swiper.snapGrid[snapIndex-1];const currentSnap=swiper.snapGrid[snapIndex];if(translate2-prevSnap<=(currentSnap-prevSnap)*threshold){index-=swiper.params.slidesPerGroup}}index=Math.max(index,0);index=Math.min(index,swiper.slidesGrid.length-1);return swiper.slideTo(index,speed,runCallbacks,internal)}function slideToClickedSlide(){const swiper=this;if(swiper.destroyed)return;const{params,slidesEl}=swiper;const slidesPerView=params.slidesPerView==="auto"?swiper.slidesPerViewDynamic():params.slidesPerView;let slideToIndex=swiper.getSlideIndexWhenGrid(swiper.clickedIndex);let realIndex;const slideSelector=swiper.isElement?`swiper-slide`:`.${params.slideClass}`;const isGrid=swiper.grid&&swiper.params.grid&&swiper.params.grid.rows>1;if(params.loop){if(swiper.animating)return;realIndex=parseInt(swiper.clickedSlide.getAttribute("data-swiper-slide-index"),10);if(params.centeredSlides){swiper.slideToLoop(realIndex)}else if(slideToIndex>(isGrid?(swiper.slides.length-slidesPerView)/2-(swiper.params.grid.rows-1):swiper.slides.length-slidesPerView)){swiper.loopFix();slideToIndex=swiper.getSlideIndex(elementChildren(slidesEl,`${slideSelector}[data-swiper-slide-index="${realIndex}"]`)[0]);nextTick(()=>{swiper.slideTo(slideToIndex)})}else{swiper.slideTo(slideToIndex)}}else{swiper.slideTo(slideToIndex)}}var slide={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(slideRealIndex,initial){const swiper=this;const{params,slidesEl}=swiper;if(!params.loop||swiper.virtual&&swiper.params.virtual.enabled)return;const initSlides=()=>{const slides=elementChildren(slidesEl,`.${params.slideClass}, swiper-slide`);slides.forEach((el,index)=>{el.setAttribute("data-swiper-slide-index",index)})};const clearBlankSlides=()=>{const slides=elementChildren(slidesEl,`.${params.slideBlankClass}`);slides.forEach(el=>{el.remove()});if(slides.length>0){swiper.recalcSlides();swiper.updateSlides()}};const gridEnabled=swiper.grid&&params.grid&&params.grid.rows>1;if(params.loopAddBlankSlides&&(params.slidesPerGroup>1||gridEnabled)){clearBlankSlides()}const slidesPerGroup=params.slidesPerGroup*(gridEnabled?params.grid.rows:1);const shouldFillGroup=swiper.slides.length%slidesPerGroup!==0;const shouldFillGrid=gridEnabled&&swiper.slides.length%params.grid.rows!==0;const addBlankSlides=amountOfSlides=>{for(let i=0;i<amountOfSlides;i+=1){const slideEl=swiper.isElement?createElement("swiper-slide",[params.slideBlankClass]):createElement("div",[params.slideClass,params.slideBlankClass]);swiper.slidesEl.append(slideEl)}};if(shouldFillGroup){if(params.loopAddBlankSlides){const slidesToAdd=slidesPerGroup-swiper.slides.length%slidesPerGroup;addBlankSlides(slidesToAdd);swiper.recalcSlides();swiper.updateSlides()}else{showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)")}initSlides()}else if(shouldFillGrid){if(params.loopAddBlankSlides){const slidesToAdd=params.grid.rows-swiper.slides.length%params.grid.rows;addBlankSlides(slidesToAdd);swiper.recalcSlides();swiper.updateSlides()}else{showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)")}initSlides()}else{initSlides()}swiper.loopFix({slideRealIndex,direction:params.centeredSlides?void 0:"next",initial})}function loopFix(_temp){let{slideRealIndex,slideTo:slideTo2=true,direction,setTranslate:setTranslate2,activeSlideIndex,initial,byController,byMousewheel}=_temp===void 0?{}:_temp;const swiper=this;if(!swiper.params.loop)return;swiper.emit("beforeLoopFix");const{slides,allowSlidePrev,allowSlideNext,slidesEl,params}=swiper;const{centeredSlides,initialSlide}=params;swiper.allowSlidePrev=true;swiper.allowSlideNext=true;if(swiper.virtual&&params.virtual.enabled){if(slideTo2){if(!params.centeredSlides&&swiper.snapIndex===0){swiper.slideTo(swiper.virtual.slides.length,0,false,true)}else if(params.centeredSlides&&swiper.snapIndex<params.slidesPerView){swiper.slideTo(swiper.virtual.slides.length+swiper.snapIndex,0,false,true)}else if(swiper.snapIndex===swiper.snapGrid.length-1){swiper.slideTo(swiper.virtual.slidesBefore,0,false,true)}}swiper.allowSlidePrev=allowSlidePrev;swiper.allowSlideNext=allowSlideNext;swiper.emit("loopFix");return}let slidesPerView=params.slidesPerView;if(slidesPerView==="auto"){slidesPerView=swiper.slidesPerViewDynamic()}else{slidesPerView=Math.ceil(parseFloat(params.slidesPerView,10));if(centeredSlides&&slidesPerView%2===0){slidesPerView=slidesPerView+1}}const slidesPerGroup=params.slidesPerGroupAuto?slidesPerView:params.slidesPerGroup;let loopedSlides=centeredSlides?Math.max(slidesPerGroup,Math.ceil(slidesPerView/2)):slidesPerGroup;if(loopedSlides%slidesPerGroup!==0){loopedSlides+=slidesPerGroup-loopedSlides%slidesPerGroup}loopedSlides+=params.loopAdditionalSlides;swiper.loopedSlides=loopedSlides;const gridEnabled=swiper.grid&&params.grid&&params.grid.rows>1;if(slides.length<slidesPerView+loopedSlides||swiper.params.effect==="cards"&&slides.length<slidesPerView+loopedSlides*2){showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters")}else if(gridEnabled&&params.grid.fill==="row"){showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`")}const prependSlidesIndexes=[];const appendSlidesIndexes=[];const cols=gridEnabled?Math.ceil(slides.length/params.grid.rows):slides.length;const isInitialOverflow=initial&&cols-initialSlide<slidesPerView&&!centeredSlides;let activeIndex=isInitialOverflow?initialSlide:swiper.activeIndex;if(typeof activeSlideIndex==="undefined"){activeSlideIndex=swiper.getSlideIndex(slides.find(el=>el.classList.contains(params.slideActiveClass)))}else{activeIndex=activeSlideIndex}const isNext=direction==="next"||!direction;const isPrev=direction==="prev"||!direction;let slidesPrepended=0;let slidesAppended=0;const activeColIndex=gridEnabled?slides[activeSlideIndex].column:activeSlideIndex;const activeColIndexWithShift=activeColIndex+(centeredSlides&&typeof setTranslate2==="undefined"?-slidesPerView/2+.5:0);if(activeColIndexWithShift<loopedSlides){slidesPrepended=Math.max(loopedSlides-activeColIndexWithShift,slidesPerGroup);for(let i=0;i<loopedSlides-activeColIndexWithShift;i+=1){const index=i-Math.floor(i/cols)*cols;if(gridEnabled){const colIndexToPrepend=cols-index-1;for(let i2=slides.length-1;i2>=0;i2-=1){if(slides[i2].column===colIndexToPrepend)prependSlidesIndexes.push(i2)}}else{prependSlidesIndexes.push(cols-index-1)}}}else if(activeColIndexWithShift+slidesPerView>cols-loopedSlides){slidesAppended=Math.max(activeColIndexWithShift-(cols-loopedSlides*2),slidesPerGroup);if(isInitialOverflow){slidesAppended=Math.max(slidesAppended,slidesPerView-cols+initialSlide+1)}for(let i=0;i<slidesAppended;i+=1){const index=i-Math.floor(i/cols)*cols;if(gridEnabled){slides.forEach((slide2,slideIndex)=>{if(slide2.column===index)appendSlidesIndexes.push(slideIndex)})}else{appendSlidesIndexes.push(index)}}}swiper.__preventObserver__=true;requestAnimationFrame(()=>{swiper.__preventObserver__=false});if(swiper.params.effect==="cards"&&slides.length<slidesPerView+loopedSlides*2){if(appendSlidesIndexes.includes(activeSlideIndex)){appendSlidesIndexes.splice(appendSlidesIndexes.indexOf(activeSlideIndex),1)}if(prependSlidesIndexes.includes(activeSlideIndex)){prependSlidesIndexes.splice(prependSlidesIndexes.indexOf(activeSlideIndex),1)}}if(isPrev){prependSlidesIndexes.forEach(index=>{slides[index].swiperLoopMoveDOM=true;slidesEl.prepend(slides[index]);slides[index].swiperLoopMoveDOM=false})}if(isNext){appendSlidesIndexes.forEach(index=>{slides[index].swiperLoopMoveDOM=true;slidesEl.append(slides[index]);slides[index].swiperLoopMoveDOM=false})}swiper.recalcSlides();if(params.slidesPerView==="auto"){swiper.updateSlides()}else if(gridEnabled&&(prependSlidesIndexes.length>0&&isPrev||appendSlidesIndexes.length>0&&isNext)){swiper.slides.forEach((slide2,slideIndex)=>{swiper.grid.updateSlide(slideIndex,slide2,swiper.slides)})}if(params.watchSlidesProgress){swiper.updateSlidesOffset()}if(slideTo2){if(prependSlidesIndexes.length>0&&isPrev){if(typeof slideRealIndex==="undefined"){const currentSlideTranslate=swiper.slidesGrid[activeIndex];const newSlideTranslate=swiper.slidesGrid[activeIndex+slidesPrepended];const diff=newSlideTranslate-currentSlideTranslate;if(byMousewheel){swiper.setTranslate(swiper.translate-diff)}else{swiper.slideTo(activeIndex+Math.ceil(slidesPrepended),0,false,true);if(setTranslate2){swiper.touchEventsData.startTranslate=swiper.touchEventsData.startTranslate-diff;swiper.touchEventsData.currentTranslate=swiper.touchEventsData.currentTranslate-diff}}}else{if(setTranslate2){const shift=gridEnabled?prependSlidesIndexes.length/params.grid.rows:prependSlidesIndexes.length;swiper.slideTo(swiper.activeIndex+shift,0,false,true);swiper.touchEventsData.currentTranslate=swiper.translate}}}else if(appendSlidesIndexes.length>0&&isNext){if(typeof slideRealIndex==="undefined"){const currentSlideTranslate=swiper.slidesGrid[activeIndex];const newSlideTranslate=swiper.slidesGrid[activeIndex-slidesAppended];const diff=newSlideTranslate-currentSlideTranslate;if(byMousewheel){swiper.setTranslate(swiper.translate-diff)}else{swiper.slideTo(activeIndex-slidesAppended,0,false,true);if(setTranslate2){swiper.touchEventsData.startTranslate=swiper.touchEventsData.startTranslate-diff;swiper.touchEventsData.currentTranslate=swiper.touchEventsData.currentTranslate-diff}}}else{const shift=gridEnabled?appendSlidesIndexes.length/params.grid.rows:appendSlidesIndexes.length;swiper.slideTo(swiper.activeIndex-shift,0,false,true)}}}swiper.allowSlidePrev=allowSlidePrev;swiper.allowSlideNext=allowSlideNext;if(swiper.controller&&swiper.controller.control&&!byController){const loopParams={slideRealIndex,direction,setTranslate:setTranslate2,activeSlideIndex,byController:true};if(Array.isArray(swiper.controller.control)){swiper.controller.control.forEach(c=>{if(!c.destroyed&&c.params.loop)c.loopFix({...loopParams,slideTo:c.params.slidesPerView===params.slidesPerView?slideTo2:false})})}else if(swiper.controller.control instanceof swiper.constructor&&swiper.controller.control.params.loop){swiper.controller.control.loopFix({...loopParams,slideTo:swiper.controller.control.params.slidesPerView===params.slidesPerView?slideTo2:false})}}swiper.emit("loopFix")}function loopDestroy(){const swiper=this;const{params,slidesEl}=swiper;if(!params.loop||!slidesEl||swiper.virtual&&swiper.params.virtual.enabled)return;swiper.recalcSlides();const newSlidesOrder=[];swiper.slides.forEach(slideEl=>{const index=typeof slideEl.swiperSlideIndex==="undefined"?slideEl.getAttribute("data-swiper-slide-index")*1:slideEl.swiperSlideIndex;newSlidesOrder[index]=slideEl});swiper.slides.forEach(slideEl=>{slideEl.removeAttribute("data-swiper-slide-index")});newSlidesOrder.forEach(slideEl=>{slidesEl.append(slideEl)});swiper.recalcSlides();swiper.slideTo(swiper.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(moving){const swiper=this;if(!swiper.params.simulateTouch||swiper.params.watchOverflow&&swiper.isLocked||swiper.params.cssMode)return;const el=swiper.params.touchEventsTarget==="container"?swiper.el:swiper.wrapperEl;if(swiper.isElement){swiper.__preventObserver__=true}el.style.cursor="move";el.style.cursor=moving?"grabbing":"grab";if(swiper.isElement){requestAnimationFrame(()=>{swiper.__preventObserver__=false})}}function unsetGrabCursor(){const swiper=this;if(swiper.params.watchOverflow&&swiper.isLocked||swiper.params.cssMode){return}if(swiper.isElement){swiper.__preventObserver__=true}swiper[swiper.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="";if(swiper.isElement){requestAnimationFrame(()=>{swiper.__preventObserver__=false})}}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(selector,base){if(base===void 0){base=this}function __closestFrom(el){if(!el||el===getDocument()||el===getWindow())return null;if(el.assignedSlot)el=el.assignedSlot;const found=el.closest(selector);if(!found&&!el.getRootNode){return null}return found||__closestFrom(el.getRootNode().host)}return __closestFrom(base)}function preventEdgeSwipe(swiper,event2,startX){const window2=getWindow();const{params}=swiper;const edgeSwipeDetection=params.edgeSwipeDetection;const edgeSwipeThreshold=params.edgeSwipeThreshold;if(edgeSwipeDetection&&(startX<=edgeSwipeThreshold||startX>=window2.innerWidth-edgeSwipeThreshold)){if(edgeSwipeDetection==="prevent"){event2.preventDefault();return true}return false}return true}function onTouchStart(event2){const swiper=this;const document2=getDocument();let e=event2;if(e.originalEvent)e=e.originalEvent;const data=swiper.touchEventsData;if(e.type==="pointerdown"){if(data.pointerId!==null&&data.pointerId!==e.pointerId){return}data.pointerId=e.pointerId}else if(e.type==="touchstart"&&e.targetTouches.length===1){data.touchId=e.targetTouches[0].identifier}if(e.type==="touchstart"){preventEdgeSwipe(swiper,e,e.targetTouches[0].pageX);return}const{params,touches,enabled}=swiper;if(!enabled)return;if(!params.simulateTouch&&e.pointerType==="mouse")return;if(swiper.animating&&params.preventInteractionOnTransition){return}if(!swiper.animating&&params.cssMode&&params.loop){swiper.loopFix()}let targetEl=e.target;if(params.touchEventsTarget==="wrapper"){if(!elementIsChildOf(targetEl,swiper.wrapperEl))return}if("which"in e&&e.which===3)return;if("button"in e&&e.button>0)return;if(data.isTouched&&data.isMoved)return;const swipingClassHasValue=!!params.noSwipingClass&&params.noSwipingClass!=="";const eventPath=e.composedPath?e.composedPath():e.path;if(swipingClassHasValue&&e.target&&e.target.shadowRoot&&eventPath){targetEl=eventPath[0]}const noSwipingSelector=params.noSwipingSelector?params.noSwipingSelector:`.${params.noSwipingClass}`;const isTargetShadow=!!(e.target&&e.target.shadowRoot);if(params.noSwiping&&(isTargetShadow?closestElement(noSwipingSelector,targetEl):targetEl.closest(noSwipingSelector))){swiper.allowClick=true;return}if(params.swipeHandler){if(!targetEl.closest(params.swipeHandler))return}touches.currentX=e.pageX;touches.currentY=e.pageY;const startX=touches.currentX;const startY=touches.currentY;if(!preventEdgeSwipe(swiper,e,startX)){return}Object.assign(data,{isTouched:true,isMoved:false,allowTouchCallbacks:true,isScrolling:void 0,startMoving:void 0});touches.startX=startX;touches.startY=startY;data.touchStartTime=now();swiper.allowClick=true;swiper.updateSize();swiper.swipeDirection=void 0;if(params.threshold>0)data.allowThresholdMove=false;let preventDefault=true;if(targetEl.matches(data.focusableElements)){preventDefault=false;if(targetEl.nodeName==="SELECT"){data.isTouched=false}}if(document2.activeElement&&document2.activeElement.matches(data.focusableElements)&&document2.activeElement!==targetEl&&(e.pointerType==="mouse"||e.pointerType!=="mouse"&&!targetEl.matches(data.focusableElements))){document2.activeElement.blur()}const shouldPreventDefault=preventDefault&&swiper.allowTouchMove&&params.touchStartPreventDefault;if((params.touchStartForcePreventDefault||shouldPreventDefault)&&!targetEl.isContentEditable){e.preventDefault()}if(params.freeMode&&params.freeMode.enabled&&swiper.freeMode&&swiper.animating&&!params.cssMode){swiper.freeMode.onTouchStart()}swiper.emit("touchStart",e)}function onTouchMove(event2){const document2=getDocument();const swiper=this;const data=swiper.touchEventsData;const{params,touches,rtlTranslate:rtl,enabled}=swiper;if(!enabled)return;if(!params.simulateTouch&&event2.pointerType==="mouse")return;let e=event2;if(e.originalEvent)e=e.originalEvent;if(e.type==="pointermove"){if(data.touchId!==null)return;const id=e.pointerId;if(id!==data.pointerId)return}let targetTouch;if(e.type==="touchmove"){targetTouch=[...e.changedTouches].find(t=>t.identifier===data.touchId);if(!targetTouch||targetTouch.identifier!==data.touchId)return}else{targetTouch=e}if(!data.isTouched){if(data.startMoving&&data.isScrolling){swiper.emit("touchMoveOpposite",e)}return}const pageX=targetTouch.pageX;const pageY=targetTouch.pageY;if(e.preventedByNestedSwiper){touches.startX=pageX;touches.startY=pageY;return}if(!swiper.allowTouchMove){if(!e.target.matches(data.focusableElements)){swiper.allowClick=false}if(data.isTouched){Object.assign(touches,{startX:pageX,startY:pageY,currentX:pageX,currentY:pageY});data.touchStartTime=now()}return}if(params.touchReleaseOnEdges&&!params.loop){if(swiper.isVertical()){if(pageY<touches.startY&&swiper.translate<=swiper.maxTranslate()||pageY>touches.startY&&swiper.translate>=swiper.minTranslate()){data.isTouched=false;data.isMoved=false;return}}else if(rtl&&(pageX>touches.startX&&-swiper.translate<=swiper.maxTranslate()||pageX<touches.startX&&-swiper.translate>=swiper.minTranslate())){return}else if(!rtl&&(pageX<touches.startX&&swiper.translate<=swiper.maxTranslate()||pageX>touches.startX&&swiper.translate>=swiper.minTranslate())){return}}if(document2.activeElement&&document2.activeElement.matches(data.focusableElements)&&document2.activeElement!==e.target&&e.pointerType!=="mouse"){document2.activeElement.blur()}if(document2.activeElement){if(e.target===document2.activeElement&&e.target.matches(data.focusableElements)){data.isMoved=true;swiper.allowClick=false;return}}if(data.allowTouchCallbacks){swiper.emit("touchMove",e)}touches.previousX=touches.currentX;touches.previousY=touches.currentY;touches.currentX=pageX;touches.currentY=pageY;const diffX=touches.currentX-touches.startX;const diffY=touches.currentY-touches.startY;if(swiper.params.threshold&&Math.sqrt(diffX**2+diffY**2)<swiper.params.threshold)return;if(typeof data.isScrolling==="undefined"){let touchAngle;if(swiper.isHorizontal()&&touches.currentY===touches.startY||swiper.isVertical()&&touches.currentX===touches.startX){data.isScrolling=false}else{if(diffX*diffX+diffY*diffY>=25){touchAngle=Math.atan2(Math.abs(diffY),Math.abs(diffX))*180/Math.PI;data.isScrolling=swiper.isHorizontal()?touchAngle>params.touchAngle:90-touchAngle>params.touchAngle}}}if(data.isScrolling){swiper.emit("touchMoveOpposite",e)}if(typeof data.startMoving==="undefined"){if(touches.currentX!==touches.startX||touches.currentY!==touches.startY){data.startMoving=true}}if(data.isScrolling||e.type==="touchmove"&&data.preventTouchMoveFromPointerMove){data.isTouched=false;return}if(!data.startMoving){return}swiper.allowClick=false;if(!params.cssMode&&e.cancelable){e.preventDefault()}if(params.touchMoveStopPropagation&&!params.nested){e.stopPropagation()}let diff=swiper.isHorizontal()?diffX:diffY;let touchesDiff=swiper.isHorizontal()?touches.currentX-touches.previousX:touches.currentY-touches.previousY;if(params.oneWayMovement){diff=Math.abs(diff)*(rtl?1:-1);touchesDiff=Math.abs(touchesDiff)*(rtl?1:-1)}touches.diff=diff;diff*=params.touchRatio;if(rtl){diff=-diff;touchesDiff=-touchesDiff}const prevTouchesDirection=swiper.touchesDirection;swiper.swipeDirection=diff>0?"prev":"next";swiper.touchesDirection=touchesDiff>0?"prev":"next";const isLoop=swiper.params.loop&&!params.cssMode;const allowLoopFix=swiper.touchesDirection==="next"&&swiper.allowSlideNext||swiper.touchesDirection==="prev"&&swiper.allowSlidePrev;if(!data.isMoved){if(isLoop&&allowLoopFix){swiper.loopFix({direction:swiper.swipeDirection})}data.startTranslate=swiper.getTranslate();swiper.setTransition(0);if(swiper.animating){const evt=new window.CustomEvent("transitionend",{bubbles:true,cancelable:true,detail:{bySwiperTouchMove:true}});swiper.wrapperEl.dispatchEvent(evt)}data.allowMomentumBounce=false;if(params.grabCursor&&(swiper.allowSlideNext===true||swiper.allowSlidePrev===true)){swiper.setGrabCursor(true)}swiper.emit("sliderFirstMove",e)}let loopFixed;new Date().getTime();if(params._loopSwapReset!==false&&data.isMoved&&data.allowThresholdMove&&prevTouchesDirection!==swiper.touchesDirection&&isLoop&&allowLoopFix&&Math.abs(diff)>=1){Object.assign(touches,{startX:pageX,startY:pageY,currentX:pageX,currentY:pageY,startTranslate:data.currentTranslate});data.loopSwapReset=true;data.startTranslate=data.currentTranslate;return}swiper.emit("sliderMove",e);data.isMoved=true;data.currentTranslate=diff+data.startTranslate;let disableParentSwiper=true;let resistanceRatio=params.resistanceRatio;if(params.touchReleaseOnEdges){resistanceRatio=0}if(diff>0){if(isLoop&&allowLoopFix&&!loopFixed&&data.allowThresholdMove&&data.currentTranslate>(params.centeredSlides?swiper.minTranslate()-swiper.slidesSizesGrid[swiper.activeIndex+1]-(params.slidesPerView!=="auto"&&swiper.slides.length-params.slidesPerView>=2?swiper.slidesSizesGrid[swiper.activeIndex+1]+swiper.params.spaceBetween:0)-swiper.params.spaceBetween:swiper.minTranslate())){swiper.loopFix({direction:"prev",setTranslate:true,activeSlideIndex:0})}if(data.currentTranslate>swiper.minTranslate()){disableParentSwiper=false;if(params.resistance){data.currentTranslate=swiper.minTranslate()-1+(-swiper.minTranslate()+data.startTranslate+diff)**resistanceRatio}}}else if(diff<0){if(isLoop&&allowLoopFix&&!loopFixed&&data.allowThresholdMove&&data.currentTranslate<(params.centeredSlides?swiper.maxTranslate()+swiper.slidesSizesGrid[swiper.slidesSizesGrid.length-1]+swiper.params.spaceBetween+(params.slidesPerView!=="auto"&&swiper.slides.length-params.slidesPerView>=2?swiper.slidesSizesGrid[swiper.slidesSizesGrid.length-1]+swiper.params.spaceBetween:0):swiper.maxTranslate())){swiper.loopFix({direction:"next",setTranslate:true,activeSlideIndex:swiper.slides.length-(params.slidesPerView==="auto"?swiper.slidesPerViewDynamic():Math.ceil(parseFloat(params.slidesPerView,10)))})}if(data.currentTranslate<swiper.maxTranslate()){disableParentSwiper=false;if(params.resistance){data.currentTranslate=swiper.maxTranslate()+1-(swiper.maxTranslate()-data.startTranslate-diff)**resistanceRatio}}}if(disableParentSwiper){e.preventedByNestedSwiper=true}if(!swiper.allowSlideNext&&swiper.swipeDirection==="next"&&data.currentTranslate<data.startTranslate){data.currentTranslate=data.startTranslate}if(!swiper.allowSlidePrev&&swiper.swipeDirection==="prev"&&data.currentTranslate>data.startTranslate){data.currentTranslate=data.startTranslate}if(!swiper.allowSlidePrev&&!swiper.allowSlideNext){data.currentTranslate=data.startTranslate}if(params.threshold>0){if(Math.abs(diff)>params.threshold||data.allowThresholdMove){if(!data.allowThresholdMove){data.allowThresholdMove=true;touches.startX=touches.currentX;touches.startY=touches.currentY;data.currentTranslate=data.startTranslate;touches.diff=swiper.isHorizontal()?touches.currentX-touches.startX:touches.currentY-touches.startY;return}}else{data.currentTranslate=data.startTranslate;return}}if(!params.followFinger||params.cssMode)return;if(params.freeMode&&params.freeMode.enabled&&swiper.freeMode||params.watchSlidesProgress){swiper.updateActiveIndex();swiper.updateSlidesClasses()}if(params.freeMode&&params.freeMode.enabled&&swiper.freeMode){swiper.freeMode.onTouchMove()}swiper.updateProgress(data.currentTranslate);swiper.setTranslate(data.currentTranslate)}function onTouchEnd(event2){const swiper=this;const data=swiper.touchEventsData;let e=event2;if(e.originalEvent)e=e.originalEvent;let targetTouch;const isTouchEvent=e.type==="touchend"||e.type==="touchcancel";if(!isTouchEvent){if(data.touchId!==null)return;if(e.pointerId!==data.pointerId)return;targetTouch=e}else{targetTouch=[...e.changedTouches].find(t=>t.identifier===data.touchId);if(!targetTouch||targetTouch.identifier!==data.touchId)return}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(e.type)){const proceed=["pointercancel","contextmenu"].includes(e.type)&&(swiper.browser.isSafari||swiper.browser.isWebView);if(!proceed){return}}data.pointerId=null;data.touchId=null;const{params,touches,rtlTranslate:rtl,slidesGrid,enabled}=swiper;if(!enabled)return;if(!params.simulateTouch&&e.pointerType==="mouse")return;if(data.allowTouchCallbacks){swiper.emit("touchEnd",e)}data.allowTouchCallbacks=false;if(!data.isTouched){if(data.isMoved&&params.grabCursor){swiper.setGrabCursor(false)}data.isMoved=false;data.startMoving=false;return}if(params.grabCursor&&data.isMoved&&data.isTouched&&(swiper.allowSlideNext===true||swiper.allowSlidePrev===true)){swiper.setGrabCursor(false)}const touchEndTime=now();const timeDiff=touchEndTime-data.touchStartTime;if(swiper.allowClick){const pathTree=e.path||e.composedPath&&e.composedPath();swiper.updateClickedSlide(pathTree&&pathTree[0]||e.target,pathTree);swiper.emit("tap click",e);if(timeDiff<300&&touchEndTime-data.lastClickTime<300){swiper.emit("doubleTap doubleClick",e)}}data.lastClickTime=now();nextTick(()=>{if(!swiper.destroyed)swiper.allowClick=true});if(!data.isTouched||!data.isMoved||!swiper.swipeDirection||touches.diff===0&&!data.loopSwapReset||data.currentTranslate===data.startTranslate&&!data.loopSwapReset){data.isTouched=false;data.isMoved=false;data.startMoving=false;return}data.isTouched=false;data.isMoved=false;data.startMoving=false;let currentPos;if(params.followFinger){currentPos=rtl?swiper.translate:-swiper.translate}else{currentPos=-data.currentTranslate}if(params.cssMode){return}if(params.freeMode&&params.freeMode.enabled){swiper.freeMode.onTouchEnd({currentPos});return}const swipeToLast=currentPos>=-swiper.maxTranslate()&&!swiper.params.loop;let stopIndex=0;let groupSize=swiper.slidesSizesGrid[0];for(let i=0;i<slidesGrid.length;i+=i<params.slidesPerGroupSkip?1:params.slidesPerGroup){const increment2=i<params.slidesPerGroupSkip-1?1:params.slidesPerGroup;if(typeof slidesGrid[i+increment2]!=="undefined"){if(swipeToLast||currentPos>=slidesGrid[i]&&currentPos<slidesGrid[i+increment2]){stopIndex=i;groupSize=slidesGrid[i+increment2]-slidesGrid[i]}}else if(swipeToLast||currentPos>=slidesGrid[i]){stopIndex=i;groupSize=slidesGrid[slidesGrid.length-1]-slidesGrid[slidesGrid.length-2]}}let rewindFirstIndex=null;let rewindLastIndex=null;if(params.rewind){if(swiper.isBeginning){rewindLastIndex=params.virtual&&params.virtual.enabled&&swiper.virtual?swiper.virtual.slides.length-1:swiper.slides.length-1}else if(swiper.isEnd){rewindFirstIndex=0}}const ratio=(currentPos-slidesGrid[stopIndex])/groupSize;const increment=stopIndex<params.slidesPerGroupSkip-1?1:params.slidesPerGroup;if(timeDiff>params.longSwipesMs){if(!params.longSwipes){swiper.slideTo(swiper.activeIndex);return}if(swiper.swipeDirection==="next"){if(ratio>=params.longSwipesRatio)swiper.slideTo(params.rewind&&swiper.isEnd?rewindFirstIndex:stopIndex+increment);else swiper.slideTo(stopIndex)}if(swiper.swipeDirection==="prev"){if(ratio>1-params.longSwipesRatio){swiper.slideTo(stopIndex+increment)}else if(rewindLastIndex!==null&&ratio<0&&Math.abs(ratio)>params.longSwipesRatio){swiper.slideTo(rewindLastIndex)}else{swiper.slideTo(stopIndex)}}}else{if(!params.shortSwipes){swiper.slideTo(swiper.activeIndex);return}const isNavButtonTarget=swiper.navigation&&(e.target===swiper.navigation.nextEl||e.target===swiper.navigation.prevEl);if(!isNavButtonTarget){if(swiper.swipeDirection==="next"){swiper.slideTo(rewindFirstIndex!==null?rewindFirstIndex:stopIndex+increment)}if(swiper.swipeDirection==="prev"){swiper.slideTo(rewindLastIndex!==null?rewindLastIndex:stopIndex)}}else if(e.target===swiper.navigation.nextEl){swiper.slideTo(stopIndex+increment)}else{swiper.slideTo(stopIndex)}}}function onResize(){const swiper=this;const{params,el}=swiper;if(el&&el.offsetWidth===0)return;if(params.breakpoints){swiper.setBreakpoint()}const{allowSlideNext,allowSlidePrev,snapGrid}=swiper;const isVirtual=swiper.virtual&&swiper.params.virtual.enabled;swiper.allowSlideNext=true;swiper.allowSlidePrev=true;swiper.updateSize();swiper.updateSlides();swiper.updateSlidesClasses();const isVirtualLoop=isVirtual&&params.loop;if((params.slidesPerView==="auto"||params.slidesPerView>1)&&swiper.isEnd&&!swiper.isBeginning&&!swiper.params.centeredSlides&&!isVirtualLoop){swiper.slideTo(swiper.slides.length-1,0,false,true)}else{if(swiper.params.loop&&!isVirtual){swiper.slideToLoop(swiper.realIndex,0,false,true)}else{swiper.slideTo(swiper.activeIndex,0,false,true)}}if(swiper.autoplay&&swiper.autoplay.running&&swiper.autoplay.paused){clearTimeout(swiper.autoplay.resizeTimeout);swiper.autoplay.resizeTimeout=setTimeout(()=>{if(swiper.autoplay&&swiper.autoplay.running&&swiper.autoplay.paused){swiper.autoplay.resume()}},500)}swiper.allowSlidePrev=allowSlidePrev;swiper.allowSlideNext=allowSlideNext;if(swiper.params.watchOverflow&&snapGrid!==swiper.snapGrid){swiper.checkOverflow()}}function onClick(e){const swiper=this;if(!swiper.enabled)return;if(!swiper.allowClick){if(swiper.params.preventClicks)e.preventDefault();if(swiper.params.preventClicksPropagation&&swiper.animating){e.stopPropagation();e.stopImmediatePropagation()}}}function onScroll(){const swiper=this;const{wrapperEl,rtlTranslate,enabled}=swiper;if(!enabled)return;swiper.previousTranslate=swiper.translate;if(swiper.isHorizontal()){swiper.translate=-wrapperEl.scrollLeft}else{swiper.translate=-wrapperEl.scrollTop}if(swiper.translate===0)swiper.translate=0;swiper.updateActiveIndex();swiper.updateSlidesClasses();let newProgress;const translatesDiff=swiper.maxTranslate()-swiper.minTranslate();if(translatesDiff===0){newProgress=0}else{newProgress=(swiper.translate-swiper.minTranslate())/translatesDiff}if(newProgress!==swiper.progress){swiper.updateProgress(rtlTranslate?-swiper.translate:swiper.translate)}swiper.emit("setTranslate",swiper.translate,false)}function onLoad(e){const swiper=this;processLazyPreloader(swiper,e.target);if(swiper.params.cssMode||swiper.params.slidesPerView!=="auto"&&!swiper.params.autoHeight){return}swiper.update()}function onDocumentTouchStart(){const swiper=this;if(swiper.documentTouchHandlerProceeded)return;swiper.documentTouchHandlerProceeded=true;if(swiper.params.touchReleaseOnEdges){swiper.el.style.touchAction="auto"}}var events=(swiper,method)=>{const document2=getDocument();const{params,el,wrapperEl,device}=swiper;const capture=!!params.nested;const domMethod=method==="on"?"addEventListener":"removeEventListener";const swiperMethod=method;if(!el||typeof el==="string")return;document2[domMethod]("touchstart",swiper.onDocumentTouchStart,{passive:false,capture});el[domMethod]("touchstart",swiper.onTouchStart,{passive:false});el[domMethod]("pointerdown",swiper.onTouchStart,{passive:false});document2[domMethod]("touchmove",swiper.onTouchMove,{passive:false,capture});document2[domMethod]("pointermove",swiper.onTouchMove,{passive:false,capture});document2[domMethod]("touchend",swiper.onTouchEnd,{passive:true});document2[domMethod]("pointerup",swiper.onTouchEnd,{passive:true});document2[domMethod]("pointercancel",swiper.onTouchEnd,{passive:true});document2[domMethod]("touchcancel",swiper.onTouchEnd,{passive:true});document2[domMethod]("pointerout",swiper.onTouchEnd,{passive:true});document2[domMethod]("pointerleave",swiper.onTouchEnd,{passive:true});document2[domMethod]("contextmenu",swiper.onTouchEnd,{passive:true});if(params.preventClicks||params.preventClicksPropagation){el[domMethod]("click",swiper.onClick,true)}if(params.cssMode){wrapperEl[domMethod]("scroll",swiper.onScroll)}if(params.updateOnWindowResize){swiper[swiperMethod](device.ios||device.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,true)}else{swiper[swiperMethod]("observerUpdate",onResize,true)}el[domMethod]("load",swiper.onLoad,{capture:true})};function attachEvents(){const swiper=this;const{params}=swiper;swiper.onTouchStart=onTouchStart.bind(swiper);swiper.onTouchMove=onTouchMove.bind(swiper);swiper.onTouchEnd=onTouchEnd.bind(swiper);swiper.onDocumentTouchStart=onDocumentTouchStart.bind(swiper);if(params.cssMode){swiper.onScroll=onScroll.bind(swiper)}swiper.onClick=onClick.bind(swiper);swiper.onLoad=onLoad.bind(swiper);events(swiper,"on")}function detachEvents(){const swiper=this;events(swiper,"off")}var events$1={attachEvents,detachEvents};var isGridEnabled=(swiper,params)=>{return swiper.grid&&params.grid&&params.grid.rows>1};function setBreakpoint(){const swiper=this;const{realIndex,initialized,params,el}=swiper;const breakpoints2=params.breakpoints;if(!breakpoints2||breakpoints2&&Object.keys(breakpoints2).length===0)return;const document2=getDocument();const breakpointsBase=params.breakpointsBase==="window"||!params.breakpointsBase?params.breakpointsBase:"container";const breakpointContainer=["window","container"].includes(params.breakpointsBase)||!params.breakpointsBase?swiper.el:document2.querySelector(params.breakpointsBase);const breakpoint=swiper.getBreakpoint(breakpoints2,breakpointsBase,breakpointContainer);if(!breakpoint||swiper.currentBreakpoint===breakpoint)return;const breakpointOnlyParams=breakpoint in breakpoints2?breakpoints2[breakpoint]:void 0;const breakpointParams=breakpointOnlyParams||swiper.originalParams;const wasMultiRow=isGridEnabled(swiper,params);const isMultiRow=isGridEnabled(swiper,breakpointParams);const wasGrabCursor=swiper.params.grabCursor;const isGrabCursor=breakpointParams.grabCursor;const wasEnabled=params.enabled;if(wasMultiRow&&!isMultiRow){el.classList.remove(`${params.containerModifierClass}grid`,`${params.containerModifierClass}grid-column`);swiper.emitContainerClasses()}else if(!wasMultiRow&&isMultiRow){el.classList.add(`${params.containerModifierClass}grid`);if(breakpointParams.grid.fill&&breakpointParams.grid.fill==="column"||!breakpointParams.grid.fill&&params.grid.fill==="column"){el.classList.add(`${params.containerModifierClass}grid-column`)}swiper.emitContainerClasses()}if(wasGrabCursor&&!isGrabCursor){swiper.unsetGrabCursor()}else if(!wasGrabCursor&&isGrabCursor){swiper.setGrabCursor()}["navigation","pagination","scrollbar"].forEach(prop=>{if(typeof breakpointParams[prop]==="undefined")return;const wasModuleEnabled=params[prop]&&params[prop].enabled;const isModuleEnabled=breakpointParams[prop]&&breakpointParams[prop].enabled;if(wasModuleEnabled&&!isModuleEnabled){swiper[prop].disable()}if(!wasModuleEnabled&&isModuleEnabled){swiper[prop].enable()}});const directionChanged=breakpointParams.direction&&breakpointParams.direction!==params.direction;const needsReLoop=params.loop&&(breakpointParams.slidesPerView!==params.slidesPerView||directionChanged);const wasLoop=params.loop;if(directionChanged&&initialized){swiper.changeDirection()}extend2(swiper.params,breakpointParams);const isEnabled=swiper.params.enabled;const hasLoop=swiper.params.loop;Object.assign(swiper,{allowTouchMove:swiper.params.allowTouchMove,allowSlideNext:swiper.params.allowSlideNext,allowSlidePrev:swiper.params.allowSlidePrev});if(wasEnabled&&!isEnabled){swiper.disable()}else if(!wasEnabled&&isEnabled){swiper.enable()}swiper.currentBreakpoint=breakpoint;swiper.emit("_beforeBreakpoint",breakpointParams);if(initialized){if(needsReLoop){swiper.loopDestroy();swiper.loopCreate(realIndex);swiper.updateSlides()}else if(!wasLoop&&hasLoop){swiper.loopCreate(realIndex);swiper.updateSlides()}else if(wasLoop&&!hasLoop){swiper.loopDestroy()}}swiper.emit("breakpoint",breakpointParams)}function getBreakpoint(breakpoints2,base,containerEl){if(base===void 0){base="window"}if(!breakpoints2||base==="container"&&!containerEl)return void 0;let breakpoint=false;const window2=getWindow();const currentHeight=base==="window"?window2.innerHeight:containerEl.clientHeight;const points=Object.keys(breakpoints2).map(point=>{if(typeof point==="string"&&point.indexOf("@")===0){const minRatio=parseFloat(point.substr(1));const value=currentHeight*minRatio;return{value,point}}return{value:point,point}});points.sort((a,b)=>parseInt(a.value,10)-parseInt(b.value,10));for(let i=0;i<points.length;i+=1){const{point,value}=points[i];if(base==="window"){if(window2.matchMedia(`(min-width: ${value}px)`).matches){breakpoint=point}}else if(value<=containerEl.clientWidth){breakpoint=point}}return breakpoint||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(entries,prefix){const resultClasses=[];entries.forEach(item=>{if(typeof item==="object"){Object.keys(item).forEach(classNames=>{if(item[classNames]){resultClasses.push(prefix+classNames)}})}else if(typeof item==="string"){resultClasses.push(prefix+item)}});return resultClasses}function addClasses(){const swiper=this;const{classNames,params,rtl,el,device}=swiper;const suffixes=prepareClasses(["initialized",params.direction,{"free-mode":swiper.params.freeMode&&params.freeMode.enabled},{"autoheight":params.autoHeight},{"rtl":rtl},{"grid":params.grid&&params.grid.rows>1},{"grid-column":params.grid&&params.grid.rows>1&&params.grid.fill==="column"},{"android":device.android},{"ios":device.ios},{"css-mode":params.cssMode},{"centered":params.cssMode&&params.centeredSlides},{"watch-progress":params.watchSlidesProgress}],params.containerModifierClass);classNames.push(...suffixes);el.classList.add(...classNames);swiper.emitContainerClasses()}function removeClasses(){const swiper=this;const{el,classNames}=swiper;if(!el||typeof el==="string")return;el.classList.remove(...classNames);swiper.emitContainerClasses()}var classes={addClasses,removeClasses};function checkOverflow(){const swiper=this;const{isLocked:wasLocked,params}=swiper;const{slidesOffsetBefore}=params;if(slidesOffsetBefore){const lastSlideIndex=swiper.slides.length-1;const lastSlideRightEdge=swiper.slidesGrid[lastSlideIndex]+swiper.slidesSizesGrid[lastSlideIndex]+slidesOffsetBefore*2;swiper.isLocked=swiper.size>lastSlideRightEdge}else{swiper.isLocked=swiper.snapGrid.length===1}if(params.allowSlideNext===true){swiper.allowSlideNext=!swiper.isLocked}if(params.allowSlidePrev===true){swiper.allowSlidePrev=!swiper.isLocked}if(wasLocked&&wasLocked!==swiper.isLocked){swiper.isEnd=false}if(wasLocked!==swiper.isLocked){swiper.emit(swiper.isLocked?"lock":"unlock")}}var checkOverflow$1={checkOverflow};var defaults={init:true,direction:"horizontal",oneWayMovement:false,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:false,updateOnWindowResize:true,resizeObserver:true,nested:false,createElements:false,eventsPrefix:"swiper",enabled:true,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:false,userAgent:null,url:null,edgeSwipeDetection:false,edgeSwipeThreshold:20,autoHeight:false,setWrapperSize:false,virtualTranslate:false,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:false,centeredSlides:false,centeredSlidesBounds:false,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:true,centerInsufficientSlides:false,watchOverflow:true,roundLengths:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,allowTouchMove:true,threshold:5,touchMoveStopPropagation:false,touchStartPreventDefault:true,touchStartForcePreventDefault:false,touchReleaseOnEdges:false,uniqueNavElements:true,resistance:true,resistanceRatio:.85,watchSlidesProgress:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,loop:false,loopAddBlankSlides:true,loopAdditionalSlides:0,loopPreventsSliding:true,rewind:false,allowSlidePrev:true,allowSlideNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:true,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:true,_emitClasses:false};function moduleExtendParams(params,allModulesParams){return function extendParams(obj){if(obj===void 0){obj={}}const moduleParamName=Object.keys(obj)[0];const moduleParams=obj[moduleParamName];if(typeof moduleParams!=="object"||moduleParams===null){extend2(allModulesParams,obj);return}if(params[moduleParamName]===true){params[moduleParamName]={enabled:true}}if(moduleParamName==="navigation"&&params[moduleParamName]&&params[moduleParamName].enabled&&!params[moduleParamName].prevEl&&!params[moduleParamName].nextEl){params[moduleParamName].auto=true}if(["pagination","scrollbar"].indexOf(moduleParamName)>=0&&params[moduleParamName]&&params[moduleParamName].enabled&&!params[moduleParamName].el){params[moduleParamName].auto=true}if(!(moduleParamName in params&&"enabled"in moduleParams)){extend2(allModulesParams,obj);return}if(typeof params[moduleParamName]==="object"&&!("enabled"in params[moduleParamName])){params[moduleParamName].enabled=true}if(!params[moduleParamName])params[moduleParamName]={enabled:false};extend2(allModulesParams,obj)}}var prototypes={eventsEmitter,update,translate,transition,slide,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes};var extendedDefaults={};var Swiper=class _Swiper{constructor(){let el;let params;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(args.length===1&&args[0].constructor&&Object.prototype.toString.call(args[0]).slice(8,-1)==="Object"){params=args[0]}else{[el,params]=args}if(!params)params={};params=extend2({},params);if(el&&!params.el)params.el=el;const document2=getDocument();if(params.el&&typeof params.el==="string"&&document2.querySelectorAll(params.el).length>1){const swipers=[];document2.querySelectorAll(params.el).forEach(containerEl=>{const newParams=extend2({},params,{el:containerEl});swipers.push(new _Swiper(newParams))});return swipers}const swiper=this;swiper.__swiper__=true;swiper.support=getSupport();swiper.device=getDevice({userAgent:params.userAgent});swiper.browser=getBrowser();swiper.eventsListeners={};swiper.eventsAnyListeners=[];swiper.modules=[...swiper.__modules__];if(params.modules&&Array.isArray(params.modules)){swiper.modules.push(...params.modules)}const allModulesParams={};swiper.modules.forEach(mod=>{mod({params,swiper,extendParams:moduleExtendParams(params,allModulesParams),on:swiper.on.bind(swiper),once:swiper.once.bind(swiper),off:swiper.off.bind(swiper),emit:swiper.emit.bind(swiper)})});const swiperParams=extend2({},defaults,allModulesParams);swiper.params=extend2({},swiperParams,extendedDefaults,params);swiper.originalParams=extend2({},swiper.params);swiper.passedParams=extend2({},params);if(swiper.params&&swiper.params.on){Object.keys(swiper.params.on).forEach(eventName=>{swiper.on(eventName,swiper.params.on[eventName])})}if(swiper.params&&swiper.params.onAny){swiper.onAny(swiper.params.onAny)}Object.assign(swiper,{enabled:swiper.params.enabled,el,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return swiper.params.direction==="horizontal"},isVertical(){return swiper.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:true,isEnd:false,translate:0,previousTranslate:0,progress:0,velocity:0,animating:false,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:swiper.params.allowSlideNext,allowSlidePrev:swiper.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:swiper.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:true,allowTouchMove:swiper.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0});swiper.emit("_swiper");if(swiper.params.init){swiper.init()}return swiper}getDirectionLabel(property){if(this.isHorizontal()){return property}return{"width":"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom","marginRight":"marginBottom"}[property]}getSlideIndex(slideEl){const{slidesEl,params}=this;const slides=elementChildren(slidesEl,`.${params.slideClass}, swiper-slide`);const firstSlideIndex=elementIndex(slides[0]);return elementIndex(slideEl)-firstSlideIndex}getSlideIndexByData(index){return this.getSlideIndex(this.slides.find(slideEl=>slideEl.getAttribute("data-swiper-slide-index")*1===index))}getSlideIndexWhenGrid(index){if(this.grid&&this.params.grid&&this.params.grid.rows>1){if(this.params.grid.fill==="column"){index=Math.floor(index/this.params.grid.rows)}else if(this.params.grid.fill==="row"){index=index%Math.ceil(this.slides.length/this.params.grid.rows)}}return index}recalcSlides(){const swiper=this;const{slidesEl,params}=swiper;swiper.slides=elementChildren(slidesEl,`.${params.slideClass}, swiper-slide`)}enable(){const swiper=this;if(swiper.enabled)return;swiper.enabled=true;if(swiper.params.grabCursor){swiper.setGrabCursor()}swiper.emit("enable")}disable(){const swiper=this;if(!swiper.enabled)return;swiper.enabled=false;if(swiper.params.grabCursor){swiper.unsetGrabCursor()}swiper.emit("disable")}setProgress(progress,speed){const swiper=this;progress=Math.min(Math.max(progress,0),1);const min=swiper.minTranslate();const max=swiper.maxTranslate();const current=(max-min)*progress+min;swiper.translateTo(current,typeof speed==="undefined"?0:speed);swiper.updateActiveIndex();swiper.updateSlidesClasses()}emitContainerClasses(){const swiper=this;if(!swiper.params._emitClasses||!swiper.el)return;const cls=swiper.el.className.split(" ").filter(className=>{return className.indexOf("swiper")===0||className.indexOf(swiper.params.containerModifierClass)===0});swiper.emit("_containerClasses",cls.join(" "))}getSlideClasses(slideEl){const swiper=this;if(swiper.destroyed)return"";return slideEl.className.split(" ").filter(className=>{return className.indexOf("swiper-slide")===0||className.indexOf(swiper.params.slideClass)===0}).join(" ")}emitSlidesClasses(){const swiper=this;if(!swiper.params._emitClasses||!swiper.el)return;const updates=[];swiper.slides.forEach(slideEl=>{const classNames=swiper.getSlideClasses(slideEl);updates.push({slideEl,classNames});swiper.emit("_slideClass",slideEl,classNames)});swiper.emit("_slideClasses",updates)}slidesPerViewDynamic(view,exact){if(view===void 0){view="current"}if(exact===void 0){exact=false}const swiper=this;const{params,slides,slidesGrid,slidesSizesGrid,size:swiperSize,activeIndex}=swiper;let spv=1;if(typeof params.slidesPerView==="number")return params.slidesPerView;if(params.centeredSlides){let slideSize=slides[activeIndex]?Math.ceil(slides[activeIndex].swiperSlideSize):0;let breakLoop;for(let i=activeIndex+1;i<slides.length;i+=1){if(slides[i]&&!breakLoop){slideSize+=Math.ceil(slides[i].swiperSlideSize);spv+=1;if(slideSize>swiperSize)breakLoop=true}}for(let i=activeIndex-1;i>=0;i-=1){if(slides[i]&&!breakLoop){slideSize+=slides[i].swiperSlideSize;spv+=1;if(slideSize>swiperSize)breakLoop=true}}}else{if(view==="current"){for(let i=activeIndex+1;i<slides.length;i+=1){const slideInView=exact?slidesGrid[i]+slidesSizesGrid[i]-slidesGrid[activeIndex]<swiperSize:slidesGrid[i]-slidesGrid[activeIndex]<swiperSize;if(slideInView){spv+=1}}}else{for(let i=activeIndex-1;i>=0;i-=1){const slideInView=slidesGrid[activeIndex]-slidesGrid[i]<swiperSize;if(slideInView){spv+=1}}}}return spv}update(){const swiper=this;if(!swiper||swiper.destroyed)return;const{snapGrid,params}=swiper;if(params.breakpoints){swiper.setBreakpoint()}[...swiper.el.querySelectorAll('[loading="lazy"]')].forEach(imageEl=>{if(imageEl.complete){processLazyPreloader(swiper,imageEl)}});swiper.updateSize();swiper.updateSlides();swiper.updateProgress();swiper.updateSlidesClasses();function setTranslate2(){const translateValue=swiper.rtlTranslate?swiper.translate*-1:swiper.translate;const newTranslate=Math.min(Math.max(translateValue,swiper.maxTranslate()),swiper.minTranslate());swiper.setTranslate(newTranslate);swiper.updateActiveIndex();swiper.updateSlidesClasses()}let translated;if(params.freeMode&&params.freeMode.enabled&&!params.cssMode){setTranslate2();if(params.autoHeight){swiper.updateAutoHeight()}}else{if((params.slidesPerView==="auto"||params.slidesPerView>1)&&swiper.isEnd&&!params.centeredSlides){const slides=swiper.virtual&&params.virtual.enabled?swiper.virtual.slides:swiper.slides;translated=swiper.slideTo(slides.length-1,0,false,true)}else{translated=swiper.slideTo(swiper.activeIndex,0,false,true)}if(!translated){setTranslate2()}}if(params.watchOverflow&&snapGrid!==swiper.snapGrid){swiper.checkOverflow()}swiper.emit("update")}changeDirection(newDirection,needUpdate){if(needUpdate===void 0){needUpdate=true}const swiper=this;const currentDirection=swiper.params.direction;if(!newDirection){newDirection=currentDirection==="horizontal"?"vertical":"horizontal"}if(newDirection===currentDirection||newDirection!=="horizontal"&&newDirection!=="vertical"){return swiper}swiper.el.classList.remove(`${swiper.params.containerModifierClass}${currentDirection}`);swiper.el.classList.add(`${swiper.params.containerModifierClass}${newDirection}`);swiper.emitContainerClasses();swiper.params.direction=newDirection;swiper.slides.forEach(slideEl=>{if(newDirection==="vertical"){slideEl.style.width=""}else{slideEl.style.height=""}});swiper.emit("changeDirection");if(needUpdate)swiper.update();return swiper}changeLanguageDirection(direction){const swiper=this;if(swiper.rtl&&direction==="rtl"||!swiper.rtl&&direction==="ltr")return;swiper.rtl=direction==="rtl";swiper.rtlTranslate=swiper.params.direction==="horizontal"&&swiper.rtl;if(swiper.rtl){swiper.el.classList.add(`${swiper.params.containerModifierClass}rtl`);swiper.el.dir="rtl"}else{swiper.el.classList.remove(`${swiper.params.containerModifierClass}rtl`);swiper.el.dir="ltr"}swiper.update()}mount(element){const swiper=this;if(swiper.mounted)return true;let el=element||swiper.params.el;if(typeof el==="string"){el=document.querySelector(el)}if(!el){return false}el.swiper=swiper;if(el.parentNode&&el.parentNode.host&&el.parentNode.host.nodeName===swiper.params.swiperElementNodeName.toUpperCase()){swiper.isElement=true}const getWrapperSelector=()=>{return`.${(swiper.params.wrapperClass||"").trim().split(" ").join(".")}`};const getWrapper=()=>{if(el&&el.shadowRoot&&el.shadowRoot.querySelector){const res=el.shadowRoot.querySelector(getWrapperSelector());return res}return elementChildren(el,getWrapperSelector())[0]};let wrapperEl=getWrapper();if(!wrapperEl&&swiper.params.createElements){wrapperEl=createElement("div",swiper.params.wrapperClass);el.append(wrapperEl);elementChildren(el,`.${swiper.params.slideClass}`).forEach(slideEl=>{wrapperEl.append(slideEl)})}Object.assign(swiper,{el,wrapperEl,slidesEl:swiper.isElement&&!el.parentNode.host.slideSlots?el.parentNode.host:wrapperEl,hostEl:swiper.isElement?el.parentNode.host:el,mounted:true,rtl:el.dir.toLowerCase()==="rtl"||elementStyle(el,"direction")==="rtl",rtlTranslate:swiper.params.direction==="horizontal"&&(el.dir.toLowerCase()==="rtl"||elementStyle(el,"direction")==="rtl"),wrongRTL:elementStyle(wrapperEl,"display")==="-webkit-box"});return true}init(el){const swiper=this;if(swiper.initialized)return swiper;const mounted=swiper.mount(el);if(mounted===false)return swiper;swiper.emit("beforeInit");if(swiper.params.breakpoints){swiper.setBreakpoint()}swiper.addClasses();swiper.updateSize();swiper.updateSlides();if(swiper.params.watchOverflow){swiper.checkOverflow()}if(swiper.params.grabCursor&&swiper.enabled){swiper.setGrabCursor()}if(swiper.params.loop&&swiper.virtual&&swiper.params.virtual.enabled){swiper.slideTo(swiper.params.initialSlide+swiper.virtual.slidesBefore,0,swiper.params.runCallbacksOnInit,false,true)}else{swiper.slideTo(swiper.params.initialSlide,0,swiper.params.runCallbacksOnInit,false,true)}if(swiper.params.loop){swiper.loopCreate(void 0,true)}swiper.attachEvents();const lazyElements=[...swiper.el.querySelectorAll('[loading="lazy"]')];if(swiper.isElement){lazyElements.push(...swiper.hostEl.querySelectorAll('[loading="lazy"]'))}lazyElements.forEach(imageEl=>{if(imageEl.complete){processLazyPreloader(swiper,imageEl)}else{imageEl.addEventListener("load",e=>{processLazyPreloader(swiper,e.target)})}});preload(swiper);swiper.initialized=true;preload(swiper);swiper.emit("init");swiper.emit("afterInit");return swiper}destroy(deleteInstance,cleanStyles){if(deleteInstance===void 0){deleteInstance=true}if(cleanStyles===void 0){cleanStyles=true}const swiper=this;const{params,el,wrapperEl,slides}=swiper;if(typeof swiper.params==="undefined"||swiper.destroyed){return null}swiper.emit("beforeDestroy");swiper.initialized=false;swiper.detachEvents();if(params.loop){swiper.loopDestroy()}if(cleanStyles){swiper.removeClasses();if(el&&typeof el!=="string"){el.removeAttribute("style")}if(wrapperEl){wrapperEl.removeAttribute("style")}if(slides&&slides.length){slides.forEach(slideEl=>{slideEl.classList.remove(params.slideVisibleClass,params.slideFullyVisibleClass,params.slideActiveClass,params.slideNextClass,params.slidePrevClass);slideEl.removeAttribute("style");slideEl.removeAttribute("data-swiper-slide-index")})}}swiper.emit("destroy");Object.keys(swiper.eventsListeners).forEach(eventName=>{swiper.off(eventName)});if(deleteInstance!==false){if(swiper.el&&typeof swiper.el!=="string"){swiper.el.swiper=null}deleteProps(swiper)}swiper.destroyed=true;return null}static extendDefaults(newDefaults){extend2(extendedDefaults,newDefaults)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults}static installModule(mod){if(!_Swiper.prototype.__modules__)_Swiper.prototype.__modules__=[];const modules=_Swiper.prototype.__modules__;if(typeof mod==="function"&&modules.indexOf(mod)<0){modules.push(mod)}}static use(module){if(Array.isArray(module)){module.forEach(m=>_Swiper.installModule(m));return _Swiper}_Swiper.installModule(module);return _Swiper}};Object.keys(prototypes).forEach(prototypeGroup=>{Object.keys(prototypes[prototypeGroup]).forEach(protoMethod=>{Swiper.prototype[protoMethod]=prototypes[prototypeGroup][protoMethod]})});Swiper.use([Resize,Observer]);function createElementIfNotDefined(swiper,originalParams,params,checkProps){if(swiper.params.createElements){Object.keys(checkProps).forEach(key=>{if(!params[key]&&params.auto===true){let element=elementChildren(swiper.el,`.${checkProps[key]}`)[0];if(!element){element=createElement("div",checkProps[key]);element.className=checkProps[key];swiper.el.append(element)}params[key]=element;originalParams[key]=element}})}return params}function Navigation(_ref){let{swiper,extendParams,on,emit}=_ref;extendParams({navigation:{nextEl:null,prevEl:null,hideOnClick:false,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}});swiper.navigation={nextEl:null,prevEl:null};function getEl(el){let res;if(el&&typeof el==="string"&&swiper.isElement){res=swiper.el.querySelector(el)||swiper.hostEl.querySelector(el);if(res)return res}if(el){if(typeof el==="string")res=[...document.querySelectorAll(el)];if(swiper.params.uniqueNavElements&&typeof el==="string"&&res&&res.length>1&&swiper.el.querySelectorAll(el).length===1){res=swiper.el.querySelector(el)}else if(res&&res.length===1){res=res[0]}}if(el&&!res)return el;return res}function toggleEl(el,disabled){const params=swiper.params.navigation;el=makeElementsArray(el);el.forEach(subEl=>{if(subEl){subEl.classList[disabled?"add":"remove"](...params.disabledClass.split(" "));if(subEl.tagName==="BUTTON")subEl.disabled=disabled;if(swiper.params.watchOverflow&&swiper.enabled){subEl.classList[swiper.isLocked?"add":"remove"](params.lockClass)}}})}function update2(){const{nextEl,prevEl}=swiper.navigation;if(swiper.params.loop){toggleEl(prevEl,false);toggleEl(nextEl,false);return}toggleEl(prevEl,swiper.isBeginning&&!swiper.params.rewind);toggleEl(nextEl,swiper.isEnd&&!swiper.params.rewind)}function onPrevClick(e){e.preventDefault();if(swiper.isBeginning&&!swiper.params.loop&&!swiper.params.rewind)return;swiper.slidePrev();emit("navigationPrev")}function onNextClick(e){e.preventDefault();if(swiper.isEnd&&!swiper.params.loop&&!swiper.params.rewind)return;swiper.slideNext();emit("navigationNext")}function init(){const params=swiper.params.navigation;swiper.params.navigation=createElementIfNotDefined(swiper,swiper.originalParams.navigation,swiper.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"});if(!(params.nextEl||params.prevEl))return;let nextEl=getEl(params.nextEl);let prevEl=getEl(params.prevEl);Object.assign(swiper.navigation,{nextEl,prevEl});nextEl=makeElementsArray(nextEl);prevEl=makeElementsArray(prevEl);const initButton=(el,dir)=>{if(el){el.addEventListener("click",dir==="next"?onNextClick:onPrevClick)}if(!swiper.enabled&&el){el.classList.add(...params.lockClass.split(" "))}};nextEl.forEach(el=>initButton(el,"next"));prevEl.forEach(el=>initButton(el,"prev"))}function destroy(){let{nextEl,prevEl}=swiper.navigation;nextEl=makeElementsArray(nextEl);prevEl=makeElementsArray(prevEl);const destroyButton=(el,dir)=>{el.removeEventListener("click",dir==="next"?onNextClick:onPrevClick);el.classList.remove(...swiper.params.navigation.disabledClass.split(" "))};nextEl.forEach(el=>destroyButton(el,"next"));prevEl.forEach(el=>destroyButton(el,"prev"))}on("init",()=>{if(swiper.params.navigation.enabled===false){disable()}else{init();update2()}});on("toEdge fromEdge lock unlock",()=>{update2()});on("destroy",()=>{destroy()});on("enable disable",()=>{let{nextEl,prevEl}=swiper.navigation;nextEl=makeElementsArray(nextEl);prevEl=makeElementsArray(prevEl);if(swiper.enabled){update2();return}[...nextEl,...prevEl].filter(el=>!!el).forEach(el=>el.classList.add(swiper.params.navigation.lockClass))});on("click",(_s,e)=>{let{nextEl,prevEl}=swiper.navigation;nextEl=makeElementsArray(nextEl);prevEl=makeElementsArray(prevEl);const targetEl=e.target;let targetIsButton=prevEl.includes(targetEl)||nextEl.includes(targetEl);if(swiper.isElement&&!targetIsButton){const path=e.path||e.composedPath&&e.composedPath();if(path){targetIsButton=path.find(pathEl=>nextEl.includes(pathEl)||prevEl.includes(pathEl))}}if(swiper.params.navigation.hideOnClick&&!targetIsButton){if(swiper.pagination&&swiper.params.pagination&&swiper.params.pagination.clickable&&(swiper.pagination.el===targetEl||swiper.pagination.el.contains(targetEl)))return;let isHidden;if(nextEl.length){isHidden=nextEl[0].classList.contains(swiper.params.navigation.hiddenClass)}else if(prevEl.length){isHidden=prevEl[0].classList.contains(swiper.params.navigation.hiddenClass)}if(isHidden===true){emit("navigationShow")}else{emit("navigationHide")}[...nextEl,...prevEl].filter(el=>!!el).forEach(el=>el.classList.toggle(swiper.params.navigation.hiddenClass))}});const enable=()=>{swiper.el.classList.remove(...swiper.params.navigation.navigationDisabledClass.split(" "));init();update2()};const disable=()=>{swiper.el.classList.add(...swiper.params.navigation.navigationDisabledClass.split(" "));destroy()};Object.assign(swiper.navigation,{enable,disable,update:update2,init,destroy})}function Autoplay(_ref){let{swiper,extendParams,on,emit,params}=_ref;swiper.autoplay={running:false,paused:false,timeLeft:0};extendParams({autoplay:{enabled:false,delay:3e3,waitForTransition:true,disableOnInteraction:false,stopOnLastSlide:false,reverseDirection:false,pauseOnMouseEnter:false}});let timeout;let raf;let autoplayDelayTotal=params&&params.autoplay?params.autoplay.delay:3e3;let autoplayDelayCurrent=params&&params.autoplay?params.autoplay.delay:3e3;let autoplayTimeLeft;let autoplayStartTime=new Date().getTime();let wasPaused;let isTouched;let pausedByTouch;let touchStartTimeout;let slideChanged;let pausedByInteraction;let pausedByPointerEnter;function onTransitionEnd(e){if(!swiper||swiper.destroyed||!swiper.wrapperEl)return;if(e.target!==swiper.wrapperEl)return;swiper.wrapperEl.removeEventListener("transitionend",onTransitionEnd);if(pausedByPointerEnter||e.detail&&e.detail.bySwiperTouchMove){return}resume()}const calcTimeLeft=()=>{if(swiper.destroyed||!swiper.autoplay.running)return;if(swiper.autoplay.paused){wasPaused=true}else if(wasPaused){autoplayDelayCurrent=autoplayTimeLeft;wasPaused=false}const timeLeft=swiper.autoplay.paused?autoplayTimeLeft:autoplayStartTime+autoplayDelayCurrent-new Date().getTime();swiper.autoplay.timeLeft=timeLeft;emit("autoplayTimeLeft",timeLeft,timeLeft/autoplayDelayTotal);raf=requestAnimationFrame(()=>{calcTimeLeft()})};const getSlideDelay=()=>{let activeSlideEl;if(swiper.virtual&&swiper.params.virtual.enabled){activeSlideEl=swiper.slides.find(slideEl=>slideEl.classList.contains("swiper-slide-active"))}else{activeSlideEl=swiper.slides[swiper.activeIndex]}if(!activeSlideEl)return void 0;const currentSlideDelay=parseInt(activeSlideEl.getAttribute("data-swiper-autoplay"),10);return currentSlideDelay};const run=delayForce=>{if(swiper.destroyed||!swiper.autoplay.running)return;cancelAnimationFrame(raf);calcTimeLeft();let delay=typeof delayForce==="undefined"?swiper.params.autoplay.delay:delayForce;autoplayDelayTotal=swiper.params.autoplay.delay;autoplayDelayCurrent=swiper.params.autoplay.delay;const currentSlideDelay=getSlideDelay();if(!Number.isNaN(currentSlideDelay)&&currentSlideDelay>0&&typeof delayForce==="undefined"){delay=currentSlideDelay;autoplayDelayTotal=currentSlideDelay;autoplayDelayCurrent=currentSlideDelay}autoplayTimeLeft=delay;const speed=swiper.params.speed;const proceed=()=>{if(!swiper||swiper.destroyed)return;if(swiper.params.autoplay.reverseDirection){if(!swiper.isBeginning||swiper.params.loop||swiper.params.rewind){swiper.slidePrev(speed,true,true);emit("autoplay")}else if(!swiper.params.autoplay.stopOnLastSlide){swiper.slideTo(swiper.slides.length-1,speed,true,true);emit("autoplay")}}else{if(!swiper.isEnd||swiper.params.loop||swiper.params.rewind){swiper.slideNext(speed,true,true);emit("autoplay")}else if(!swiper.params.autoplay.stopOnLastSlide){swiper.slideTo(0,speed,true,true);emit("autoplay")}}if(swiper.params.cssMode){autoplayStartTime=new Date().getTime();requestAnimationFrame(()=>{run()})}};if(delay>0){clearTimeout(timeout);timeout=setTimeout(()=>{proceed()},delay)}else{requestAnimationFrame(()=>{proceed()})}return delay};const start=()=>{autoplayStartTime=new Date().getTime();swiper.autoplay.running=true;run();emit("autoplayStart")};const stop=()=>{swiper.autoplay.running=false;clearTimeout(timeout);cancelAnimationFrame(raf);emit("autoplayStop")};const pause=(internal,reset)=>{if(swiper.destroyed||!swiper.autoplay.running)return;clearTimeout(timeout);if(!internal){pausedByInteraction=true}const proceed=()=>{emit("autoplayPause");if(swiper.params.autoplay.waitForTransition){swiper.wrapperEl.addEventListener("transitionend",onTransitionEnd)}else{resume()}};swiper.autoplay.paused=true;if(reset){if(slideChanged){autoplayTimeLeft=swiper.params.autoplay.delay}slideChanged=false;proceed();return}const delay=autoplayTimeLeft||swiper.params.autoplay.delay;autoplayTimeLeft=delay-(new Date().getTime()-autoplayStartTime);if(swiper.isEnd&&autoplayTimeLeft<0&&!swiper.params.loop)return;if(autoplayTimeLeft<0)autoplayTimeLeft=0;proceed()};const resume=()=>{if(swiper.isEnd&&autoplayTimeLeft<0&&!swiper.params.loop||swiper.destroyed||!swiper.autoplay.running)return;autoplayStartTime=new Date().getTime();if(pausedByInteraction){pausedByInteraction=false;run(autoplayTimeLeft)}else{run()}swiper.autoplay.paused=false;emit("autoplayResume")};const onVisibilityChange=()=>{if(swiper.destroyed||!swiper.autoplay.running)return;const document2=getDocument();if(document2.visibilityState==="hidden"){pausedByInteraction=true;pause(true)}if(document2.visibilityState==="visible"){resume()}};const onPointerEnter=e=>{if(e.pointerType!=="mouse")return;pausedByInteraction=true;pausedByPointerEnter=true;if(swiper.animating||swiper.autoplay.paused)return;pause(true)};const onPointerLeave=e=>{if(e.pointerType!=="mouse")return;pausedByPointerEnter=false;if(swiper.autoplay.paused){resume()}};const attachMouseEvents=()=>{if(swiper.params.autoplay.pauseOnMouseEnter){swiper.el.addEventListener("pointerenter",onPointerEnter);swiper.el.addEventListener("pointerleave",onPointerLeave)}};const detachMouseEvents=()=>{if(swiper.el&&typeof swiper.el!=="string"){swiper.el.removeEventListener("pointerenter",onPointerEnter);swiper.el.removeEventListener("pointerleave",onPointerLeave)}};const attachDocumentEvents=()=>{const document2=getDocument();document2.addEventListener("visibilitychange",onVisibilityChange)};const detachDocumentEvents=()=>{const document2=getDocument();document2.removeEventListener("visibilitychange",onVisibilityChange)};on("init",()=>{if(swiper.params.autoplay.enabled){attachMouseEvents();attachDocumentEvents();start()}});on("destroy",()=>{detachMouseEvents();detachDocumentEvents();if(swiper.autoplay.running){stop()}});on("_freeModeStaticRelease",()=>{if(pausedByTouch||pausedByInteraction){resume()}});on("_freeModeNoMomentumRelease",()=>{if(!swiper.params.autoplay.disableOnInteraction){pause(true,true)}else{stop()}});on("beforeTransitionStart",(_s,speed,internal)=>{if(swiper.destroyed||!swiper.autoplay.running)return;if(internal||!swiper.params.autoplay.disableOnInteraction){pause(true,true)}else{stop()}});on("sliderFirstMove",()=>{if(swiper.destroyed||!swiper.autoplay.running)return;if(swiper.params.autoplay.disableOnInteraction){stop();return}isTouched=true;pausedByTouch=false;pausedByInteraction=false;touchStartTimeout=setTimeout(()=>{pausedByInteraction=true;pausedByTouch=true;pause(true)},200)});on("touchEnd",()=>{if(swiper.destroyed||!swiper.autoplay.running||!isTouched)return;clearTimeout(touchStartTimeout);clearTimeout(timeout);if(swiper.params.autoplay.disableOnInteraction){pausedByTouch=false;isTouched=false;return}if(pausedByTouch&&swiper.params.cssMode)resume();pausedByTouch=false;isTouched=false});on("slideChange",()=>{if(swiper.destroyed||!swiper.autoplay.running)return;slideChanged=true});Object.assign(swiper.autoplay,{start,stop,pause,resume})}function effectInit(params){const{effect,swiper,on,setTranslate:setTranslate2,setTransition:setTransition2,overwriteParams,perspective,recreateShadows,getEffectParams}=params;on("beforeInit",()=>{if(swiper.params.effect!==effect)return;swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);if(perspective&&perspective()){swiper.classNames.push(`${swiper.params.containerModifierClass}3d`)}const overwriteParamsResult=overwriteParams?overwriteParams():{};Object.assign(swiper.params,overwriteParamsResult);Object.assign(swiper.originalParams,overwriteParamsResult)});on("setTranslate _virtualUpdated",()=>{if(swiper.params.effect!==effect)return;setTranslate2()});on("setTransition",(_s,duration)=>{if(swiper.params.effect!==effect)return;setTransition2(duration)});on("transitionEnd",()=>{if(swiper.params.effect!==effect)return;if(recreateShadows){if(!getEffectParams||!getEffectParams().slideShadows)return;swiper.slides.forEach(slideEl=>{slideEl.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(shadowEl=>shadowEl.remove())});recreateShadows()}});let requireUpdateOnVirtual;on("virtualUpdate",()=>{if(swiper.params.effect!==effect)return;if(!swiper.slides.length){requireUpdateOnVirtual=true}requestAnimationFrame(()=>{if(requireUpdateOnVirtual&&swiper.slides&&swiper.slides.length){setTranslate2();requireUpdateOnVirtual=false}})})}function effectTarget(effectParams,slideEl){const transformEl=getSlideTransformEl(slideEl);if(transformEl!==slideEl){transformEl.style.backfaceVisibility="hidden";transformEl.style["-webkit-backface-visibility"]="hidden"}return transformEl}function effectVirtualTransitionEnd(_ref){let{swiper,duration,transformElements,allSlides}=_ref;const{activeIndex}=swiper;const getSlide=el=>{if(!el.parentElement){const slide2=swiper.slides.find(slideEl=>slideEl.shadowRoot&&slideEl.shadowRoot===el.parentNode);return slide2}return el.parentElement};if(swiper.params.virtualTranslate&&duration!==0){let eventTriggered=false;let transitionEndTarget;if(allSlides){transitionEndTarget=transformElements}else{transitionEndTarget=transformElements.filter(transformEl=>{const el=transformEl.classList.contains("swiper-slide-transform")?getSlide(transformEl):transformEl;return swiper.getSlideIndex(el)===activeIndex})}transitionEndTarget.forEach(el=>{elementTransitionEnd(el,()=>{if(eventTriggered)return;if(!swiper||swiper.destroyed)return;eventTriggered=true;swiper.animating=false;const evt=new window.CustomEvent("transitionend",{bubbles:true,cancelable:true});swiper.wrapperEl.dispatchEvent(evt)})})}}function EffectFade(_ref){let{swiper,extendParams,on}=_ref;extendParams({fadeEffect:{crossFade:false}});const setTranslate2=()=>{const{slides}=swiper;const params=swiper.params.fadeEffect;for(let i=0;i<slides.length;i+=1){const slideEl=swiper.slides[i];const offset=slideEl.swiperSlideOffset;let tx=-offset;if(!swiper.params.virtualTranslate)tx-=swiper.translate;let ty=0;if(!swiper.isHorizontal()){ty=tx;tx=0}const slideOpacity=swiper.params.fadeEffect.crossFade?Math.max(1-Math.abs(slideEl.progress),0):1+Math.min(Math.max(slideEl.progress,-1),0);const targetEl=effectTarget(params,slideEl);targetEl.style.opacity=slideOpacity;targetEl.style.transform=`translate3d(${tx}px, ${ty}px, 0px)`}};const setTransition2=duration=>{const transformElements=swiper.slides.map(slideEl=>getSlideTransformEl(slideEl));transformElements.forEach(el=>{el.style.transitionDuration=`${duration}ms`});effectVirtualTransitionEnd({swiper,duration,transformElements,allSlides:true})};effectInit({effect:"fade",swiper,on,setTranslate:setTranslate2,setTransition:setTransition2,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:true,spaceBetween:0,virtualTranslate:!swiper.params.cssMode})})}document.addEventListener("DOMContentLoaded",function(){initSliders()});var initSliders=()=>{new Swiper(".hero-slider",{modules:[EffectFade,Autoplay],loop:true,effect:"fade",fadeEffect:{crossFade:false},autoplay:{delay:1e3}});new Swiper(".company-review-slider",{slidesPerView:2,spaceBetween:24,loop:true});new Swiper(".service-block-slider",{modules:[Autoplay],slidesPerView:2,spaceBetween:20,loop:true,autoplay:{delay:5e3}});new Swiper(".info-slider",{modules:[EffectFade,Navigation],loop:true,navigation:{nextEl:".info-slider__next-btn",prevEl:".info-slider__prev-btn"}});new Swiper(".testimonial-slider",{modules:[EffectFade,Navigation],loop:true,navigation:{nextEl:".testimonial-slider__next-btn",prevEl:".testimonial-slider__prev-btn"}})};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzIiwgIm5vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL3V0aWxzLm1qcyIsICJub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9zd2lwZXItY29yZS5tanMiLCAibm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzIiwgIm5vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9uYXZpZ2F0aW9uLm1qcyIsICJub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvYXV0b3BsYXkubWpzIiwgIm5vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyIsICJub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyIsICJub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9lZmZlY3QtdmlydHVhbC10cmFuc2l0aW9uLWVuZC5tanMiLCAibm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1mYWRlLm1qcyIsICJzcmMvc2NyaXB0cy9pbmRleC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyoqXG4gKiBTU1IgV2luZG93IDUuMC4xXG4gKiBCZXR0ZXIgaGFuZGxpbmcgZm9yIHdpbmRvdyBvYmplY3QgaW4gU1NSIGVudmlyb25tZW50XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbm9saW1pdHM0d2ViL3Nzci13aW5kb3dcbiAqXG4gKiBDb3B5cmlnaHQgMjAyNSwgVmxhZGltaXIgS2hhcmxhbXBpZGlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciBNSVRcbiAqXG4gKiBSZWxlYXNlZCBvbjogSnVuZSAyNywgMjAyNVxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvYmogJiYgb2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG59XG5mdW5jdGlvbiBleHRlbmQodGFyZ2V0LCBzcmMpIHtcbiAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7XG4gICAgdGFyZ2V0ID0ge307XG4gIH1cbiAgaWYgKHNyYyA9PT0gdm9pZCAwKSB7XG4gICAgc3JjID0ge307XG4gIH1cbiAgY29uc3Qgbm9FeHRlbmQgPSBbJ19fcHJvdG9fXycsICdjb25zdHJ1Y3RvcicsICdwcm90b3R5cGUnXTtcbiAgT2JqZWN0LmtleXMoc3JjKS5maWx0ZXIoa2V5ID0+IG5vRXh0ZW5kLmluZGV4T2Yoa2V5KSA8IDApLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldID09PSAndW5kZWZpbmVkJykgdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtlbHNlIGlmIChpc09iamVjdChzcmNba2V5XSkgJiYgaXNPYmplY3QodGFyZ2V0W2tleV0pICYmIE9iamVjdC5rZXlzKHNyY1trZXldKS5sZW5ndGggPiAwKSB7XG4gICAgICBleHRlbmQodGFyZ2V0W2tleV0sIHNyY1trZXldKTtcbiAgICB9XG4gIH0pO1xufVxuY29uc3Qgc3NyRG9jdW1lbnQgPSB7XG4gIGJvZHk6IHt9LFxuICBhZGRFdmVudExpc3RlbmVyKCkge30sXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgYWN0aXZlRWxlbWVudDoge1xuICAgIGJsdXIoKSB7fSxcbiAgICBub2RlTmFtZTogJydcbiAgfSxcbiAgcXVlcnlTZWxlY3RvcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgcXVlcnlTZWxlY3RvckFsbCgpIHtcbiAgICByZXR1cm4gW107XG4gIH0sXG4gIGdldEVsZW1lbnRCeUlkKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBjcmVhdGVFdmVudCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5pdEV2ZW50KCkge31cbiAgICB9O1xuICB9LFxuICBjcmVhdGVFbGVtZW50KCkge1xuICAgIHJldHVybiB7XG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBjaGlsZE5vZGVzOiBbXSxcbiAgICAgIHN0eWxlOiB7fSxcbiAgICAgIHNldEF0dHJpYnV0ZSgpIHt9LFxuICAgICAgZ2V0RWxlbWVudHNCeVRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBjcmVhdGVFbGVtZW50TlMoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuICBpbXBvcnROb2RlKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBsb2NhdGlvbjoge1xuICAgIGhhc2g6ICcnLFxuICAgIGhvc3Q6ICcnLFxuICAgIGhvc3RuYW1lOiAnJyxcbiAgICBocmVmOiAnJyxcbiAgICBvcmlnaW46ICcnLFxuICAgIHBhdGhuYW1lOiAnJyxcbiAgICBwcm90b2NvbDogJycsXG4gICAgc2VhcmNoOiAnJ1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gIGNvbnN0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IHt9O1xuICBleHRlbmQoZG9jLCBzc3JEb2N1bWVudCk7XG4gIHJldHVybiBkb2M7XG59XG5jb25zdCBzc3JXaW5kb3cgPSB7XG4gIGRvY3VtZW50OiBzc3JEb2N1bWVudCxcbiAgbmF2aWdhdG9yOiB7XG4gICAgdXNlckFnZW50OiAnJ1xuICB9LFxuICBsb2NhdGlvbjoge1xuICAgIGhhc2g6ICcnLFxuICAgIGhvc3Q6ICcnLFxuICAgIGhvc3RuYW1lOiAnJyxcbiAgICBocmVmOiAnJyxcbiAgICBvcmlnaW46ICcnLFxuICAgIHBhdGhuYW1lOiAnJyxcbiAgICBwcm90b2NvbDogJycsXG4gICAgc2VhcmNoOiAnJ1xuICB9LFxuICBoaXN0b3J5OiB7XG4gICAgcmVwbGFjZVN0YXRlKCkge30sXG4gICAgcHVzaFN0YXRlKCkge30sXG4gICAgZ28oKSB7fSxcbiAgICBiYWNrKCkge31cbiAgfSxcbiAgQ3VzdG9tRXZlbnQ6IGZ1bmN0aW9uIEN1c3RvbUV2ZW50KCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRFdmVudExpc3RlbmVyKCkge30sXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgZ2V0Q29tcHV0ZWRTdHlsZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0UHJvcGVydHlWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIEltYWdlKCkge30sXG4gIERhdGUoKSB7fSxcbiAgc2NyZWVuOiB7fSxcbiAgc2V0VGltZW91dCgpIHt9LFxuICBjbGVhclRpbWVvdXQoKSB7fSxcbiAgbWF0Y2hNZWRpYSgpIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICB9LFxuICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCkge1xuICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGdldFdpbmRvdygpIHtcbiAgY29uc3Qgd2luID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbiAgZXh0ZW5kKHdpbiwgc3NyV2luZG93KTtcbiAgcmV0dXJuIHdpbjtcbn1cblxuZXhwb3J0IHsgZ2V0V2luZG93IGFzIGEsIGdldERvY3VtZW50IGFzIGcgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdywgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4vc3NyLXdpbmRvdy5lc20ubWpzJztcblxuZnVuY3Rpb24gY2xhc3Nlc1RvVG9rZW5zKGNsYXNzZXMpIHtcbiAgaWYgKGNsYXNzZXMgPT09IHZvaWQgMCkge1xuICAgIGNsYXNzZXMgPSAnJztcbiAgfVxuICByZXR1cm4gY2xhc3Nlcy50cmltKCkuc3BsaXQoJyAnKS5maWx0ZXIoYyA9PiAhIWMudHJpbSgpKTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlUHJvcHMob2JqKSB7XG4gIGNvbnN0IG9iamVjdCA9IG9iajtcbiAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIG9iamVjdFtrZXldID0gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBubyBnZXR0ZXIgZm9yIG9iamVjdFxuICAgIH1cbiAgICB0cnkge1xuICAgICAgZGVsZXRlIG9iamVjdFtrZXldO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHNvbWV0aGluZyBnb3Qgd3JvbmdcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gbmV4dFRpY2soY2FsbGJhY2ssIGRlbGF5KSB7XG4gIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgZGVsYXkgPSAwO1xuICB9XG4gIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkZWxheSk7XG59XG5mdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBEYXRlLm5vdygpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IHN0eWxlO1xuICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTtcbiAgfVxuICBpZiAoIXN0eWxlICYmIGVsLmN1cnJlbnRTdHlsZSkge1xuICAgIHN0eWxlID0gZWwuY3VycmVudFN0eWxlO1xuICB9XG4gIGlmICghc3R5bGUpIHtcbiAgICBzdHlsZSA9IGVsLnN0eWxlO1xuICB9XG4gIHJldHVybiBzdHlsZTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZShlbCwgYXhpcykge1xuICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7XG4gICAgYXhpcyA9ICd4JztcbiAgfVxuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IG1hdHJpeDtcbiAgbGV0IGN1clRyYW5zZm9ybTtcbiAgbGV0IHRyYW5zZm9ybU1hdHJpeDtcbiAgY29uc3QgY3VyU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIHtcbiAgICBjdXJUcmFuc2Zvcm0gPSBjdXJTdHlsZS50cmFuc2Zvcm0gfHwgY3VyU3R5bGUud2Via2l0VHJhbnNmb3JtO1xuICAgIGlmIChjdXJUcmFuc2Zvcm0uc3BsaXQoJywnKS5sZW5ndGggPiA2KSB7XG4gICAgICBjdXJUcmFuc2Zvcm0gPSBjdXJUcmFuc2Zvcm0uc3BsaXQoJywgJykubWFwKGEgPT4gYS5yZXBsYWNlKCcsJywgJy4nKSkuam9pbignLCAnKTtcbiAgICB9XG4gICAgLy8gU29tZSBvbGQgdmVyc2lvbnMgb2YgV2Via2l0IGNob2tlIHdoZW4gJ25vbmUnIGlzIHBhc3NlZDsgcGFzc1xuICAgIC8vIGVtcHR5IHN0cmluZyBpbnN0ZWFkIGluIHRoaXMgY2FzZVxuICAgIHRyYW5zZm9ybU1hdHJpeCA9IG5ldyB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KGN1clRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBjdXJUcmFuc2Zvcm0pO1xuICB9IGVsc2Uge1xuICAgIHRyYW5zZm9ybU1hdHJpeCA9IGN1clN0eWxlLk1velRyYW5zZm9ybSB8fCBjdXJTdHlsZS5PVHJhbnNmb3JtIHx8IGN1clN0eWxlLk1zVHJhbnNmb3JtIHx8IGN1clN0eWxlLm1zVHJhbnNmb3JtIHx8IGN1clN0eWxlLnRyYW5zZm9ybSB8fCBjdXJTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKS5yZXBsYWNlKCd0cmFuc2xhdGUoJywgJ21hdHJpeCgxLCAwLCAwLCAxLCcpO1xuICAgIG1hdHJpeCA9IHRyYW5zZm9ybU1hdHJpeC50b1N0cmluZygpLnNwbGl0KCcsJyk7XG4gIH1cbiAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgIC8vIExhdGVzdCBDaHJvbWUgYW5kIHdlYmtpdHMgRml4XG4gICAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIGN1clRyYW5zZm9ybSA9IHRyYW5zZm9ybU1hdHJpeC5tNDE7XG4gICAgLy8gQ3JhenkgSUUxMCBNYXRyaXhcbiAgICBlbHNlIGlmIChtYXRyaXgubGVuZ3RoID09PSAxNikgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbMTJdKTtcbiAgICAvLyBOb3JtYWwgQnJvd3NlcnNcbiAgICBlbHNlIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzRdKTtcbiAgfVxuICBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgLy8gTGF0ZXN0IENocm9tZSBhbmQgd2Via2l0cyBGaXhcbiAgICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkgY3VyVHJhbnNmb3JtID0gdHJhbnNmb3JtTWF0cml4Lm00MjtcbiAgICAvLyBDcmF6eSBJRTEwIE1hdHJpeFxuICAgIGVsc2UgaWYgKG1hdHJpeC5sZW5ndGggPT09IDE2KSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFsxM10pO1xuICAgIC8vIE5vcm1hbCBCcm93c2Vyc1xuICAgIGVsc2UgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbNV0pO1xuICB9XG4gIHJldHVybiBjdXJUcmFuc2Zvcm0gfHwgMDtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBvICE9PSBudWxsICYmIG8uY29uc3RydWN0b3IgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKSA9PT0gJ09iamVjdCc7XG59XG5mdW5jdGlvbiBpc05vZGUobm9kZSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgfVxuICByZXR1cm4gbm9kZSAmJiAobm9kZS5ub2RlVHlwZSA9PT0gMSB8fCBub2RlLm5vZGVUeXBlID09PSAxMSk7XG59XG5mdW5jdGlvbiBleHRlbmQoKSB7XG4gIGNvbnN0IHRvID0gT2JqZWN0KGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSk7XG4gIGNvbnN0IG5vRXh0ZW5kID0gWydfX3Byb3RvX18nLCAnY29uc3RydWN0b3InLCAncHJvdG90eXBlJ107XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgbmV4dFNvdXJjZSA9IGkgPCAwIHx8IGFyZ3VtZW50cy5sZW5ndGggPD0gaSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAobmV4dFNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIG5leHRTb3VyY2UgIT09IG51bGwgJiYgIWlzTm9kZShuZXh0U291cmNlKSkge1xuICAgICAgY29uc3Qga2V5c0FycmF5ID0gT2JqZWN0LmtleXMoT2JqZWN0KG5leHRTb3VyY2UpKS5maWx0ZXIoa2V5ID0+IG5vRXh0ZW5kLmluZGV4T2Yoa2V5KSA8IDApO1xuICAgICAgZm9yIChsZXQgbmV4dEluZGV4ID0gMCwgbGVuID0ga2V5c0FycmF5Lmxlbmd0aDsgbmV4dEluZGV4IDwgbGVuOyBuZXh0SW5kZXggKz0gMSkge1xuICAgICAgICBjb25zdCBuZXh0S2V5ID0ga2V5c0FycmF5W25leHRJbmRleF07XG4gICAgICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5leHRTb3VyY2UsIG5leHRLZXkpO1xuICAgICAgICBpZiAoZGVzYyAhPT0gdW5kZWZpbmVkICYmIGRlc2MuZW51bWVyYWJsZSkge1xuICAgICAgICAgIGlmIChpc09iamVjdCh0b1tuZXh0S2V5XSkgJiYgaXNPYmplY3QobmV4dFNvdXJjZVtuZXh0S2V5XSkpIHtcbiAgICAgICAgICAgIGlmIChuZXh0U291cmNlW25leHRLZXldLl9fc3dpcGVyX18pIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXh0ZW5kKHRvW25leHRLZXldLCBuZXh0U291cmNlW25leHRLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc09iamVjdCh0b1tuZXh0S2V5XSkgJiYgaXNPYmplY3QobmV4dFNvdXJjZVtuZXh0S2V5XSkpIHtcbiAgICAgICAgICAgIHRvW25leHRLZXldID0ge307XG4gICAgICAgICAgICBpZiAobmV4dFNvdXJjZVtuZXh0S2V5XS5fX3N3aXBlcl9fKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4dGVuZCh0b1tuZXh0S2V5XSwgbmV4dFNvdXJjZVtuZXh0S2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufVxuZnVuY3Rpb24gc2V0Q1NTUHJvcGVydHkoZWwsIHZhck5hbWUsIHZhclZhbHVlKSB7XG4gIGVsLnN0eWxlLnNldFByb3BlcnR5KHZhck5hbWUsIHZhclZhbHVlKTtcbn1cbmZ1bmN0aW9uIGFuaW1hdGVDU1NNb2RlU2Nyb2xsKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgdGFyZ2V0UG9zaXRpb24sXG4gICAgc2lkZVxuICB9ID0gX3JlZjtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgbGV0IHN0YXJ0VGltZSA9IG51bGw7XG4gIGxldCB0aW1lO1xuICBjb25zdCBkdXJhdGlvbiA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnbm9uZSc7XG4gIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShzd2lwZXIuY3NzTW9kZUZyYW1lSUQpO1xuICBjb25zdCBkaXIgPSB0YXJnZXRQb3NpdGlvbiA+IHN0YXJ0UG9zaXRpb24gPyAnbmV4dCcgOiAncHJldic7XG4gIGNvbnN0IGlzT3V0T2ZCb3VuZCA9IChjdXJyZW50LCB0YXJnZXQpID0+IHtcbiAgICByZXR1cm4gZGlyID09PSAnbmV4dCcgJiYgY3VycmVudCA+PSB0YXJnZXQgfHwgZGlyID09PSAncHJldicgJiYgY3VycmVudCA8PSB0YXJnZXQ7XG4gIH07XG4gIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGlmIChzdGFydFRpbWUgPT09IG51bGwpIHtcbiAgICAgIHN0YXJ0VGltZSA9IHRpbWU7XG4gICAgfVxuICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oKHRpbWUgLSBzdGFydFRpbWUpIC8gZHVyYXRpb24sIDEpLCAwKTtcbiAgICBjb25zdCBlYXNlUHJvZ3Jlc3MgPSAwLjUgLSBNYXRoLmNvcyhwcm9ncmVzcyAqIE1hdGguUEkpIC8gMjtcbiAgICBsZXQgY3VycmVudFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbiArIGVhc2VQcm9ncmVzcyAqICh0YXJnZXRQb3NpdGlvbiAtIHN0YXJ0UG9zaXRpb24pO1xuICAgIGlmIChpc091dE9mQm91bmQoY3VycmVudFBvc2l0aW9uLCB0YXJnZXRQb3NpdGlvbikpIHtcbiAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IHRhcmdldFBvc2l0aW9uO1xuICAgIH1cbiAgICBzd2lwZXIud3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgIFtzaWRlXTogY3VycmVudFBvc2l0aW9uXG4gICAgfSk7XG4gICAgaWYgKGlzT3V0T2ZCb3VuZChjdXJyZW50UG9zaXRpb24sIHRhcmdldFBvc2l0aW9uKSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICcnO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICAgICAgW3NpZGVdOiBjdXJyZW50UG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShzd2lwZXIuY3NzTW9kZUZyYW1lSUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2lwZXIuY3NzTW9kZUZyYW1lSUQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICB9O1xuICBhbmltYXRlKCk7XG59XG5mdW5jdGlvbiBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpIHtcbiAgcmV0dXJuIHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS10cmFuc2Zvcm0nKSB8fCBzbGlkZUVsLnNoYWRvd1Jvb3QgJiYgc2xpZGVFbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtdHJhbnNmb3JtJykgfHwgc2xpZGVFbDtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRDaGlsZHJlbihlbGVtZW50LCBzZWxlY3Rvcikge1xuICBpZiAoc2VsZWN0b3IgPT09IHZvaWQgMCkge1xuICAgIHNlbGVjdG9yID0gJyc7XG4gIH1cbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGNoaWxkcmVuID0gWy4uLmVsZW1lbnQuY2hpbGRyZW5dO1xuICBpZiAod2luZG93LkhUTUxTbG90RWxlbWVudCAmJiBlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNsb3RFbGVtZW50KSB7XG4gICAgY2hpbGRyZW4ucHVzaCguLi5lbGVtZW50LmFzc2lnbmVkRWxlbWVudHMoKSk7XG4gIH1cbiAgaWYgKCFzZWxlY3Rvcikge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICByZXR1cm4gY2hpbGRyZW4uZmlsdGVyKGVsID0+IGVsLm1hdGNoZXMoc2VsZWN0b3IpKTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRJc0NoaWxkT2ZTbG90KGVsLCBzbG90KSB7XG4gIC8vIEJyZWFkdGgtZmlyc3Qgc2VhcmNoIHRocm91Z2ggYWxsIHBhcmVudCdzIGNoaWxkcmVuIGFuZCBhc3NpZ25lZCBlbGVtZW50c1xuICBjb25zdCBlbGVtZW50c1F1ZXVlID0gW3Nsb3RdO1xuICB3aGlsZSAoZWxlbWVudHNRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZWxlbWVudFRvQ2hlY2sgPSBlbGVtZW50c1F1ZXVlLnNoaWZ0KCk7XG4gICAgaWYgKGVsID09PSBlbGVtZW50VG9DaGVjaykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsZW1lbnRzUXVldWUucHVzaCguLi5lbGVtZW50VG9DaGVjay5jaGlsZHJlbiwgLi4uKGVsZW1lbnRUb0NoZWNrLnNoYWRvd1Jvb3QgPyBlbGVtZW50VG9DaGVjay5zaGFkb3dSb290LmNoaWxkcmVuIDogW10pLCAuLi4oZWxlbWVudFRvQ2hlY2suYXNzaWduZWRFbGVtZW50cyA/IGVsZW1lbnRUb0NoZWNrLmFzc2lnbmVkRWxlbWVudHMoKSA6IFtdKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnRJc0NoaWxkT2YoZWwsIHBhcmVudCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IGlzQ2hpbGQgPSBwYXJlbnQuY29udGFpbnMoZWwpO1xuICBpZiAoIWlzQ2hpbGQgJiYgd2luZG93LkhUTUxTbG90RWxlbWVudCAmJiBwYXJlbnQgaW5zdGFuY2VvZiBIVE1MU2xvdEVsZW1lbnQpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IFsuLi5wYXJlbnQuYXNzaWduZWRFbGVtZW50cygpXTtcbiAgICBpc0NoaWxkID0gY2hpbGRyZW4uaW5jbHVkZXMoZWwpO1xuICAgIGlmICghaXNDaGlsZCkge1xuICAgICAgaXNDaGlsZCA9IGVsZW1lbnRJc0NoaWxkT2ZTbG90KGVsLCBwYXJlbnQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaXNDaGlsZDtcbn1cbmZ1bmN0aW9uIHNob3dXYXJuaW5nKHRleHQpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLndhcm4odGV4dCk7XG4gICAgcmV0dXJuO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBlcnJcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWcsIGNsYXNzZXMpIHtcbiAgaWYgKGNsYXNzZXMgPT09IHZvaWQgMCkge1xuICAgIGNsYXNzZXMgPSBbXTtcbiAgfVxuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgZWwuY2xhc3NMaXN0LmFkZCguLi4oQXJyYXkuaXNBcnJheShjbGFzc2VzKSA/IGNsYXNzZXMgOiBjbGFzc2VzVG9Ub2tlbnMoY2xhc3NlcykpKTtcbiAgcmV0dXJuIGVsO1xufVxuZnVuY3Rpb24gZWxlbWVudE9mZnNldChlbCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IGNsaWVudFRvcCA9IGVsLmNsaWVudFRvcCB8fCBib2R5LmNsaWVudFRvcCB8fCAwO1xuICBjb25zdCBjbGllbnRMZWZ0ID0gZWwuY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMDtcbiAgY29uc3Qgc2Nyb2xsVG9wID0gZWwgPT09IHdpbmRvdyA/IHdpbmRvdy5zY3JvbGxZIDogZWwuc2Nyb2xsVG9wO1xuICBjb25zdCBzY3JvbGxMZWZ0ID0gZWwgPT09IHdpbmRvdyA/IHdpbmRvdy5zY3JvbGxYIDogZWwuc2Nyb2xsTGVmdDtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IGJveC50b3AgKyBzY3JvbGxUb3AgLSBjbGllbnRUb3AsXG4gICAgbGVmdDogYm94LmxlZnQgKyBzY3JvbGxMZWZ0IC0gY2xpZW50TGVmdFxuICB9O1xufVxuZnVuY3Rpb24gZWxlbWVudFByZXZBbGwoZWwsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IHByZXZFbHMgPSBbXTtcbiAgd2hpbGUgKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICBjb25zdCBwcmV2ID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKHByZXYubWF0Y2hlcyhzZWxlY3RvcikpIHByZXZFbHMucHVzaChwcmV2KTtcbiAgICB9IGVsc2UgcHJldkVscy5wdXNoKHByZXYpO1xuICAgIGVsID0gcHJldjtcbiAgfVxuICByZXR1cm4gcHJldkVscztcbn1cbmZ1bmN0aW9uIGVsZW1lbnROZXh0QWxsKGVsLCBzZWxlY3Rvcikge1xuICBjb25zdCBuZXh0RWxzID0gW107XG4gIHdoaWxlIChlbC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICBjb25zdCBuZXh0ID0gZWwubmV4dEVsZW1lbnRTaWJsaW5nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAobmV4dC5tYXRjaGVzKHNlbGVjdG9yKSkgbmV4dEVscy5wdXNoKG5leHQpO1xuICAgIH0gZWxzZSBuZXh0RWxzLnB1c2gobmV4dCk7XG4gICAgZWwgPSBuZXh0O1xuICB9XG4gIHJldHVybiBuZXh0RWxzO1xufVxuZnVuY3Rpb24gZWxlbWVudFN0eWxlKGVsLCBwcm9wKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcCk7XG59XG5mdW5jdGlvbiBlbGVtZW50SW5kZXgoZWwpIHtcbiAgbGV0IGNoaWxkID0gZWw7XG4gIGxldCBpO1xuICBpZiAoY2hpbGQpIHtcbiAgICBpID0gMDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB3aGlsZSAoKGNoaWxkID0gY2hpbGQucHJldmlvdXNTaWJsaW5nKSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxKSBpICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBlbGVtZW50UGFyZW50cyhlbCwgc2VsZWN0b3IpIHtcbiAgY29uc3QgcGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGxldCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChwYXJlbnQubWF0Y2hlcyhzZWxlY3RvcikpIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICB9XG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIHBhcmVudHM7XG59XG5mdW5jdGlvbiBlbGVtZW50VHJhbnNpdGlvbkVuZChlbCwgY2FsbGJhY2spIHtcbiAgZnVuY3Rpb24gZmlyZUNhbGxCYWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgIT09IGVsKSByZXR1cm47XG4gICAgY2FsbGJhY2suY2FsbChlbCwgZSk7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnRPdXRlclNpemUoZWwsIHNpemUsIGluY2x1ZGVNYXJnaW5zKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBpZiAoaW5jbHVkZU1hcmdpbnMpIHtcbiAgICByZXR1cm4gZWxbc2l6ZSA9PT0gJ3dpZHRoJyA/ICdvZmZzZXRXaWR0aCcgOiAnb2Zmc2V0SGVpZ2h0J10gKyBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHNpemUgPT09ICd3aWR0aCcgPyAnbWFyZ2luLXJpZ2h0JyA6ICdtYXJnaW4tdG9wJykpICsgcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShzaXplID09PSAnd2lkdGgnID8gJ21hcmdpbi1sZWZ0JyA6ICdtYXJnaW4tYm90dG9tJykpO1xuICB9XG4gIHJldHVybiBlbC5vZmZzZXRXaWR0aDtcbn1cbmZ1bmN0aW9uIG1ha2VFbGVtZW50c0FycmF5KGVsKSB7XG4gIHJldHVybiAoQXJyYXkuaXNBcnJheShlbCkgPyBlbCA6IFtlbF0pLmZpbHRlcihlID0+ICEhZSk7XG59XG5mdW5jdGlvbiBnZXRSb3RhdGVGaXgoc3dpcGVyKSB7XG4gIHJldHVybiB2ID0+IHtcbiAgICBpZiAoTWF0aC5hYnModikgPiAwICYmIHN3aXBlci5icm93c2VyICYmIHN3aXBlci5icm93c2VyLm5lZWQzZEZpeCAmJiBNYXRoLmFicyh2KSAlIDkwID09PSAwKSB7XG4gICAgICByZXR1cm4gdiArIDAuMDAxO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbiAgfTtcbn1cbmZ1bmN0aW9uIHNldElubmVySFRNTChlbCwgaHRtbCkge1xuICBpZiAoaHRtbCA9PT0gdm9pZCAwKSB7XG4gICAgaHRtbCA9ICcnO1xuICB9XG4gIGlmICh0eXBlb2YgdHJ1c3RlZFR5cGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGVsLmlubmVySFRNTCA9IHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ2h0bWwnLCB7XG4gICAgICBjcmVhdGVIVE1MOiBzID0+IHNcbiAgICB9KS5jcmVhdGVIVE1MKGh0bWwpO1xuICB9IGVsc2Uge1xuICAgIGVsLmlubmVySFRNTCA9IGh0bWw7XG4gIH1cbn1cblxuZXhwb3J0IHsgc2V0Q1NTUHJvcGVydHkgYXMgYSwgZWxlbWVudFBhcmVudHMgYXMgYiwgY3JlYXRlRWxlbWVudCBhcyBjLCBlbGVtZW50T2Zmc2V0IGFzIGQsIGVsZW1lbnRDaGlsZHJlbiBhcyBlLCBub3cgYXMgZiwgZ2V0U2xpZGVUcmFuc2Zvcm1FbCBhcyBnLCBlbGVtZW50T3V0ZXJTaXplIGFzIGgsIGVsZW1lbnRJbmRleCBhcyBpLCBjbGFzc2VzVG9Ub2tlbnMgYXMgaiwgZ2V0VHJhbnNsYXRlIGFzIGssIGVsZW1lbnRUcmFuc2l0aW9uRW5kIGFzIGwsIG1ha2VFbGVtZW50c0FycmF5IGFzIG0sIG5leHRUaWNrIGFzIG4sIGlzT2JqZWN0IGFzIG8sIGdldFJvdGF0ZUZpeCBhcyBwLCBlbGVtZW50U3R5bGUgYXMgcSwgZWxlbWVudE5leHRBbGwgYXMgciwgc2V0SW5uZXJIVE1MIGFzIHMsIGVsZW1lbnRQcmV2QWxsIGFzIHQsIGFuaW1hdGVDU1NNb2RlU2Nyb2xsIGFzIHUsIHNob3dXYXJuaW5nIGFzIHYsIGVsZW1lbnRJc0NoaWxkT2YgYXMgdywgZXh0ZW5kIGFzIHgsIGRlbGV0ZVByb3BzIGFzIHkgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdywgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4vc3NyLXdpbmRvdy5lc20ubWpzJztcbmltcG9ydCB7IGIgYXMgZWxlbWVudFBhcmVudHMsIHEgYXMgZWxlbWVudFN0eWxlLCBlIGFzIGVsZW1lbnRDaGlsZHJlbiwgYSBhcyBzZXRDU1NQcm9wZXJ0eSwgaCBhcyBlbGVtZW50T3V0ZXJTaXplLCByIGFzIGVsZW1lbnROZXh0QWxsLCB0IGFzIGVsZW1lbnRQcmV2QWxsLCBrIGFzIGdldFRyYW5zbGF0ZSwgdSBhcyBhbmltYXRlQ1NTTW9kZVNjcm9sbCwgbiBhcyBuZXh0VGljaywgdiBhcyBzaG93V2FybmluZywgYyBhcyBjcmVhdGVFbGVtZW50LCB3IGFzIGVsZW1lbnRJc0NoaWxkT2YsIGYgYXMgbm93LCB4IGFzIGV4dGVuZCwgaSBhcyBlbGVtZW50SW5kZXgsIHkgYXMgZGVsZXRlUHJvcHMgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmxldCBzdXBwb3J0O1xuZnVuY3Rpb24gY2FsY1N1cHBvcnQoKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIHJldHVybiB7XG4gICAgc21vb3RoU2Nyb2xsOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmICdzY3JvbGxCZWhhdmlvcicgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLFxuICAgIHRvdWNoOiAhISgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiB3aW5kb3cuRG9jdW1lbnRUb3VjaClcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFN1cHBvcnQoKSB7XG4gIGlmICghc3VwcG9ydCkge1xuICAgIHN1cHBvcnQgPSBjYWxjU3VwcG9ydCgpO1xuICB9XG4gIHJldHVybiBzdXBwb3J0O1xufVxuXG5sZXQgZGV2aWNlQ2FjaGVkO1xuZnVuY3Rpb24gY2FsY0RldmljZShfdGVtcCkge1xuICBsZXQge1xuICAgIHVzZXJBZ2VudFxuICB9ID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA7XG4gIGNvbnN0IHN1cHBvcnQgPSBnZXRTdXBwb3J0KCk7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBwbGF0Zm9ybSA9IHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm07XG4gIGNvbnN0IHVhID0gdXNlckFnZW50IHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICBjb25zdCBkZXZpY2UgPSB7XG4gICAgaW9zOiBmYWxzZSxcbiAgICBhbmRyb2lkOiBmYWxzZVxuICB9O1xuICBjb25zdCBzY3JlZW5XaWR0aCA9IHdpbmRvdy5zY3JlZW4ud2lkdGg7XG4gIGNvbnN0IHNjcmVlbkhlaWdodCA9IHdpbmRvdy5zY3JlZW4uaGVpZ2h0O1xuICBjb25zdCBhbmRyb2lkID0gdWEubWF0Y2goLyhBbmRyb2lkKTs/W1xcc1xcL10rKFtcXGQuXSspPy8pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGxldCBpcGFkID0gdWEubWF0Y2goLyhpUGFkKS4qT1NcXHMoW1xcZF9dKykvKTtcbiAgY29uc3QgaXBvZCA9IHVhLm1hdGNoKC8oaVBvZCkoLipPU1xccyhbXFxkX10rKSk/Lyk7XG4gIGNvbnN0IGlwaG9uZSA9ICFpcGFkICYmIHVhLm1hdGNoKC8oaVBob25lXFxzT1N8aU9TKVxccyhbXFxkX10rKS8pO1xuICBjb25zdCB3aW5kb3dzID0gcGxhdGZvcm0gPT09ICdXaW4zMic7XG4gIGxldCBtYWNvcyA9IHBsYXRmb3JtID09PSAnTWFjSW50ZWwnO1xuXG4gIC8vIGlQYWRPcyAxMyBmaXhcbiAgY29uc3QgaVBhZFNjcmVlbnMgPSBbJzEwMjR4MTM2NicsICcxMzY2eDEwMjQnLCAnODM0eDExOTQnLCAnMTE5NHg4MzQnLCAnODM0eDExMTInLCAnMTExMng4MzQnLCAnNzY4eDEwMjQnLCAnMTAyNHg3NjgnLCAnODIweDExODAnLCAnMTE4MHg4MjAnLCAnODEweDEwODAnLCAnMTA4MHg4MTAnXTtcbiAgaWYgKCFpcGFkICYmIG1hY29zICYmIHN1cHBvcnQudG91Y2ggJiYgaVBhZFNjcmVlbnMuaW5kZXhPZihgJHtzY3JlZW5XaWR0aH14JHtzY3JlZW5IZWlnaHR9YCkgPj0gMCkge1xuICAgIGlwYWQgPSB1YS5tYXRjaCgvKFZlcnNpb24pXFwvKFtcXGQuXSspLyk7XG4gICAgaWYgKCFpcGFkKSBpcGFkID0gWzAsIDEsICcxM18wXzAnXTtcbiAgICBtYWNvcyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gQW5kcm9pZFxuICBpZiAoYW5kcm9pZCAmJiAhd2luZG93cykge1xuICAgIGRldmljZS5vcyA9ICdhbmRyb2lkJztcbiAgICBkZXZpY2UuYW5kcm9pZCA9IHRydWU7XG4gIH1cbiAgaWYgKGlwYWQgfHwgaXBob25lIHx8IGlwb2QpIHtcbiAgICBkZXZpY2Uub3MgPSAnaW9zJztcbiAgICBkZXZpY2UuaW9zID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIEV4cG9ydCBvYmplY3RcbiAgcmV0dXJuIGRldmljZTtcbn1cbmZ1bmN0aW9uIGdldERldmljZShvdmVycmlkZXMpIHtcbiAgaWYgKG92ZXJyaWRlcyA9PT0gdm9pZCAwKSB7XG4gICAgb3ZlcnJpZGVzID0ge307XG4gIH1cbiAgaWYgKCFkZXZpY2VDYWNoZWQpIHtcbiAgICBkZXZpY2VDYWNoZWQgPSBjYWxjRGV2aWNlKG92ZXJyaWRlcyk7XG4gIH1cbiAgcmV0dXJuIGRldmljZUNhY2hlZDtcbn1cblxubGV0IGJyb3dzZXI7XG5mdW5jdGlvbiBjYWxjQnJvd3NlcigpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGRldmljZSA9IGdldERldmljZSgpO1xuICBsZXQgbmVlZFBlcnNwZWN0aXZlRml4ID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICAgIGNvbnN0IHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gdWEuaW5kZXhPZignc2FmYXJpJykgPj0gMCAmJiB1YS5pbmRleE9mKCdjaHJvbWUnKSA8IDAgJiYgdWEuaW5kZXhPZignYW5kcm9pZCcpIDwgMDtcbiAgfVxuICBpZiAoaXNTYWZhcmkoKSkge1xuICAgIGNvbnN0IHVhID0gU3RyaW5nKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBpZiAodWEuaW5jbHVkZXMoJ1ZlcnNpb24vJykpIHtcbiAgICAgIGNvbnN0IFttYWpvciwgbWlub3JdID0gdWEuc3BsaXQoJ1ZlcnNpb24vJylbMV0uc3BsaXQoJyAnKVswXS5zcGxpdCgnLicpLm1hcChudW0gPT4gTnVtYmVyKG51bSkpO1xuICAgICAgbmVlZFBlcnNwZWN0aXZlRml4ID0gbWFqb3IgPCAxNiB8fCBtYWpvciA9PT0gMTYgJiYgbWlub3IgPCAyO1xuICAgIH1cbiAgfVxuICBjb25zdCBpc1dlYlZpZXcgPSAvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICBjb25zdCBpc1NhZmFyaUJyb3dzZXIgPSBpc1NhZmFyaSgpO1xuICBjb25zdCBuZWVkM2RGaXggPSBpc1NhZmFyaUJyb3dzZXIgfHwgaXNXZWJWaWV3ICYmIGRldmljZS5pb3M7XG4gIHJldHVybiB7XG4gICAgaXNTYWZhcmk6IG5lZWRQZXJzcGVjdGl2ZUZpeCB8fCBpc1NhZmFyaUJyb3dzZXIsXG4gICAgbmVlZFBlcnNwZWN0aXZlRml4LFxuICAgIG5lZWQzZEZpeCxcbiAgICBpc1dlYlZpZXdcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEJyb3dzZXIoKSB7XG4gIGlmICghYnJvd3Nlcikge1xuICAgIGJyb3dzZXIgPSBjYWxjQnJvd3NlcigpO1xuICB9XG4gIHJldHVybiBicm93c2VyO1xufVxuXG5mdW5jdGlvbiBSZXNpemUoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IG9ic2VydmVyID0gbnVsbDtcbiAgbGV0IGFuaW1hdGlvbkZyYW1lID0gbnVsbDtcbiAgY29uc3QgcmVzaXplSGFuZGxlciA9ICgpID0+IHtcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICBlbWl0KCdiZWZvcmVSZXNpemUnKTtcbiAgICBlbWl0KCdyZXNpemUnKTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlT2JzZXJ2ZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICBhbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0XG4gICAgICAgIH0gPSBzd2lwZXI7XG4gICAgICAgIGxldCBuZXdXaWR0aCA9IHdpZHRoO1xuICAgICAgICBsZXQgbmV3SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goX3JlZjIgPT4ge1xuICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICBjb250ZW50Qm94U2l6ZSxcbiAgICAgICAgICAgIGNvbnRlbnRSZWN0LFxuICAgICAgICAgICAgdGFyZ2V0XG4gICAgICAgICAgfSA9IF9yZWYyO1xuICAgICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBzd2lwZXIuZWwpIHJldHVybjtcbiAgICAgICAgICBuZXdXaWR0aCA9IGNvbnRlbnRSZWN0ID8gY29udGVudFJlY3Qud2lkdGggOiAoY29udGVudEJveFNpemVbMF0gfHwgY29udGVudEJveFNpemUpLmlubGluZVNpemU7XG4gICAgICAgICAgbmV3SGVpZ2h0ID0gY29udGVudFJlY3QgPyBjb250ZW50UmVjdC5oZWlnaHQgOiAoY29udGVudEJveFNpemVbMF0gfHwgY29udGVudEJveFNpemUpLmJsb2NrU2l6ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChuZXdXaWR0aCAhPT0gd2lkdGggfHwgbmV3SGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgICByZXNpemVIYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUoc3dpcGVyLmVsKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlT2JzZXJ2ZXIgPSAoKSA9PiB7XG4gICAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWUpO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2ZXIgJiYgb2JzZXJ2ZXIudW5vYnNlcnZlICYmIHN3aXBlci5lbCkge1xuICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHN3aXBlci5lbCk7XG4gICAgICBvYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICB9O1xuICBjb25zdCBvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgZW1pdCgnb3JpZW50YXRpb25jaGFuZ2UnKTtcbiAgfTtcbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucmVzaXplT2JzZXJ2ZXIgJiYgdHlwZW9mIHdpbmRvdy5SZXNpemVPYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNyZWF0ZU9ic2VydmVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgcmVtb3ZlT2JzZXJ2ZXIoKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIE9ic2VydmVyKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IG9ic2VydmVycyA9IFtdO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgYXR0YWNoID0gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgY29uc3QgT2JzZXJ2ZXJGdW5jID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYmtpdE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgT2JzZXJ2ZXJGdW5jKG11dGF0aW9ucyA9PiB7XG4gICAgICAvLyBUaGUgb2JzZXJ2ZXJVcGRhdGUgZXZlbnQgc2hvdWxkIG9ubHkgYmUgdHJpZ2dlcmVkXG4gICAgICAvLyBvbmNlIGRlc3BpdGUgdGhlIG51bWJlciBvZiBtdXRhdGlvbnMuICBBZGRpdGlvbmFsXG4gICAgICAvLyB0cmlnZ2VycyBhcmUgcmVkdW5kYW50IGFuZCBhcmUgdmVyeSBjb3N0bHlcbiAgICAgIGlmIChzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXykgcmV0dXJuO1xuICAgICAgaWYgKG11dGF0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBvYnNlcnZlclVwZGF0ZSA9IGZ1bmN0aW9uIG9ic2VydmVyVXBkYXRlKCkge1xuICAgICAgICBlbWl0KCdvYnNlcnZlclVwZGF0ZScsIG11dGF0aW9uc1swXSk7XG4gICAgICB9O1xuICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShvYnNlcnZlclVwZGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChvYnNlcnZlclVwZGF0ZSwgMCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZXMgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IG9wdGlvbnMuYXR0cmlidXRlcyxcbiAgICAgIGNoaWxkTGlzdDogc3dpcGVyLmlzRWxlbWVudCB8fCAodHlwZW9mIG9wdGlvbnMuY2hpbGRMaXN0ID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zKS5jaGlsZExpc3QsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0eXBlb2Ygb3B0aW9ucy5jaGFyYWN0ZXJEYXRhID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmNoYXJhY3RlckRhdGFcbiAgICB9KTtcbiAgICBvYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gIH07XG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLm9ic2VydmVyKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMub2JzZXJ2ZVBhcmVudHMpIHtcbiAgICAgIGNvbnN0IGNvbnRhaW5lclBhcmVudHMgPSBlbGVtZW50UGFyZW50cyhzd2lwZXIuaG9zdEVsKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGFpbmVyUGFyZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhdHRhY2goY29udGFpbmVyUGFyZW50c1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE9ic2VydmUgY29udGFpbmVyXG4gICAgYXR0YWNoKHN3aXBlci5ob3N0RWwsIHtcbiAgICAgIGNoaWxkTGlzdDogc3dpcGVyLnBhcmFtcy5vYnNlcnZlU2xpZGVDaGlsZHJlblxuICAgIH0pO1xuXG4gICAgLy8gT2JzZXJ2ZSB3cmFwcGVyXG4gICAgYXR0YWNoKHN3aXBlci53cmFwcGVyRWwsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzZXJ2ZXIgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH0pO1xuICAgIG9ic2VydmVycy5zcGxpY2UoMCwgb2JzZXJ2ZXJzLmxlbmd0aCk7XG4gIH07XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgb2JzZXJ2ZXI6IGZhbHNlLFxuICAgIG9ic2VydmVQYXJlbnRzOiBmYWxzZSxcbiAgICBvYnNlcnZlU2xpZGVDaGlsZHJlbjogZmFsc2VcbiAgfSk7XG4gIG9uKCdpbml0JywgaW5pdCk7XG4gIG9uKCdkZXN0cm95JywgZGVzdHJveSk7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovXG5cbnZhciBldmVudHNFbWl0dGVyID0ge1xuICBvbihldmVudHMsIGhhbmRsZXIsIHByaW9yaXR5KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcbiAgICBjb25zdCBtZXRob2QgPSBwcmlvcml0eSA/ICd1bnNoaWZ0JyA6ICdwdXNoJztcbiAgICBldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XVttZXRob2RdKGhhbmRsZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvbmNlKGV2ZW50cywgaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xuICAgICAgc2VsZi5vZmYoZXZlbnRzLCBvbmNlSGFuZGxlcik7XG4gICAgICBpZiAob25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHkpIHtcbiAgICAgICAgZGVsZXRlIG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5O1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cbiAgICBvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eSA9IGhhbmRsZXI7XG4gICAgcmV0dXJuIHNlbGYub24oZXZlbnRzLCBvbmNlSGFuZGxlciwgcHJpb3JpdHkpO1xuICB9LFxuICBvbkFueShoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgY29uc3QgbWV0aG9kID0gcHJpb3JpdHkgPyAndW5zaGlmdCcgOiAncHVzaCc7XG4gICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcikgPCAwKSB7XG4gICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVyc1ttZXRob2RdKGhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb2ZmQW55KGhhbmRsZXIpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAoIXNlbGYuZXZlbnRzQW55TGlzdGVuZXJzKSByZXR1cm4gc2VsZjtcbiAgICBjb25zdCBpbmRleCA9IHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvZmYoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goKGV2ZW50SGFuZGxlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVyID09PSBoYW5kbGVyIHx8IGV2ZW50SGFuZGxlci5fX2VtaXR0ZXJQcm94eSAmJiBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIGVtaXQoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgbGV0IGV2ZW50cztcbiAgICBsZXQgZGF0YTtcbiAgICBsZXQgY29udGV4dDtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICBldmVudHMgPSBhcmdzWzBdO1xuICAgICAgZGF0YSA9IGFyZ3Muc2xpY2UoMSwgYXJncy5sZW5ndGgpO1xuICAgICAgY29udGV4dCA9IHNlbGY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50cyA9IGFyZ3NbMF0uZXZlbnRzO1xuICAgICAgZGF0YSA9IGFyZ3NbMF0uZGF0YTtcbiAgICAgIGNvbnRleHQgPSBhcmdzWzBdLmNvbnRleHQgfHwgc2VsZjtcbiAgICB9XG4gICAgZGF0YS51bnNoaWZ0KGNvbnRleHQpO1xuICAgIGNvbnN0IGV2ZW50c0FycmF5ID0gQXJyYXkuaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogZXZlbnRzLnNwbGl0KCcgJyk7XG4gICAgZXZlbnRzQXJyYXkuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAoc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMgJiYgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmZvckVhY2goZXZlbnRIYW5kbGVyID0+IHtcbiAgICAgICAgICBldmVudEhhbmRsZXIuYXBwbHkoY29udGV4dCwgW2V2ZW50LCAuLi5kYXRhXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGYuZXZlbnRzTGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uZm9yRWFjaChldmVudEhhbmRsZXIgPT4ge1xuICAgICAgICAgIGV2ZW50SGFuZGxlci5hcHBseShjb250ZXh0LCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZVNpemUoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGxldCB3aWR0aDtcbiAgbGV0IGhlaWdodDtcbiAgY29uc3QgZWwgPSBzd2lwZXIuZWw7XG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gbnVsbCkge1xuICAgIHdpZHRoID0gc3dpcGVyLnBhcmFtcy53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICB3aWR0aCA9IGVsLmNsaWVudFdpZHRoO1xuICB9XG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy5oZWlnaHQgIT09ICd1bmRlZmluZWQnICYmIHN3aXBlci5wYXJhbXMuaGVpZ2h0ICE9PSBudWxsKSB7XG4gICAgaGVpZ2h0ID0gc3dpcGVyLnBhcmFtcy5oZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgaGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0O1xuICB9XG4gIGlmICh3aWR0aCA9PT0gMCAmJiBzd2lwZXIuaXNIb3Jpem9udGFsKCkgfHwgaGVpZ2h0ID09PSAwICYmIHN3aXBlci5pc1ZlcnRpY2FsKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBTdWJ0cmFjdCBwYWRkaW5nc1xuICB3aWR0aCA9IHdpZHRoIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1sZWZ0JykgfHwgMCwgMTApIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1yaWdodCcpIHx8IDAsIDEwKTtcbiAgaGVpZ2h0ID0gaGVpZ2h0IC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy10b3AnKSB8fCAwLCAxMCkgLSBwYXJzZUludChlbGVtZW50U3R5bGUoZWwsICdwYWRkaW5nLWJvdHRvbScpIHx8IDAsIDEwKTtcbiAgaWYgKE51bWJlci5pc05hTih3aWR0aCkpIHdpZHRoID0gMDtcbiAgaWYgKE51bWJlci5pc05hTihoZWlnaHQpKSBoZWlnaHQgPSAwO1xuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBzaXplOiBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB3aWR0aCA6IGhlaWdodFxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBmdW5jdGlvbiBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKG5vZGUsIGxhYmVsKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQobm9kZS5nZXRQcm9wZXJ0eVZhbHVlKHN3aXBlci5nZXREaXJlY3Rpb25MYWJlbChsYWJlbCkpIHx8IDApO1xuICB9XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICB3cmFwcGVyRWwsXG4gICAgc2xpZGVzRWwsXG4gICAgc2l6ZTogc3dpcGVyU2l6ZSxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB3cm9uZ1JUTFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBjb25zdCBwcmV2aW91c1NsaWRlc0xlbmd0aCA9IGlzVmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgY29uc3Qgc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gIGNvbnN0IHNsaWRlc0xlbmd0aCA9IGlzVmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzbGlkZXMubGVuZ3RoO1xuICBsZXQgc25hcEdyaWQgPSBbXTtcbiAgY29uc3Qgc2xpZGVzR3JpZCA9IFtdO1xuICBjb25zdCBzbGlkZXNTaXplc0dyaWQgPSBbXTtcbiAgbGV0IG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmU7XG4gIGlmICh0eXBlb2Ygb2Zmc2V0QmVmb3JlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2Zmc2V0QmVmb3JlID0gcGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZS5jYWxsKHN3aXBlcik7XG4gIH1cbiAgbGV0IG9mZnNldEFmdGVyID0gcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyO1xuICBpZiAodHlwZW9mIG9mZnNldEFmdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2Zmc2V0QWZ0ZXIgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXIuY2FsbChzd2lwZXIpO1xuICB9XG4gIGNvbnN0IHByZXZpb3VzU25hcEdyaWRMZW5ndGggPSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoO1xuICBjb25zdCBwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGggPSBzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGg7XG4gIGxldCBzcGFjZUJldHdlZW4gPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuICBsZXQgc2xpZGVQb3NpdGlvbiA9IC1vZmZzZXRCZWZvcmU7XG4gIGxldCBwcmV2U2xpZGVTaXplID0gMDtcbiAgbGV0IGluZGV4ID0gMDtcbiAgaWYgKHR5cGVvZiBzd2lwZXJTaXplID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycgJiYgc3BhY2VCZXR3ZWVuLmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4ucmVwbGFjZSgnJScsICcnKSkgLyAxMDAgKiBzd2lwZXJTaXplO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4pO1xuICB9XG4gIHN3aXBlci52aXJ0dWFsU2l6ZSA9IC1zcGFjZUJldHdlZW47XG5cbiAgLy8gcmVzZXQgbWFyZ2luc1xuICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBpZiAocnRsKSB7XG4gICAgICBzbGlkZUVsLnN0eWxlLm1hcmdpbkxlZnQgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVFbC5zdHlsZS5tYXJnaW5SaWdodCA9ICcnO1xuICAgIH1cbiAgICBzbGlkZUVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcnO1xuICAgIHNsaWRlRWwuc3R5bGUubWFyZ2luVG9wID0gJyc7XG4gIH0pO1xuXG4gIC8vIHJlc2V0IGNzc01vZGUgb2Zmc2V0c1xuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWJlZm9yZScsICcnKTtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXInLCAnJyk7XG4gIH1cbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMSAmJiBzd2lwZXIuZ3JpZDtcbiAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgc3dpcGVyLmdyaWQuaW5pdFNsaWRlcyhzbGlkZXMpO1xuICB9IGVsc2UgaWYgKHN3aXBlci5ncmlkKSB7XG4gICAgc3dpcGVyLmdyaWQudW5zZXRTbGlkZXMoKTtcbiAgfVxuXG4gIC8vIENhbGMgc2xpZGVzXG4gIGxldCBzbGlkZVNpemU7XG4gIGNvbnN0IHNob3VsZFJlc2V0U2xpZGVTaXplID0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuYnJlYWtwb2ludHMgJiYgT2JqZWN0LmtleXMocGFyYW1zLmJyZWFrcG9pbnRzKS5maWx0ZXIoa2V5ID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIHBhcmFtcy5icmVha3BvaW50c1trZXldLnNsaWRlc1BlclZpZXcgIT09ICd1bmRlZmluZWQnO1xuICB9KS5sZW5ndGggPiAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0xlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVTaXplID0gMDtcbiAgICBsZXQgc2xpZGU7XG4gICAgaWYgKHNsaWRlc1tpXSkgc2xpZGUgPSBzbGlkZXNbaV07XG4gICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICBzd2lwZXIuZ3JpZC51cGRhdGVTbGlkZShpLCBzbGlkZSwgc2xpZGVzKTtcbiAgICB9XG4gICAgaWYgKHNsaWRlc1tpXSAmJiBlbGVtZW50U3R5bGUoc2xpZGUsICdkaXNwbGF5JykgPT09ICdub25lJykgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgICBpZiAoc2hvdWxkUmVzZXRTbGlkZVNpemUpIHtcbiAgICAgICAgc2xpZGVzW2ldLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgYDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsaWRlU3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSk7XG4gICAgICBjb25zdCBjdXJyZW50VHJhbnNmb3JtID0gc2xpZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgY29uc3QgY3VycmVudFdlYktpdFRyYW5zZm9ybSA9IHNsaWRlLnN0eWxlLndlYmtpdFRyYW5zZm9ybTtcbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50V2ViS2l0VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSB7XG4gICAgICAgIHNsaWRlU2l6ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IGVsZW1lbnRPdXRlclNpemUoc2xpZGUsICd3aWR0aCcsIHRydWUpIDogZWxlbWVudE91dGVyU2l6ZShzbGlkZSwgJ2hlaWdodCcsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3dpZHRoJyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3BhZGRpbmctbGVmdCcpO1xuICAgICAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAncGFkZGluZy1yaWdodCcpO1xuICAgICAgICBjb25zdCBtYXJnaW5MZWZ0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ21hcmdpbi1sZWZ0Jyk7XG4gICAgICAgIGNvbnN0IG1hcmdpblJpZ2h0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ21hcmdpbi1yaWdodCcpO1xuICAgICAgICBjb25zdCBib3hTaXppbmcgPSBzbGlkZVN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdib3gtc2l6aW5nJyk7XG4gICAgICAgIGlmIChib3hTaXppbmcgJiYgYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICAgICAgICBzbGlkZVNpemUgPSB3aWR0aCArIG1hcmdpbkxlZnQgKyBtYXJnaW5SaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjbGllbnRXaWR0aCxcbiAgICAgICAgICAgIG9mZnNldFdpZHRoXG4gICAgICAgICAgfSA9IHNsaWRlO1xuICAgICAgICAgIHNsaWRlU2l6ZSA9IHdpZHRoICsgcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQgKyBtYXJnaW5MZWZ0ICsgbWFyZ2luUmlnaHQgKyAob2Zmc2V0V2lkdGggLSBjbGllbnRXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9IGN1cnJlbnRUcmFuc2Zvcm07XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFdlYktpdFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBjdXJyZW50V2ViS2l0VHJhbnNmb3JtO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlU2l6ZSA9IE1hdGguZmxvb3Ioc2xpZGVTaXplKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVTaXplID0gKHN3aXBlclNpemUgLSAocGFyYW1zLnNsaWRlc1BlclZpZXcgLSAxKSAqIHNwYWNlQmV0d2VlbikgLyBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVNpemUgPSBNYXRoLmZsb29yKHNsaWRlU2l6ZSk7XG4gICAgICBpZiAoc2xpZGVzW2ldKSB7XG4gICAgICAgIHNsaWRlc1tpXS5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYCR7c2xpZGVTaXplfXB4YDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNsaWRlc1tpXSkge1xuICAgICAgc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZSA9IHNsaWRlU2l6ZTtcbiAgICB9XG4gICAgc2xpZGVzU2l6ZXNHcmlkLnB1c2goc2xpZGVTaXplKTtcbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiArIHNsaWRlU2l6ZSAvIDIgKyBwcmV2U2xpZGVTaXplIC8gMiArIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChwcmV2U2xpZGVTaXplID09PSAwICYmIGkgIT09IDApIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uIC0gc3dpcGVyU2l6ZSAvIDIgLSBzcGFjZUJldHdlZW47XG4gICAgICBpZiAoaSA9PT0gMCkgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gLSBzd2lwZXJTaXplIC8gMiAtIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChNYXRoLmFicyhzbGlkZVBvc2l0aW9uKSA8IDEgLyAxMDAwKSBzbGlkZVBvc2l0aW9uID0gMDtcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVBvc2l0aW9uID0gTWF0aC5mbG9vcihzbGlkZVBvc2l0aW9uKTtcbiAgICAgIGlmIChpbmRleCAlIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlUG9zaXRpb24gPSBNYXRoLmZsb29yKHNsaWRlUG9zaXRpb24pO1xuICAgICAgaWYgKChpbmRleCAtIE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBpbmRleCkpICUgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uICsgc2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuO1xuICAgIH1cbiAgICBzd2lwZXIudmlydHVhbFNpemUgKz0gc2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuO1xuICAgIHByZXZTbGlkZVNpemUgPSBzbGlkZVNpemU7XG4gICAgaW5kZXggKz0gMTtcbiAgfVxuICBzd2lwZXIudmlydHVhbFNpemUgPSBNYXRoLm1heChzd2lwZXIudmlydHVhbFNpemUsIHN3aXBlclNpemUpICsgb2Zmc2V0QWZ0ZXI7XG4gIGlmIChydGwgJiYgd3JvbmdSVEwgJiYgKHBhcmFtcy5lZmZlY3QgPT09ICdzbGlkZScgfHwgcGFyYW1zLmVmZmVjdCA9PT0gJ2NvdmVyZmxvdycpKSB7XG4gICAgd3JhcHBlckVsLnN0eWxlLndpZHRoID0gYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgc3BhY2VCZXR3ZWVufXB4YDtcbiAgfVxuICBpZiAocGFyYW1zLnNldFdyYXBwZXJTaXplKSB7XG4gICAgd3JhcHBlckVsLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgJHtzd2lwZXIudmlydHVhbFNpemUgKyBzcGFjZUJldHdlZW59cHhgO1xuICB9XG4gIGlmIChncmlkRW5hYmxlZCkge1xuICAgIHN3aXBlci5ncmlkLnVwZGF0ZVdyYXBwZXJTaXplKHNsaWRlU2l6ZSwgc25hcEdyaWQpO1xuICB9XG5cbiAgLy8gUmVtb3ZlIGxhc3QgZ3JpZCBlbGVtZW50cyBkZXBlbmRpbmcgb24gd2lkdGhcbiAgaWYgKCFwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICBjb25zdCBuZXdTbGlkZXNHcmlkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbmFwR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHNsaWRlc0dyaWRJdGVtID0gc25hcEdyaWRbaV07XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVzR3JpZEl0ZW0gPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgIGlmIChzbmFwR3JpZFtpXSA8PSBzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSB7XG4gICAgICAgIG5ld1NsaWRlc0dyaWQucHVzaChzbGlkZXNHcmlkSXRlbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNuYXBHcmlkID0gbmV3U2xpZGVzR3JpZDtcbiAgICBpZiAoTWF0aC5mbG9vcihzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSAtIE1hdGguZmxvb3Ioc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0pID4gMSkge1xuICAgICAgc25hcEdyaWQucHVzaChzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVmlydHVhbCAmJiBwYXJhbXMubG9vcCkge1xuICAgIGNvbnN0IHNpemUgPSBzbGlkZXNTaXplc0dyaWRbMF0gKyBzcGFjZUJldHdlZW47XG4gICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEpIHtcbiAgICAgIGNvbnN0IGdyb3VwcyA9IE1hdGguY2VpbCgoc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQWZ0ZXIpIC8gcGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgICAgIGNvbnN0IGdyb3VwU2l6ZSA9IHNpemUgKiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwczsgaSArPSAxKSB7XG4gICAgICAgIHNuYXBHcmlkLnB1c2goc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0gKyBncm91cFNpemUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0FmdGVyOyBpICs9IDEpIHtcbiAgICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEpIHtcbiAgICAgICAgc25hcEdyaWQucHVzaChzbmFwR3JpZFtzbmFwR3JpZC5sZW5ndGggLSAxXSArIHNpemUpO1xuICAgICAgfVxuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAxXSArIHNpemUpO1xuICAgICAgc3dpcGVyLnZpcnR1YWxTaXplICs9IHNpemU7XG4gICAgfVxuICB9XG4gIGlmIChzbmFwR3JpZC5sZW5ndGggPT09IDApIHNuYXBHcmlkID0gWzBdO1xuICBpZiAoc3BhY2VCZXR3ZWVuICE9PSAwKSB7XG4gICAgY29uc3Qga2V5ID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIHJ0bCA/ICdtYXJnaW5MZWZ0JyA6IHN3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luUmlnaHQnKTtcbiAgICBzbGlkZXMuZmlsdGVyKChfLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICBpZiAoIXBhcmFtcy5jc3NNb2RlIHx8IHBhcmFtcy5sb29wKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChzbGlkZUluZGV4ID09PSBzbGlkZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KS5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgc2xpZGVFbC5zdHlsZVtrZXldID0gYCR7c3BhY2VCZXR3ZWVufXB4YDtcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlc0JvdW5kcykge1xuICAgIGxldCBhbGxTbGlkZXNTaXplID0gMDtcbiAgICBzbGlkZXNTaXplc0dyaWQuZm9yRWFjaChzbGlkZVNpemVWYWx1ZSA9PiB7XG4gICAgICBhbGxTbGlkZXNTaXplICs9IHNsaWRlU2l6ZVZhbHVlICsgKHNwYWNlQmV0d2VlbiB8fCAwKTtcbiAgICB9KTtcbiAgICBhbGxTbGlkZXNTaXplIC09IHNwYWNlQmV0d2VlbjtcbiAgICBjb25zdCBtYXhTbmFwID0gYWxsU2xpZGVzU2l6ZSA+IHN3aXBlclNpemUgPyBhbGxTbGlkZXNTaXplIC0gc3dpcGVyU2l6ZSA6IDA7XG4gICAgc25hcEdyaWQgPSBzbmFwR3JpZC5tYXAoc25hcCA9PiB7XG4gICAgICBpZiAoc25hcCA8PSAwKSByZXR1cm4gLW9mZnNldEJlZm9yZTtcbiAgICAgIGlmIChzbmFwID4gbWF4U25hcCkgcmV0dXJuIG1heFNuYXAgKyBvZmZzZXRBZnRlcjtcbiAgICAgIHJldHVybiBzbmFwO1xuICAgIH0pO1xuICB9XG4gIGlmIChwYXJhbXMuY2VudGVySW5zdWZmaWNpZW50U2xpZGVzKSB7XG4gICAgbGV0IGFsbFNsaWRlc1NpemUgPSAwO1xuICAgIHNsaWRlc1NpemVzR3JpZC5mb3JFYWNoKHNsaWRlU2l6ZVZhbHVlID0+IHtcbiAgICAgIGFsbFNsaWRlc1NpemUgKz0gc2xpZGVTaXplVmFsdWUgKyAoc3BhY2VCZXR3ZWVuIHx8IDApO1xuICAgIH0pO1xuICAgIGFsbFNsaWRlc1NpemUgLT0gc3BhY2VCZXR3ZWVuO1xuICAgIGNvbnN0IG9mZnNldFNpemUgPSAocGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZSB8fCAwKSArIChwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXIgfHwgMCk7XG4gICAgaWYgKGFsbFNsaWRlc1NpemUgKyBvZmZzZXRTaXplIDwgc3dpcGVyU2l6ZSkge1xuICAgICAgY29uc3QgYWxsU2xpZGVzT2Zmc2V0ID0gKHN3aXBlclNpemUgLSBhbGxTbGlkZXNTaXplIC0gb2Zmc2V0U2l6ZSkgLyAyO1xuICAgICAgc25hcEdyaWQuZm9yRWFjaCgoc25hcCwgc25hcEluZGV4KSA9PiB7XG4gICAgICAgIHNuYXBHcmlkW3NuYXBJbmRleF0gPSBzbmFwIC0gYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgfSk7XG4gICAgICBzbGlkZXNHcmlkLmZvckVhY2goKHNuYXAsIHNuYXBJbmRleCkgPT4ge1xuICAgICAgICBzbGlkZXNHcmlkW3NuYXBJbmRleF0gPSBzbmFwICsgYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgc2xpZGVzLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgc2xpZGVzU2l6ZXNHcmlkXG4gIH0pO1xuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jc3NNb2RlICYmICFwYXJhbXMuY2VudGVyZWRTbGlkZXNCb3VuZHMpIHtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYmVmb3JlJywgYCR7LXNuYXBHcmlkWzBdfXB4YCk7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWFmdGVyJywgYCR7c3dpcGVyLnNpemUgLyAyIC0gc2xpZGVzU2l6ZXNHcmlkW3NsaWRlc1NpemVzR3JpZC5sZW5ndGggLSAxXSAvIDJ9cHhgKTtcbiAgICBjb25zdCBhZGRUb1NuYXBHcmlkID0gLXN3aXBlci5zbmFwR3JpZFswXTtcbiAgICBjb25zdCBhZGRUb1NsaWRlc0dyaWQgPSAtc3dpcGVyLnNsaWRlc0dyaWRbMF07XG4gICAgc3dpcGVyLnNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkLm1hcCh2ID0+IHYgKyBhZGRUb1NuYXBHcmlkKTtcbiAgICBzd2lwZXIuc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLm1hcCh2ID0+IHYgKyBhZGRUb1NsaWRlc0dyaWQpO1xuICB9XG4gIGlmIChzbGlkZXNMZW5ndGggIT09IHByZXZpb3VzU2xpZGVzTGVuZ3RoKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlc0xlbmd0aENoYW5nZScpO1xuICB9XG4gIGlmIChzbmFwR3JpZC5sZW5ndGggIT09IHByZXZpb3VzU25hcEdyaWRMZW5ndGgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93KSBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIHN3aXBlci5lbWl0KCdzbmFwR3JpZExlbmd0aENoYW5nZScpO1xuICB9XG4gIGlmIChzbGlkZXNHcmlkLmxlbmd0aCAhPT0gcHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlc0dyaWRMZW5ndGhDaGFuZ2UnKTtcbiAgfVxuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NsaWRlc1VwZGF0ZWQnKTtcbiAgaWYgKCFpc1ZpcnR1YWwgJiYgIXBhcmFtcy5jc3NNb2RlICYmIChwYXJhbXMuZWZmZWN0ID09PSAnc2xpZGUnIHx8IHBhcmFtcy5lZmZlY3QgPT09ICdmYWRlJykpIHtcbiAgICBjb25zdCBiYWNrRmFjZUhpZGRlbkNsYXNzID0gYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9YmFja2ZhY2UtaGlkZGVuYDtcbiAgICBjb25zdCBoYXNDbGFzc0JhY2tmYWNlQ2xhc3NBZGRlZCA9IHN3aXBlci5lbC5jbGFzc0xpc3QuY29udGFpbnMoYmFja0ZhY2VIaWRkZW5DbGFzcyk7XG4gICAgaWYgKHNsaWRlc0xlbmd0aCA8PSBwYXJhbXMubWF4QmFja2ZhY2VIaWRkZW5TbGlkZXMpIHtcbiAgICAgIGlmICghaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQpIHN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKGJhY2tGYWNlSGlkZGVuQ2xhc3MpO1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQpIHtcbiAgICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKGJhY2tGYWNlSGlkZGVuQ2xhc3MpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVBdXRvSGVpZ2h0KHNwZWVkKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGFjdGl2ZVNsaWRlcyA9IFtdO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgbGV0IG5ld0hlaWdodCA9IDA7XG4gIGxldCBpO1xuICBpZiAodHlwZW9mIHNwZWVkID09PSAnbnVtYmVyJykge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgfSBlbHNlIGlmIChzcGVlZCA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHN3aXBlci5wYXJhbXMuc3BlZWQpO1xuICB9XG4gIGNvbnN0IGdldFNsaWRlQnlJbmRleCA9IGluZGV4ID0+IHtcbiAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICByZXR1cm4gc3dpcGVyLnNsaWRlc1tzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShpbmRleCldO1xuICAgIH1cbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlc1tpbmRleF07XG4gIH07XG4gIC8vIEZpbmQgc2xpZGVzIGN1cnJlbnRseSBpbiB2aWV3XG4gIGlmIChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIChzd2lwZXIudmlzaWJsZVNsaWRlcyB8fCBbXSkuZm9yRWFjaChzbGlkZSA9PiB7XG4gICAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyk7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCArIGk7XG4gICAgICAgIGlmIChpbmRleCA+IHN3aXBlci5zbGlkZXMubGVuZ3RoICYmICFpc1ZpcnR1YWwpIGJyZWFrO1xuICAgICAgICBhY3RpdmVTbGlkZXMucHVzaChnZXRTbGlkZUJ5SW5kZXgoaW5kZXgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYWN0aXZlU2xpZGVzLnB1c2goZ2V0U2xpZGVCeUluZGV4KHN3aXBlci5hY3RpdmVJbmRleCkpO1xuICB9XG5cbiAgLy8gRmluZCBuZXcgaGVpZ2h0IGZyb20gaGlnaGVzdCBzbGlkZSBpbiB2aWV3XG4gIGZvciAoaSA9IDA7IGkgPCBhY3RpdmVTbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodHlwZW9mIGFjdGl2ZVNsaWRlc1tpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGFjdGl2ZVNsaWRlc1tpXS5vZmZzZXRIZWlnaHQ7XG4gICAgICBuZXdIZWlnaHQgPSBoZWlnaHQgPiBuZXdIZWlnaHQgPyBoZWlnaHQgOiBuZXdIZWlnaHQ7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIEhlaWdodFxuICBpZiAobmV3SGVpZ2h0IHx8IG5ld0hlaWdodCA9PT0gMCkgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTbGlkZXNPZmZzZXQoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHNsaWRlcyA9IHN3aXBlci5zbGlkZXM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBjb25zdCBtaW51c09mZnNldCA9IHN3aXBlci5pc0VsZW1lbnQgPyBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzd2lwZXIud3JhcHBlckVsLm9mZnNldExlZnQgOiBzd2lwZXIud3JhcHBlckVsLm9mZnNldFRvcCA6IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVzW2ldLnN3aXBlclNsaWRlT2Zmc2V0ID0gKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHNsaWRlc1tpXS5vZmZzZXRMZWZ0IDogc2xpZGVzW2ldLm9mZnNldFRvcCkgLSBtaW51c09mZnNldCAtIHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgfVxufVxuXG5jb25zdCB0b2dnbGVTbGlkZUNsYXNzZXMkMSA9IChzbGlkZUVsLCBjb25kaXRpb24sIGNsYXNzTmFtZSkgPT4ge1xuICBpZiAoY29uZGl0aW9uICYmICFzbGlkZUVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgc2xpZGVFbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gIH0gZWxzZSBpZiAoIWNvbmRpdGlvbiAmJiBzbGlkZUVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gIH1cbn07XG5mdW5jdGlvbiB1cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUpIHtcbiAgaWYgKHRyYW5zbGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgdHJhbnNsYXRlID0gdGhpcyAmJiB0aGlzLnRyYW5zbGF0ZSB8fCAwO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgc25hcEdyaWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHNsaWRlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgaWYgKHR5cGVvZiBzbGlkZXNbMF0uc3dpcGVyU2xpZGVPZmZzZXQgPT09ICd1bmRlZmluZWQnKSBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIGxldCBvZmZzZXRDZW50ZXIgPSAtdHJhbnNsYXRlO1xuICBpZiAocnRsKSBvZmZzZXRDZW50ZXIgPSB0cmFuc2xhdGU7XG4gIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcyA9IFtdO1xuICBzd2lwZXIudmlzaWJsZVNsaWRlcyA9IFtdO1xuICBsZXQgc3BhY2VCZXR3ZWVuID0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnICYmIHNwYWNlQmV0d2Vlbi5pbmRleE9mKCclJykgPj0gMCkge1xuICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuLnJlcGxhY2UoJyUnLCAnJykpIC8gMTAwICogc3dpcGVyLnNpemU7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycpIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbik7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBzbGlkZSA9IHNsaWRlc1tpXTtcbiAgICBsZXQgc2xpZGVPZmZzZXQgPSBzbGlkZS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICBpZiAocGFyYW1zLmNzc01vZGUgJiYgcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZU9mZnNldCAtPSBzbGlkZXNbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgfVxuICAgIGNvbnN0IHNsaWRlUHJvZ3Jlc3MgPSAob2Zmc2V0Q2VudGVyICsgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IDApIC0gc2xpZGVPZmZzZXQpIC8gKHNsaWRlLnN3aXBlclNsaWRlU2l6ZSArIHNwYWNlQmV0d2Vlbik7XG4gICAgY29uc3Qgb3JpZ2luYWxTbGlkZVByb2dyZXNzID0gKG9mZnNldENlbnRlciAtIHNuYXBHcmlkWzBdICsgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IDApIC0gc2xpZGVPZmZzZXQpIC8gKHNsaWRlLnN3aXBlclNsaWRlU2l6ZSArIHNwYWNlQmV0d2Vlbik7XG4gICAgY29uc3Qgc2xpZGVCZWZvcmUgPSAtKG9mZnNldENlbnRlciAtIHNsaWRlT2Zmc2V0KTtcbiAgICBjb25zdCBzbGlkZUFmdGVyID0gc2xpZGVCZWZvcmUgKyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgIGNvbnN0IGlzRnVsbHlWaXNpYmxlID0gc2xpZGVCZWZvcmUgPj0gMCAmJiBzbGlkZUJlZm9yZSA8PSBzd2lwZXIuc2l6ZSAtIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbaV07XG4gICAgY29uc3QgaXNWaXNpYmxlID0gc2xpZGVCZWZvcmUgPj0gMCAmJiBzbGlkZUJlZm9yZSA8IHN3aXBlci5zaXplIC0gMSB8fCBzbGlkZUFmdGVyID4gMSAmJiBzbGlkZUFmdGVyIDw9IHN3aXBlci5zaXplIHx8IHNsaWRlQmVmb3JlIDw9IDAgJiYgc2xpZGVBZnRlciA+PSBzd2lwZXIuc2l6ZTtcbiAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICBzd2lwZXIudmlzaWJsZVNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAgIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcy5wdXNoKGkpO1xuICAgIH1cbiAgICB0b2dnbGVTbGlkZUNsYXNzZXMkMShzbGlkZSwgaXNWaXNpYmxlLCBwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MpO1xuICAgIHRvZ2dsZVNsaWRlQ2xhc3NlcyQxKHNsaWRlLCBpc0Z1bGx5VmlzaWJsZSwgcGFyYW1zLnNsaWRlRnVsbHlWaXNpYmxlQ2xhc3MpO1xuICAgIHNsaWRlLnByb2dyZXNzID0gcnRsID8gLXNsaWRlUHJvZ3Jlc3MgOiBzbGlkZVByb2dyZXNzO1xuICAgIHNsaWRlLm9yaWdpbmFsUHJvZ3Jlc3MgPSBydGwgPyAtb3JpZ2luYWxTbGlkZVByb2dyZXNzIDogb3JpZ2luYWxTbGlkZVByb2dyZXNzO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAodHlwZW9mIHRyYW5zbGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IC0xIDogMTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB0cmFuc2xhdGUgPSBzd2lwZXIgJiYgc3dpcGVyLnRyYW5zbGF0ZSAmJiBzd2lwZXIudHJhbnNsYXRlICogbXVsdGlwbGllciB8fCAwO1xuICB9XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBsZXQge1xuICAgIHByb2dyZXNzLFxuICAgIGlzQmVnaW5uaW5nLFxuICAgIGlzRW5kLFxuICAgIHByb2dyZXNzTG9vcFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCB3YXNCZWdpbm5pbmcgPSBpc0JlZ2lubmluZztcbiAgY29uc3Qgd2FzRW5kID0gaXNFbmQ7XG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIHByb2dyZXNzID0gMDtcbiAgICBpc0JlZ2lubmluZyA9IHRydWU7XG4gICAgaXNFbmQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHByb2dyZXNzID0gKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgICBjb25zdCBpc0JlZ2lubmluZ1JvdW5kZWQgPSBNYXRoLmFicyh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIDwgMTtcbiAgICBjb25zdCBpc0VuZFJvdW5kZWQgPSBNYXRoLmFicyh0cmFuc2xhdGUgLSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIDwgMTtcbiAgICBpc0JlZ2lubmluZyA9IGlzQmVnaW5uaW5nUm91bmRlZCB8fCBwcm9ncmVzcyA8PSAwO1xuICAgIGlzRW5kID0gaXNFbmRSb3VuZGVkIHx8IHByb2dyZXNzID49IDE7XG4gICAgaWYgKGlzQmVnaW5uaW5nUm91bmRlZCkgcHJvZ3Jlc3MgPSAwO1xuICAgIGlmIChpc0VuZFJvdW5kZWQpIHByb2dyZXNzID0gMTtcbiAgfVxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBjb25zdCBmaXJzdFNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YSgwKTtcbiAgICBjb25zdCBsYXN0U2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSk7XG4gICAgY29uc3QgZmlyc3RTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2ZpcnN0U2xpZGVJbmRleF07XG4gICAgY29uc3QgbGFzdFNsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbbGFzdFNsaWRlSW5kZXhdO1xuICAgIGNvbnN0IHRyYW5zbGF0ZU1heCA9IHN3aXBlci5zbGlkZXNHcmlkW3N3aXBlci5zbGlkZXNHcmlkLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHRyYW5zbGF0ZUFicyA9IE1hdGguYWJzKHRyYW5zbGF0ZSk7XG4gICAgaWYgKHRyYW5zbGF0ZUFicyA+PSBmaXJzdFNsaWRlVHJhbnNsYXRlKSB7XG4gICAgICBwcm9ncmVzc0xvb3AgPSAodHJhbnNsYXRlQWJzIC0gZmlyc3RTbGlkZVRyYW5zbGF0ZSkgLyB0cmFuc2xhdGVNYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzTG9vcCA9ICh0cmFuc2xhdGVBYnMgKyB0cmFuc2xhdGVNYXggLSBsYXN0U2xpZGVUcmFuc2xhdGUpIC8gdHJhbnNsYXRlTWF4O1xuICAgIH1cbiAgICBpZiAocHJvZ3Jlc3NMb29wID4gMSkgcHJvZ3Jlc3NMb29wIC09IDE7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBwcm9ncmVzcyxcbiAgICBwcm9ncmVzc0xvb3AsXG4gICAgaXNCZWdpbm5pbmcsXG4gICAgaXNFbmRcbiAgfSk7XG4gIGlmIChwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyB8fCBwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmF1dG9IZWlnaHQpIHN3aXBlci51cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICBpZiAoaXNCZWdpbm5pbmcgJiYgIXdhc0JlZ2lubmluZykge1xuICAgIHN3aXBlci5lbWl0KCdyZWFjaEJlZ2lubmluZyB0b0VkZ2UnKTtcbiAgfVxuICBpZiAoaXNFbmQgJiYgIXdhc0VuZCkge1xuICAgIHN3aXBlci5lbWl0KCdyZWFjaEVuZCB0b0VkZ2UnKTtcbiAgfVxuICBpZiAod2FzQmVnaW5uaW5nICYmICFpc0JlZ2lubmluZyB8fCB3YXNFbmQgJiYgIWlzRW5kKSB7XG4gICAgc3dpcGVyLmVtaXQoJ2Zyb21FZGdlJyk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3Byb2dyZXNzJywgcHJvZ3Jlc3MpO1xufVxuXG5jb25zdCB0b2dnbGVTbGlkZUNsYXNzZXMgPSAoc2xpZGVFbCwgY29uZGl0aW9uLCBjbGFzc05hbWUpID0+IHtcbiAgaWYgKGNvbmRpdGlvbiAmJiAhc2xpZGVFbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgIHNsaWRlRWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICB9IGVsc2UgaWYgKCFjb25kaXRpb24gJiYgc2xpZGVFbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9XG59O1xuZnVuY3Rpb24gdXBkYXRlU2xpZGVzQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWwsXG4gICAgYWN0aXZlSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgY29uc3QgZ2V0RmlsdGVyZWRTbGlkZSA9IHNlbGVjdG9yID0+IHtcbiAgICByZXR1cm4gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9JHtzZWxlY3Rvcn0sIHN3aXBlci1zbGlkZSR7c2VsZWN0b3J9YClbMF07XG4gIH07XG4gIGxldCBhY3RpdmVTbGlkZTtcbiAgbGV0IHByZXZTbGlkZTtcbiAgbGV0IG5leHRTbGlkZTtcbiAgaWYgKGlzVmlydHVhbCkge1xuICAgIGlmIChwYXJhbXMubG9vcCkge1xuICAgICAgbGV0IHNsaWRlSW5kZXggPSBhY3RpdmVJbmRleCAtIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZTtcbiAgICAgIGlmIChzbGlkZUluZGV4IDwgMCkgc2xpZGVJbmRleCA9IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggKyBzbGlkZUluZGV4O1xuICAgICAgaWYgKHNsaWRlSW5kZXggPj0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCkgc2xpZGVJbmRleCAtPSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoO1xuICAgICAgYWN0aXZlU2xpZGUgPSBnZXRGaWx0ZXJlZFNsaWRlKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3NsaWRlSW5kZXh9XCJdYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZVNsaWRlID0gZ2V0RmlsdGVyZWRTbGlkZShgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHthY3RpdmVJbmRleH1cIl1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlcy5maW5kKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4KTtcbiAgICAgIG5leHRTbGlkZSA9IHNsaWRlcy5maW5kKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4ICsgMSk7XG4gICAgICBwcmV2U2xpZGUgPSBzbGlkZXMuZmluZChzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleCAtIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1thY3RpdmVJbmRleF07XG4gICAgfVxuICB9XG4gIGlmIChhY3RpdmVTbGlkZSkge1xuICAgIGlmICghZ3JpZEVuYWJsZWQpIHtcbiAgICAgIC8vIE5leHQgU2xpZGVcbiAgICAgIG5leHRTbGlkZSA9IGVsZW1lbnROZXh0QWxsKGFjdGl2ZVNsaWRlLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKVswXTtcbiAgICAgIGlmIChwYXJhbXMubG9vcCAmJiAhbmV4dFNsaWRlKSB7XG4gICAgICAgIG5leHRTbGlkZSA9IHNsaWRlc1swXTtcbiAgICAgIH1cblxuICAgICAgLy8gUHJldiBTbGlkZVxuICAgICAgcHJldlNsaWRlID0gZWxlbWVudFByZXZBbGwoYWN0aXZlU2xpZGUsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApWzBdO1xuICAgICAgaWYgKHBhcmFtcy5sb29wICYmICFwcmV2U2xpZGUgPT09IDApIHtcbiAgICAgICAgcHJldlNsaWRlID0gc2xpZGVzW3NsaWRlcy5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgdG9nZ2xlU2xpZGVDbGFzc2VzKHNsaWRlRWwsIHNsaWRlRWwgPT09IGFjdGl2ZVNsaWRlLCBwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcyk7XG4gICAgdG9nZ2xlU2xpZGVDbGFzc2VzKHNsaWRlRWwsIHNsaWRlRWwgPT09IG5leHRTbGlkZSwgcGFyYW1zLnNsaWRlTmV4dENsYXNzKTtcbiAgICB0b2dnbGVTbGlkZUNsYXNzZXMoc2xpZGVFbCwgc2xpZGVFbCA9PT0gcHJldlNsaWRlLCBwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICB9KTtcbiAgc3dpcGVyLmVtaXRTbGlkZXNDbGFzc2VzKCk7XG59XG5cbmNvbnN0IHByb2Nlc3NMYXp5UHJlbG9hZGVyID0gKHN3aXBlciwgaW1hZ2VFbCkgPT4ge1xuICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIucGFyYW1zKSByZXR1cm47XG4gIGNvbnN0IHNsaWRlU2VsZWN0b3IgPSAoKSA9PiBzd2lwZXIuaXNFbGVtZW50ID8gYHN3aXBlci1zbGlkZWAgOiBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfWA7XG4gIGNvbnN0IHNsaWRlRWwgPSBpbWFnZUVsLmNsb3Nlc3Qoc2xpZGVTZWxlY3RvcigpKTtcbiAgaWYgKHNsaWRlRWwpIHtcbiAgICBsZXQgbGF6eUVsID0gc2xpZGVFbC5xdWVyeVNlbGVjdG9yKGAuJHtzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkZXJDbGFzc31gKTtcbiAgICBpZiAoIWxhenlFbCAmJiBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBpZiAoc2xpZGVFbC5zaGFkb3dSb290KSB7XG4gICAgICAgIGxhenlFbCA9IHNsaWRlRWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGAuJHtzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkZXJDbGFzc31gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluaXQgbGF0ZXJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBpZiAoc2xpZGVFbC5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICBsYXp5RWwgPSBzbGlkZUVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihgLiR7c3dpcGVyLnBhcmFtcy5sYXp5UHJlbG9hZGVyQ2xhc3N9YCk7XG4gICAgICAgICAgICBpZiAobGF6eUVsKSBsYXp5RWwucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhenlFbCkgbGF6eUVsLnJlbW92ZSgpO1xuICB9XG59O1xuY29uc3QgdW5sYXp5ID0gKHN3aXBlciwgaW5kZXgpID0+IHtcbiAgaWYgKCFzd2lwZXIuc2xpZGVzW2luZGV4XSkgcmV0dXJuO1xuICBjb25zdCBpbWFnZUVsID0gc3dpcGVyLnNsaWRlc1tpbmRleF0ucXVlcnlTZWxlY3RvcignW2xvYWRpbmc9XCJsYXp5XCJdJyk7XG4gIGlmIChpbWFnZUVsKSBpbWFnZUVsLnJlbW92ZUF0dHJpYnV0ZSgnbG9hZGluZycpO1xufTtcbmNvbnN0IHByZWxvYWQgPSBzd2lwZXIgPT4ge1xuICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIucGFyYW1zKSByZXR1cm47XG4gIGxldCBhbW91bnQgPSBzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkUHJldk5leHQ7XG4gIGNvbnN0IGxlbiA9IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICBpZiAoIWxlbiB8fCAhYW1vdW50IHx8IGFtb3VudCA8IDApIHJldHVybjtcbiAgYW1vdW50ID0gTWF0aC5taW4oYW1vdW50LCBsZW4pO1xuICBjb25zdCBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IE1hdGguY2VpbChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcpO1xuICBjb25zdCBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgaWYgKHN3aXBlci5wYXJhbXMuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQucm93cyA+IDEpIHtcbiAgICBjb25zdCBhY3RpdmVDb2x1bW4gPSBhY3RpdmVJbmRleDtcbiAgICBjb25zdCBwcmVsb2FkQ29sdW1ucyA9IFthY3RpdmVDb2x1bW4gLSBhbW91bnRdO1xuICAgIHByZWxvYWRDb2x1bW5zLnB1c2goLi4uQXJyYXkuZnJvbSh7XG4gICAgICBsZW5ndGg6IGFtb3VudFxuICAgIH0pLm1hcCgoXywgaSkgPT4ge1xuICAgICAgcmV0dXJuIGFjdGl2ZUNvbHVtbiArIHNsaWRlc1BlclZpZXcgKyBpO1xuICAgIH0pKTtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlRWwsIGkpID0+IHtcbiAgICAgIGlmIChwcmVsb2FkQ29sdW1ucy5pbmNsdWRlcyhzbGlkZUVsLmNvbHVtbikpIHVubGF6eShzd2lwZXIsIGkpO1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzbGlkZUluZGV4TGFzdEluVmlldyA9IGFjdGl2ZUluZGV4ICsgc2xpZGVzUGVyVmlldyAtIDE7XG4gIGlmIChzd2lwZXIucGFyYW1zLnJld2luZCB8fCBzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggLSBhbW91bnQ7IGkgPD0gc2xpZGVJbmRleExhc3RJblZpZXcgKyBhbW91bnQ7IGkgKz0gMSkge1xuICAgICAgY29uc3QgcmVhbEluZGV4ID0gKGkgJSBsZW4gKyBsZW4pICUgbGVuO1xuICAgICAgaWYgKHJlYWxJbmRleCA8IGFjdGl2ZUluZGV4IHx8IHJlYWxJbmRleCA+IHNsaWRlSW5kZXhMYXN0SW5WaWV3KSB1bmxhenkoc3dpcGVyLCByZWFsSW5kZXgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gTWF0aC5tYXgoYWN0aXZlSW5kZXggLSBhbW91bnQsIDApOyBpIDw9IE1hdGgubWluKHNsaWRlSW5kZXhMYXN0SW5WaWV3ICsgYW1vdW50LCBsZW4gLSAxKTsgaSArPSAxKSB7XG4gICAgICBpZiAoaSAhPT0gYWN0aXZlSW5kZXggJiYgKGkgPiBzbGlkZUluZGV4TGFzdEluVmlldyB8fCBpIDwgYWN0aXZlSW5kZXgpKSB7XG4gICAgICAgIHVubGF6eShzd2lwZXIsIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0QWN0aXZlSW5kZXhCeVRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgY29uc3Qge1xuICAgIHNsaWRlc0dyaWQsXG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGxldCBhY3RpdmVJbmRleDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSAmJiB0cmFuc2xhdGUgPCBzbGlkZXNHcmlkW2kgKyAxXSAtIChzbGlkZXNHcmlkW2kgKyAxXSAtIHNsaWRlc0dyaWRbaV0pIC8gMikge1xuICAgICAgICBhY3RpdmVJbmRleCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldICYmIHRyYW5zbGF0ZSA8IHNsaWRlc0dyaWRbaSArIDFdKSB7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gaSArIDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSkge1xuICAgICAgYWN0aXZlSW5kZXggPSBpO1xuICAgIH1cbiAgfVxuICAvLyBOb3JtYWxpemUgc2xpZGVJbmRleFxuICBpZiAocGFyYW1zLm5vcm1hbGl6ZVNsaWRlSW5kZXgpIHtcbiAgICBpZiAoYWN0aXZlSW5kZXggPCAwIHx8IHR5cGVvZiBhY3RpdmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIGFjdGl2ZUluZGV4ID0gMDtcbiAgfVxuICByZXR1cm4gYWN0aXZlSW5kZXg7XG59XG5mdW5jdGlvbiB1cGRhdGVBY3RpdmVJbmRleChuZXdBY3RpdmVJbmRleCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBjb25zdCB7XG4gICAgc25hcEdyaWQsXG4gICAgcGFyYW1zLFxuICAgIGFjdGl2ZUluZGV4OiBwcmV2aW91c0luZGV4LFxuICAgIHJlYWxJbmRleDogcHJldmlvdXNSZWFsSW5kZXgsXG4gICAgc25hcEluZGV4OiBwcmV2aW91c1NuYXBJbmRleFxuICB9ID0gc3dpcGVyO1xuICBsZXQgYWN0aXZlSW5kZXggPSBuZXdBY3RpdmVJbmRleDtcbiAgbGV0IHNuYXBJbmRleDtcbiAgY29uc3QgZ2V0VmlydHVhbFJlYWxJbmRleCA9IGFJbmRleCA9PiB7XG4gICAgbGV0IHJlYWxJbmRleCA9IGFJbmRleCAtIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZTtcbiAgICBpZiAocmVhbEluZGV4IDwgMCkge1xuICAgICAgcmVhbEluZGV4ID0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCArIHJlYWxJbmRleDtcbiAgICB9XG4gICAgaWYgKHJlYWxJbmRleCA+PSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICByZWFsSW5kZXggLT0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlYWxJbmRleDtcbiAgfTtcbiAgaWYgKHR5cGVvZiBhY3RpdmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBhY3RpdmVJbmRleCA9IGdldEFjdGl2ZUluZGV4QnlUcmFuc2xhdGUoc3dpcGVyKTtcbiAgfVxuICBpZiAoc25hcEdyaWQuaW5kZXhPZih0cmFuc2xhdGUpID49IDApIHtcbiAgICBzbmFwSW5kZXggPSBzbmFwR3JpZC5pbmRleE9mKHRyYW5zbGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc2tpcCA9IE1hdGgubWluKHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGFjdGl2ZUluZGV4KTtcbiAgICBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoYWN0aXZlSW5kZXggLSBza2lwKSAvIHBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gIH1cbiAgaWYgKHNuYXBJbmRleCA+PSBzbmFwR3JpZC5sZW5ndGgpIHNuYXBJbmRleCA9IHNuYXBHcmlkLmxlbmd0aCAtIDE7XG4gIGlmIChhY3RpdmVJbmRleCA9PT0gcHJldmlvdXNJbmRleCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHNuYXBJbmRleCAhPT0gcHJldmlvdXNTbmFwSW5kZXgpIHtcbiAgICAgIHN3aXBlci5zbmFwSW5kZXggPSBzbmFwSW5kZXg7XG4gICAgICBzd2lwZXIuZW1pdCgnc25hcEluZGV4Q2hhbmdlJyk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAoYWN0aXZlSW5kZXggPT09IHByZXZpb3VzSW5kZXggJiYgc3dpcGVyLnBhcmFtcy5sb29wICYmIHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgc3dpcGVyLnJlYWxJbmRleCA9IGdldFZpcnR1YWxSZWFsSW5kZXgoYWN0aXZlSW5kZXgpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuXG4gIC8vIEdldCByZWFsIGluZGV4XG4gIGxldCByZWFsSW5kZXg7XG4gIGlmIChzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHBhcmFtcy5sb29wKSB7XG4gICAgcmVhbEluZGV4ID0gZ2V0VmlydHVhbFJlYWxJbmRleChhY3RpdmVJbmRleCk7XG4gIH0gZWxzZSBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICBjb25zdCBmaXJzdFNsaWRlSW5Db2x1bW4gPSBzd2lwZXIuc2xpZGVzLmZpbmQoc2xpZGVFbCA9PiBzbGlkZUVsLmNvbHVtbiA9PT0gYWN0aXZlSW5kZXgpO1xuICAgIGxldCBhY3RpdmVTbGlkZUluZGV4ID0gcGFyc2VJbnQoZmlyc3RTbGlkZUluQ29sdW1uLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgIGlmIChOdW1iZXIuaXNOYU4oYWN0aXZlU2xpZGVJbmRleCkpIHtcbiAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBNYXRoLm1heChzd2lwZXIuc2xpZGVzLmluZGV4T2YoZmlyc3RTbGlkZUluQ29sdW1uKSwgMCk7XG4gICAgfVxuICAgIHJlYWxJbmRleCA9IE1hdGguZmxvb3IoYWN0aXZlU2xpZGVJbmRleCAvIHBhcmFtcy5ncmlkLnJvd3MpO1xuICB9IGVsc2UgaWYgKHN3aXBlci5zbGlkZXNbYWN0aXZlSW5kZXhdKSB7XG4gICAgY29uc3Qgc2xpZGVJbmRleCA9IHN3aXBlci5zbGlkZXNbYWN0aXZlSW5kZXhdLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgcmVhbEluZGV4ID0gcGFyc2VJbnQoc2xpZGVJbmRleCwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWFsSW5kZXggPSBhY3RpdmVJbmRleDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVhbEluZGV4ID0gYWN0aXZlSW5kZXg7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBwcmV2aW91c1NuYXBJbmRleCxcbiAgICBzbmFwSW5kZXgsXG4gICAgcHJldmlvdXNSZWFsSW5kZXgsXG4gICAgcmVhbEluZGV4LFxuICAgIHByZXZpb3VzSW5kZXgsXG4gICAgYWN0aXZlSW5kZXhcbiAgfSk7XG4gIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQpIHtcbiAgICBwcmVsb2FkKHN3aXBlcik7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ2FjdGl2ZUluZGV4Q2hhbmdlJyk7XG4gIHN3aXBlci5lbWl0KCdzbmFwSW5kZXhDaGFuZ2UnKTtcbiAgaWYgKHN3aXBlci5pbml0aWFsaXplZCB8fCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCkge1xuICAgIGlmIChwcmV2aW91c1JlYWxJbmRleCAhPT0gcmVhbEluZGV4KSB7XG4gICAgICBzd2lwZXIuZW1pdCgncmVhbEluZGV4Q2hhbmdlJyk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdzbGlkZUNoYW5nZScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNsaWNrZWRTbGlkZShlbCwgcGF0aCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBsZXQgc2xpZGUgPSBlbC5jbG9zZXN0KGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICBpZiAoIXNsaWRlICYmIHN3aXBlci5pc0VsZW1lbnQgJiYgcGF0aCAmJiBwYXRoLmxlbmd0aCA+IDEgJiYgcGF0aC5pbmNsdWRlcyhlbCkpIHtcbiAgICBbLi4ucGF0aC5zbGljZShwYXRoLmluZGV4T2YoZWwpICsgMSwgcGF0aC5sZW5ndGgpXS5mb3JFYWNoKHBhdGhFbCA9PiB7XG4gICAgICBpZiAoIXNsaWRlICYmIHBhdGhFbC5tYXRjaGVzICYmIHBhdGhFbC5tYXRjaGVzKGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApKSB7XG4gICAgICAgIHNsaWRlID0gcGF0aEVsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGxldCBzbGlkZUZvdW5kID0gZmFsc2U7XG4gIGxldCBzbGlkZUluZGV4O1xuICBpZiAoc2xpZGUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN3aXBlci5zbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChzd2lwZXIuc2xpZGVzW2ldID09PSBzbGlkZSkge1xuICAgICAgICBzbGlkZUZvdW5kID0gdHJ1ZTtcbiAgICAgICAgc2xpZGVJbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoc2xpZGUgJiYgc2xpZGVGb3VuZCkge1xuICAgIHN3aXBlci5jbGlja2VkU2xpZGUgPSBzbGlkZTtcbiAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSBwYXJzZUludChzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHNsaWRlSW5kZXg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXBlci5jbGlja2VkU2xpZGUgPSB1bmRlZmluZWQ7XG4gICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy5zbGlkZVRvQ2xpY2tlZFNsaWRlICYmIHN3aXBlci5jbGlja2VkSW5kZXggIT09IHVuZGVmaW5lZCAmJiBzd2lwZXIuY2xpY2tlZEluZGV4ICE9PSBzd2lwZXIuYWN0aXZlSW5kZXgpIHtcbiAgICBzd2lwZXIuc2xpZGVUb0NsaWNrZWRTbGlkZSgpO1xuICB9XG59XG5cbnZhciB1cGRhdGUgPSB7XG4gIHVwZGF0ZVNpemUsXG4gIHVwZGF0ZVNsaWRlcyxcbiAgdXBkYXRlQXV0b0hlaWdodCxcbiAgdXBkYXRlU2xpZGVzT2Zmc2V0LFxuICB1cGRhdGVTbGlkZXNQcm9ncmVzcyxcbiAgdXBkYXRlUHJvZ3Jlc3MsXG4gIHVwZGF0ZVNsaWRlc0NsYXNzZXMsXG4gIHVwZGF0ZUFjdGl2ZUluZGV4LFxuICB1cGRhdGVDbGlja2VkU2xpZGVcbn07XG5cbmZ1bmN0aW9uIGdldFN3aXBlclRyYW5zbGF0ZShheGlzKSB7XG4gIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICBheGlzID0gdGhpcy5pc0hvcml6b250YWwoKSA/ICd4JyA6ICd5JztcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHRyYW5zbGF0ZSxcbiAgICB3cmFwcGVyRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB7XG4gICAgcmV0dXJuIHJ0bCA/IC10cmFuc2xhdGUgOiB0cmFuc2xhdGU7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZTtcbiAgfVxuICBsZXQgY3VycmVudFRyYW5zbGF0ZSA9IGdldFRyYW5zbGF0ZSh3cmFwcGVyRWwsIGF4aXMpO1xuICBjdXJyZW50VHJhbnNsYXRlICs9IHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgaWYgKHJ0bCkgY3VycmVudFRyYW5zbGF0ZSA9IC1jdXJyZW50VHJhbnNsYXRlO1xuICByZXR1cm4gY3VycmVudFRyYW5zbGF0ZSB8fCAwO1xufVxuXG5mdW5jdGlvbiBzZXRUcmFuc2xhdGUodHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHBhcmFtcyxcbiAgICB3cmFwcGVyRWwsXG4gICAgcHJvZ3Jlc3NcbiAgfSA9IHN3aXBlcjtcbiAgbGV0IHggPSAwO1xuICBsZXQgeSA9IDA7XG4gIGNvbnN0IHogPSAwO1xuICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgeCA9IHJ0bCA/IC10cmFuc2xhdGUgOiB0cmFuc2xhdGU7XG4gIH0gZWxzZSB7XG4gICAgeSA9IHRyYW5zbGF0ZTtcbiAgfVxuICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgIHggPSBNYXRoLmZsb29yKHgpO1xuICAgIHkgPSBNYXRoLmZsb29yKHkpO1xuICB9XG4gIHN3aXBlci5wcmV2aW91c1RyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG4gIHN3aXBlci50cmFuc2xhdGUgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB4IDogeTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IC14IDogLXk7XG4gIH0gZWxzZSBpZiAoIXBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB7XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgeCAtPSBzd2lwZXIuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHkgLT0gc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpO1xuICAgIH1cbiAgICB3cmFwcGVyRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7eH1weCwgJHt5fXB4LCAke3p9cHgpYDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gdXBkYXRlIHByb2dyZXNzXG4gIGxldCBuZXdQcm9ncmVzcztcbiAgY29uc3QgdHJhbnNsYXRlc0RpZmYgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIG5ld1Byb2dyZXNzID0gMDtcbiAgfSBlbHNlIHtcbiAgICBuZXdQcm9ncmVzcyA9ICh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIC8gdHJhbnNsYXRlc0RpZmY7XG4gIH1cbiAgaWYgKG5ld1Byb2dyZXNzICE9PSBwcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzZXRUcmFuc2xhdGUnLCBzd2lwZXIudHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpO1xufVxuXG5mdW5jdGlvbiBtaW5UcmFuc2xhdGUoKSB7XG4gIHJldHVybiAtdGhpcy5zbmFwR3JpZFswXTtcbn1cblxuZnVuY3Rpb24gbWF4VHJhbnNsYXRlKCkge1xuICByZXR1cm4gLXRoaXMuc25hcEdyaWRbdGhpcy5zbmFwR3JpZC5sZW5ndGggLSAxXTtcbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlVG8odHJhbnNsYXRlLCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCB0cmFuc2xhdGVCb3VuZHMsIGludGVybmFsKSB7XG4gIGlmICh0cmFuc2xhdGUgPT09IHZvaWQgMCkge1xuICAgIHRyYW5zbGF0ZSA9IDA7XG4gIH1cbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgaWYgKHRyYW5zbGF0ZUJvdW5kcyA9PT0gdm9pZCAwKSB7XG4gICAgdHJhbnNsYXRlQm91bmRzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHdyYXBwZXJFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IG1pblRyYW5zbGF0ZSA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgY29uc3QgbWF4VHJhbnNsYXRlID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICBsZXQgbmV3VHJhbnNsYXRlO1xuICBpZiAodHJhbnNsYXRlQm91bmRzICYmIHRyYW5zbGF0ZSA+IG1pblRyYW5zbGF0ZSkgbmV3VHJhbnNsYXRlID0gbWluVHJhbnNsYXRlO2Vsc2UgaWYgKHRyYW5zbGF0ZUJvdW5kcyAmJiB0cmFuc2xhdGUgPCBtYXhUcmFuc2xhdGUpIG5ld1RyYW5zbGF0ZSA9IG1heFRyYW5zbGF0ZTtlbHNlIG5ld1RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcblxuICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKG5ld1RyYW5zbGF0ZSk7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIGNvbnN0IGlzSCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSAtbmV3VHJhbnNsYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXN3aXBlci5zdXBwb3J0LnNtb290aFNjcm9sbCkge1xuICAgICAgICBhbmltYXRlQ1NTTW9kZVNjcm9sbCh7XG4gICAgICAgICAgc3dpcGVyLFxuICAgICAgICAgIHRhcmdldFBvc2l0aW9uOiAtbmV3VHJhbnNsYXRlLFxuICAgICAgICAgIHNpZGU6IGlzSCA/ICdsZWZ0JyA6ICd0b3AnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHdyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICAgIFtpc0ggPyAnbGVmdCcgOiAndG9wJ106IC1uZXdUcmFuc2xhdGUsXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChzcGVlZCA9PT0gMCkge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcbiAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgICAgIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uRW5kJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG4gICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvblN0YXJ0Jyk7XG4gICAgfVxuICAgIGlmICghc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG4gICAgICBpZiAoIXN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpIHtcbiAgICAgICAgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoZSkge1xuICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICAgICAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gbnVsbDtcbiAgICAgICAgICBkZWxldGUgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZDtcbiAgICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25FbmQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbnZhciB0cmFuc2xhdGUgPSB7XG4gIGdldFRyYW5zbGF0ZTogZ2V0U3dpcGVyVHJhbnNsYXRlLFxuICBzZXRUcmFuc2xhdGUsXG4gIG1pblRyYW5zbGF0ZSxcbiAgbWF4VHJhbnNsYXRlLFxuICB0cmFuc2xhdGVUb1xufTtcblxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSBkdXJhdGlvbiA9PT0gMCA/IGAwbXNgIDogJyc7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zaXRpb24nLCBkdXJhdGlvbiwgYnlDb250cm9sbGVyKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbkVtaXQoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBydW5DYWxsYmFja3MsXG4gICAgZGlyZWN0aW9uLFxuICAgIHN0ZXBcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmVJbmRleCxcbiAgICBwcmV2aW91c0luZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGxldCBkaXIgPSBkaXJlY3Rpb247XG4gIGlmICghZGlyKSB7XG4gICAgaWYgKGFjdGl2ZUluZGV4ID4gcHJldmlvdXNJbmRleCkgZGlyID0gJ25leHQnO2Vsc2UgaWYgKGFjdGl2ZUluZGV4IDwgcHJldmlvdXNJbmRleCkgZGlyID0gJ3ByZXYnO2Vsc2UgZGlyID0gJ3Jlc2V0JztcbiAgfVxuICBzd2lwZXIuZW1pdChgdHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgaWYgKHJ1bkNhbGxiYWNrcyAmJiBkaXIgPT09ICdyZXNldCcpIHtcbiAgICBzd2lwZXIuZW1pdChgc2xpZGVSZXNldFRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gIH0gZWxzZSBpZiAocnVuQ2FsbGJhY2tzICYmIGFjdGl2ZUluZGV4ICE9PSBwcmV2aW91c0luZGV4KSB7XG4gICAgc3dpcGVyLmVtaXQoYHNsaWRlQ2hhbmdlVHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICBpZiAoZGlyID09PSAnbmV4dCcpIHtcbiAgICAgIHN3aXBlci5lbWl0KGBzbGlkZU5leHRUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZW1pdChgc2xpZGVQcmV2VHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgfVxuICB0cmFuc2l0aW9uRW1pdCh7XG4gICAgc3dpcGVyLFxuICAgIHJ1bkNhbGxiYWNrcyxcbiAgICBkaXJlY3Rpb24sXG4gICAgc3RlcDogJ1N0YXJ0J1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbikge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG4gIHRyYW5zaXRpb25FbWl0KHtcbiAgICBzd2lwZXIsXG4gICAgcnVuQ2FsbGJhY2tzLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGVwOiAnRW5kJ1xuICB9KTtcbn1cblxudmFyIHRyYW5zaXRpb24gPSB7XG4gIHNldFRyYW5zaXRpb24sXG4gIHRyYW5zaXRpb25TdGFydCxcbiAgdHJhbnNpdGlvbkVuZFxufTtcblxuZnVuY3Rpb24gc2xpZGVUbyhpbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwsIGluaXRpYWwpIHtcbiAgaWYgKGluZGV4ID09PSB2b2lkIDApIHtcbiAgICBpbmRleCA9IDA7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIGluZGV4ID09PSAnc3RyaW5nJykge1xuICAgIGluZGV4ID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBsZXQgc2xpZGVJbmRleCA9IGluZGV4O1xuICBpZiAoc2xpZGVJbmRleCA8IDApIHNsaWRlSW5kZXggPSAwO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgcHJldmlvdXNJbmRleCxcbiAgICBhY3RpdmVJbmRleCxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB3cmFwcGVyRWwsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQgJiYgIWludGVybmFsICYmICFpbml0aWFsIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2Ygc3BlZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3BlZWQgPSBzd2lwZXIucGFyYW1zLnNwZWVkO1xuICB9XG4gIGNvbnN0IHNraXAgPSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgc2xpZGVJbmRleCk7XG4gIGxldCBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoc2xpZGVJbmRleCAtIHNraXApIC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gIGlmIChzbmFwSW5kZXggPj0gc25hcEdyaWQubGVuZ3RoKSBzbmFwSW5kZXggPSBzbmFwR3JpZC5sZW5ndGggLSAxO1xuICBjb25zdCB0cmFuc2xhdGUgPSAtc25hcEdyaWRbc25hcEluZGV4XTtcbiAgLy8gTm9ybWFsaXplIHNsaWRlSW5kZXhcbiAgaWYgKHBhcmFtcy5ub3JtYWxpemVTbGlkZUluZGV4KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkVHJhbnNsYXRlID0gLU1hdGguZmxvb3IodHJhbnNsYXRlICogMTAwKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRHcmlkID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkW2ldICogMTAwKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRHcmlkTmV4dCA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZFtpICsgMV0gKiAxMDApO1xuICAgICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdyaWQgJiYgbm9ybWFsaXplZFRyYW5zbGF0ZSA8IG5vcm1hbGl6ZWRHcmlkTmV4dCAtIChub3JtYWxpemVkR3JpZE5leHQgLSBub3JtYWxpemVkR3JpZCkgLyAyKSB7XG4gICAgICAgICAgc2xpZGVJbmRleCA9IGk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCAmJiBub3JtYWxpemVkVHJhbnNsYXRlIDwgbm9ybWFsaXplZEdyaWROZXh0KSB7XG4gICAgICAgICAgc2xpZGVJbmRleCA9IGkgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdyaWQpIHtcbiAgICAgICAgc2xpZGVJbmRleCA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIERpcmVjdGlvbnMgbG9ja3NcbiAgaWYgKHN3aXBlci5pbml0aWFsaXplZCAmJiBzbGlkZUluZGV4ICE9PSBhY3RpdmVJbmRleCkge1xuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVOZXh0ICYmIChydGwgPyB0cmFuc2xhdGUgPiBzd2lwZXIudHJhbnNsYXRlICYmIHRyYW5zbGF0ZSA+IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IHRyYW5zbGF0ZSA8IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlIDwgc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiB0cmFuc2xhdGUgPiBzd2lwZXIudHJhbnNsYXRlICYmIHRyYW5zbGF0ZSA+IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgaWYgKChhY3RpdmVJbmRleCB8fCAwKSAhPT0gc2xpZGVJbmRleCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChzbGlkZUluZGV4ICE9PSAocHJldmlvdXNJbmRleCB8fCAwKSAmJiBydW5DYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlU2xpZGVDaGFuZ2VTdGFydCcpO1xuICB9XG5cbiAgLy8gVXBkYXRlIHByb2dyZXNzXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICBsZXQgZGlyZWN0aW9uO1xuICBpZiAoc2xpZGVJbmRleCA+IGFjdGl2ZUluZGV4KSBkaXJlY3Rpb24gPSAnbmV4dCc7ZWxzZSBpZiAoc2xpZGVJbmRleCA8IGFjdGl2ZUluZGV4KSBkaXJlY3Rpb24gPSAncHJldic7ZWxzZSBkaXJlY3Rpb24gPSAncmVzZXQnO1xuXG4gIC8vIGluaXRpYWwgdmlydHVhbFxuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgY29uc3QgaXNJbml0aWFsVmlydHVhbCA9IGlzVmlydHVhbCAmJiBpbml0aWFsO1xuICAvLyBVcGRhdGUgSW5kZXhcbiAgaWYgKCFpc0luaXRpYWxWaXJ0dWFsICYmIChydGwgJiYgLXRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSB8fCAhcnRsICYmIHRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSkpIHtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoc2xpZGVJbmRleCk7XG4gICAgLy8gVXBkYXRlIEhlaWdodFxuICAgIGlmIChwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICB9XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICBpZiAocGFyYW1zLmVmZmVjdCAhPT0gJ3NsaWRlJykge1xuICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZSh0cmFuc2xhdGUpO1xuICAgIH1cbiAgICBpZiAoZGlyZWN0aW9uICE9PSAncmVzZXQnKSB7XG4gICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIGNvbnN0IGlzSCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCB0ID0gcnRsID8gdHJhbnNsYXRlIDogLXRyYW5zbGF0ZTtcbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICdub25lJztcbiAgICAgICAgc3dpcGVyLl9pbW1lZGlhdGVWaXJ0dWFsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1ZpcnR1YWwgJiYgIXN3aXBlci5fY3NzTW9kZVZpcnR1YWxJbml0aWFsU2V0ICYmIHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlID4gMCkge1xuICAgICAgICBzd2lwZXIuX2Nzc01vZGVWaXJ0dWFsSW5pdGlhbFNldCA9IHRydWU7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICcnO1xuICAgICAgICAgIHN3aXBlci5faW1tZWRpYXRlVmlydHVhbCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFzd2lwZXIuc3VwcG9ydC5zbW9vdGhTY3JvbGwpIHtcbiAgICAgICAgYW5pbWF0ZUNTU01vZGVTY3JvbGwoe1xuICAgICAgICAgIHN3aXBlcixcbiAgICAgICAgICB0YXJnZXRQb3NpdGlvbjogdCxcbiAgICAgICAgICBzaWRlOiBpc0ggPyAnbGVmdCcgOiAndG9wJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB3cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgICBbaXNIID8gJ2xlZnQnIDogJ3RvcCddOiB0LFxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBicm93c2VyID0gZ2V0QnJvd3NlcigpO1xuICBjb25zdCBpc1NhZmFyaSA9IGJyb3dzZXIuaXNTYWZhcmk7XG4gIGlmIChpc1ZpcnR1YWwgJiYgIWluaXRpYWwgJiYgaXNTYWZhcmkgJiYgc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHN3aXBlci52aXJ0dWFsLnVwZGF0ZShmYWxzZSwgZmFsc2UsIHNsaWRlSW5kZXgpO1xuICB9XG4gIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgc3dpcGVyLnNldFRyYW5zbGF0ZSh0cmFuc2xhdGUpO1xuICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoc2xpZGVJbmRleCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICB9IGVsc2UgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG4gICAgaWYgKCFzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpIHtcbiAgICAgIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoZSkge1xuICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBudWxsO1xuICAgICAgICBkZWxldGUgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kO1xuICAgICAgICBzd2lwZXIudHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBzbGlkZVRvTG9vcChpbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKGluZGV4ID09PSB2b2lkIDApIHtcbiAgICBpbmRleCA9IDA7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIGluZGV4ID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IGluZGV4QXNOdW1iZXIgPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgIGluZGV4ID0gaW5kZXhBc051bWJlcjtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJykge1xuICAgIHNwZWVkID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIGxldCBuZXdJbmRleCA9IGluZGV4O1xuICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIG5ld0luZGV4ID0gbmV3SW5kZXggKyBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB0YXJnZXRTbGlkZUluZGV4O1xuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlSW5kZXggPSBuZXdJbmRleCAqIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzO1xuICAgICAgICB0YXJnZXRTbGlkZUluZGV4ID0gc3dpcGVyLnNsaWRlcy5maW5kKHNsaWRlRWwgPT4gc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKiAxID09PSBzbGlkZUluZGV4KS5jb2x1bW47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRTbGlkZUluZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEobmV3SW5kZXgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29scyA9IGdyaWRFbmFibGVkID8gTWF0aC5jZWlsKHN3aXBlci5zbGlkZXMubGVuZ3RoIC8gc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3MpIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNlbnRlcmVkU2xpZGVzXG4gICAgICB9ID0gc3dpcGVyLnBhcmFtcztcbiAgICAgIGxldCBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgICAgaWYgKHNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgICAgICBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZXNQZXJWaWV3ID0gTWF0aC5jZWlsKHBhcnNlRmxvYXQoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3LCAxMCkpO1xuICAgICAgICBpZiAoY2VudGVyZWRTbGlkZXMgJiYgc2xpZGVzUGVyVmlldyAlIDIgPT09IDApIHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3ID0gc2xpZGVzUGVyVmlldyArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBuZWVkTG9vcEZpeCA9IGNvbHMgLSB0YXJnZXRTbGlkZUluZGV4IDwgc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChjZW50ZXJlZFNsaWRlcykge1xuICAgICAgICBuZWVkTG9vcEZpeCA9IG5lZWRMb29wRml4IHx8IHRhcmdldFNsaWRlSW5kZXggPCBNYXRoLmNlaWwoc2xpZGVzUGVyVmlldyAvIDIpO1xuICAgICAgfVxuICAgICAgaWYgKGludGVybmFsICYmIGNlbnRlcmVkU2xpZGVzICYmIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nICYmICFncmlkRW5hYmxlZCkge1xuICAgICAgICBuZWVkTG9vcEZpeCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMb29wRml4KSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGNlbnRlcmVkU2xpZGVzID8gdGFyZ2V0U2xpZGVJbmRleCA8IHN3aXBlci5hY3RpdmVJbmRleCA/ICdwcmV2JyA6ICduZXh0JyA6IHRhcmdldFNsaWRlSW5kZXggLSBzd2lwZXIuYWN0aXZlSW5kZXggLSAxIDwgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gJ25leHQnIDogJ3ByZXYnO1xuICAgICAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICAgIHNsaWRlVG86IHRydWUsXG4gICAgICAgICAgYWN0aXZlU2xpZGVJbmRleDogZGlyZWN0aW9uID09PSAnbmV4dCcgPyB0YXJnZXRTbGlkZUluZGV4ICsgMSA6IHRhcmdldFNsaWRlSW5kZXggLSBjb2xzICsgMSxcbiAgICAgICAgICBzbGlkZVJlYWxJbmRleDogZGlyZWN0aW9uID09PSAnbmV4dCcgPyBzd2lwZXIucmVhbEluZGV4IDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlSW5kZXggPSBuZXdJbmRleCAqIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzO1xuICAgICAgICBuZXdJbmRleCA9IHN3aXBlci5zbGlkZXMuZmluZChzbGlkZUVsID0+IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA9PT0gc2xpZGVJbmRleCkuY29sdW1uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3SW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShuZXdJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgfSk7XG4gIHJldHVybiBzd2lwZXI7XG59XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVOZXh0KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGVuYWJsZWQsXG4gICAgcGFyYW1zLFxuICAgIGFuaW1hdGluZ1xuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuIHN3aXBlcjtcbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzcGVlZCA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgbGV0IHBlckdyb3VwID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwQXV0bykge1xuICAgIHBlckdyb3VwID0gTWF0aC5tYXgoc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCdjdXJyZW50JywgdHJ1ZSksIDEpO1xuICB9XG4gIGNvbnN0IGluY3JlbWVudCA9IHN3aXBlci5hY3RpdmVJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgPyAxIDogcGVyR3JvdXA7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChhbmltYXRpbmcgJiYgIWlzVmlydHVhbCAmJiBwYXJhbXMubG9vcFByZXZlbnRzU2xpZGluZykgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgIGRpcmVjdGlvbjogJ25leHQnXG4gICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLndyYXBwZXJFbC5jbGllbnRMZWZ0O1xuICAgIGlmIChzd2lwZXIuYWN0aXZlSW5kZXggPT09IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4ICsgaW5jcmVtZW50LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNFbmQpIHtcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oMCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICB9XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggKyBpbmNyZW1lbnQsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVByZXYoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgcnRsVHJhbnNsYXRlLFxuICAgIGVuYWJsZWQsXG4gICAgYW5pbWF0aW5nXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm4gc3dpcGVyO1xuICBpZiAodHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJykge1xuICAgIHNwZWVkID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoYW5pbWF0aW5nICYmICFpc1ZpcnR1YWwgJiYgcGFyYW1zLmxvb3BQcmV2ZW50c1NsaWRpbmcpIHJldHVybiBmYWxzZTtcbiAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICBkaXJlY3Rpb246ICdwcmV2J1xuICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHN3aXBlci5fY2xpZW50TGVmdCA9IHN3aXBlci53cmFwcGVyRWwuY2xpZW50TGVmdDtcbiAgfVxuICBjb25zdCB0cmFuc2xhdGUgPSBydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWwpIHtcbiAgICBpZiAodmFsIDwgMCkgcmV0dXJuIC1NYXRoLmZsb29yKE1hdGguYWJzKHZhbCkpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKHZhbCk7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZFRyYW5zbGF0ZSA9IG5vcm1hbGl6ZSh0cmFuc2xhdGUpO1xuICBjb25zdCBub3JtYWxpemVkU25hcEdyaWQgPSBzbmFwR3JpZC5tYXAodmFsID0+IG5vcm1hbGl6ZSh2YWwpKTtcbiAgY29uc3QgaXNGcmVlTW9kZSA9IHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZDtcbiAgbGV0IHByZXZTbmFwID0gc25hcEdyaWRbbm9ybWFsaXplZFNuYXBHcmlkLmluZGV4T2Yobm9ybWFsaXplZFRyYW5zbGF0ZSkgLSAxXTtcbiAgaWYgKHR5cGVvZiBwcmV2U25hcCA9PT0gJ3VuZGVmaW5lZCcgJiYgKHBhcmFtcy5jc3NNb2RlIHx8IGlzRnJlZU1vZGUpKSB7XG4gICAgbGV0IHByZXZTbmFwSW5kZXg7XG4gICAgc25hcEdyaWQuZm9yRWFjaCgoc25hcCwgc25hcEluZGV4KSA9PiB7XG4gICAgICBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBzbmFwKSB7XG4gICAgICAgIC8vIHByZXZTbmFwID0gc25hcDtcbiAgICAgICAgcHJldlNuYXBJbmRleCA9IHNuYXBJbmRleDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIHByZXZTbmFwSW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwcmV2U25hcCA9IGlzRnJlZU1vZGUgPyBzbmFwR3JpZFtwcmV2U25hcEluZGV4XSA6IHNuYXBHcmlkW3ByZXZTbmFwSW5kZXggPiAwID8gcHJldlNuYXBJbmRleCAtIDEgOiBwcmV2U25hcEluZGV4XTtcbiAgICB9XG4gIH1cbiAgbGV0IHByZXZJbmRleCA9IDA7XG4gIGlmICh0eXBlb2YgcHJldlNuYXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcHJldkluZGV4ID0gc2xpZGVzR3JpZC5pbmRleE9mKHByZXZTbmFwKTtcbiAgICBpZiAocHJldkluZGV4IDwgMCkgcHJldkluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IC0gMTtcbiAgICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwQXV0bykge1xuICAgICAgcHJldkluZGV4ID0gcHJldkluZGV4IC0gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCdwcmV2aW91cycsIHRydWUpICsgMTtcbiAgICAgIHByZXZJbmRleCA9IE1hdGgubWF4KHByZXZJbmRleCwgMCk7XG4gICAgfVxuICB9XG4gIGlmIChwYXJhbXMucmV3aW5kICYmIHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgIGNvbnN0IGxhc3RJbmRleCA9IHN3aXBlci5wYXJhbXMudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCAmJiBzd2lwZXIudmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggLSAxIDogc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBzd2lwZXIuc2xpZGVUbyhsYXN0SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgfSBlbHNlIGlmIChwYXJhbXMubG9vcCAmJiBzd2lwZXIuYWN0aXZlSW5kZXggPT09IDAgJiYgcGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgc3dpcGVyLnNsaWRlVG8ocHJldkluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKHByZXZJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufVxuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlUmVzZXQoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJykge1xuICAgIHNwZWVkID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgfVxuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVUb0Nsb3Nlc3Qoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwsIHRocmVzaG9sZCkge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgIHRocmVzaG9sZCA9IDAuNTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJykge1xuICAgIHNwZWVkID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBsZXQgaW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gIGNvbnN0IHNraXAgPSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgaW5kZXgpO1xuICBjb25zdCBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoaW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBpZiAodHJhbnNsYXRlID49IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdKSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlIGlzIG9uIG9yIGFmdGVyIHRoZSBjdXJyZW50IHNuYXAgaW5kZXgsIHNvIHRoZSBjaG9pY2VcbiAgICAvLyBpcyBiZXR3ZWVuIHRoZSBjdXJyZW50IGluZGV4IGFuZCB0aGUgb25lIGFmdGVyIGl0LlxuICAgIGNvbnN0IGN1cnJlbnRTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF07XG4gICAgY29uc3QgbmV4dFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4ICsgMV07XG4gICAgaWYgKHRyYW5zbGF0ZSAtIGN1cnJlbnRTbmFwID4gKG5leHRTbmFwIC0gY3VycmVudFNuYXApICogdGhyZXNob2xkKSB7XG4gICAgICBpbmRleCArPSBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBUaGUgY3VycmVudCB0cmFuc2xhdGUgaXMgYmVmb3JlIHRoZSBjdXJyZW50IHNuYXAgaW5kZXgsIHNvIHRoZSBjaG9pY2VcbiAgICAvLyBpcyBiZXR3ZWVuIHRoZSBjdXJyZW50IGluZGV4IGFuZCB0aGUgb25lIGJlZm9yZSBpdC5cbiAgICBjb25zdCBwcmV2U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXggLSAxXTtcbiAgICBjb25zdCBjdXJyZW50U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdO1xuICAgIGlmICh0cmFuc2xhdGUgLSBwcmV2U25hcCA8PSAoY3VycmVudFNuYXAgLSBwcmV2U25hcCkgKiB0aHJlc2hvbGQpIHtcbiAgICAgIGluZGV4IC09IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgfVxuICB9XG4gIGluZGV4ID0gTWF0aC5tYXgoaW5kZXgsIDApO1xuICBpbmRleCA9IE1hdGgubWluKGluZGV4LCBzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGggLSAxKTtcbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59XG5cbmZ1bmN0aW9uIHNsaWRlVG9DbGlja2VkU2xpZGUoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWxcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qgc2xpZGVzUGVyVmlldyA9IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICBsZXQgc2xpZGVUb0luZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhXaGVuR3JpZChzd2lwZXIuY2xpY2tlZEluZGV4KTtcbiAgbGV0IHJlYWxJbmRleDtcbiAgY29uc3Qgc2xpZGVTZWxlY3RvciA9IHN3aXBlci5pc0VsZW1lbnQgPyBgc3dpcGVyLXNsaWRlYCA6IGAuJHtwYXJhbXMuc2xpZGVDbGFzc31gO1xuICBjb25zdCBpc0dyaWQgPSBzd2lwZXIuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQgJiYgc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykgcmV0dXJuO1xuICAgIHJlYWxJbmRleCA9IHBhcnNlSW50KHN3aXBlci5jbGlja2VkU2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgc3dpcGVyLnNsaWRlVG9Mb29wKHJlYWxJbmRleCk7XG4gICAgfSBlbHNlIGlmIChzbGlkZVRvSW5kZXggPiAoaXNHcmlkID8gKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gc2xpZGVzUGVyVmlldykgLyAyIC0gKHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzIC0gMSkgOiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHNsaWRlc1BlclZpZXcpKSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgc2xpZGVUb0luZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXgoZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgJHtzbGlkZVNlbGVjdG9yfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7cmVhbEluZGV4fVwiXWApWzBdKTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICB9XG59XG5cbnZhciBzbGlkZSA9IHtcbiAgc2xpZGVUbyxcbiAgc2xpZGVUb0xvb3AsXG4gIHNsaWRlTmV4dCxcbiAgc2xpZGVQcmV2LFxuICBzbGlkZVJlc2V0LFxuICBzbGlkZVRvQ2xvc2VzdCxcbiAgc2xpZGVUb0NsaWNrZWRTbGlkZVxufTtcblxuZnVuY3Rpb24gbG9vcENyZWF0ZShzbGlkZVJlYWxJbmRleCwgaW5pdGlhbCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghcGFyYW1zLmxvb3AgfHwgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcbiAgY29uc3QgaW5pdFNsaWRlcyA9ICgpID0+IHtcbiAgICBjb25zdCBzbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICAgIHNsaWRlcy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBpbmRleCk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGNsZWFyQmxhbmtTbGlkZXMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQmxhbmtDbGFzc31gKTtcbiAgICBzbGlkZXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICBpZiAoc2xpZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIGlmIChwYXJhbXMubG9vcEFkZEJsYW5rU2xpZGVzICYmIChwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxIHx8IGdyaWRFbmFibGVkKSkge1xuICAgIGNsZWFyQmxhbmtTbGlkZXMoKTtcbiAgfVxuICBjb25zdCBzbGlkZXNQZXJHcm91cCA9IHBhcmFtcy5zbGlkZXNQZXJHcm91cCAqIChncmlkRW5hYmxlZCA/IHBhcmFtcy5ncmlkLnJvd3MgOiAxKTtcbiAgY29uc3Qgc2hvdWxkRmlsbEdyb3VwID0gc3dpcGVyLnNsaWRlcy5sZW5ndGggJSBzbGlkZXNQZXJHcm91cCAhPT0gMDtcbiAgY29uc3Qgc2hvdWxkRmlsbEdyaWQgPSBncmlkRW5hYmxlZCAmJiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAlIHBhcmFtcy5ncmlkLnJvd3MgIT09IDA7XG4gIGNvbnN0IGFkZEJsYW5rU2xpZGVzID0gYW1vdW50T2ZTbGlkZXMgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50T2ZTbGlkZXM7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc2xpZGVFbCA9IHN3aXBlci5pc0VsZW1lbnQgPyBjcmVhdGVFbGVtZW50KCdzd2lwZXItc2xpZGUnLCBbcGFyYW1zLnNsaWRlQmxhbmtDbGFzc10pIDogY3JlYXRlRWxlbWVudCgnZGl2JywgW3BhcmFtcy5zbGlkZUNsYXNzLCBwYXJhbXMuc2xpZGVCbGFua0NsYXNzXSk7XG4gICAgICBzd2lwZXIuc2xpZGVzRWwuYXBwZW5kKHNsaWRlRWwpO1xuICAgIH1cbiAgfTtcbiAgaWYgKHNob3VsZEZpbGxHcm91cCkge1xuICAgIGlmIChwYXJhbXMubG9vcEFkZEJsYW5rU2xpZGVzKSB7XG4gICAgICBjb25zdCBzbGlkZXNUb0FkZCA9IHNsaWRlc1Blckdyb3VwIC0gc3dpcGVyLnNsaWRlcy5sZW5ndGggJSBzbGlkZXNQZXJHcm91cDtcbiAgICAgIGFkZEJsYW5rU2xpZGVzKHNsaWRlc1RvQWRkKTtcbiAgICAgIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd1dhcm5pbmcoJ1N3aXBlciBMb29wIFdhcm5pbmc6IFRoZSBudW1iZXIgb2Ygc2xpZGVzIGlzIG5vdCBldmVuIHRvIHNsaWRlc1Blckdyb3VwLCBsb29wIG1vZGUgbWF5IG5vdCBmdW5jdGlvbiBwcm9wZXJseS4gWW91IG5lZWQgdG8gYWRkIG1vcmUgc2xpZGVzIChvciBtYWtlIGR1cGxpY2F0ZXMsIG9yIGVtcHR5IHNsaWRlcyknKTtcbiAgICB9XG4gICAgaW5pdFNsaWRlcygpO1xuICB9IGVsc2UgaWYgKHNob3VsZEZpbGxHcmlkKSB7XG4gICAgaWYgKHBhcmFtcy5sb29wQWRkQmxhbmtTbGlkZXMpIHtcbiAgICAgIGNvbnN0IHNsaWRlc1RvQWRkID0gcGFyYW1zLmdyaWQucm93cyAtIHN3aXBlci5zbGlkZXMubGVuZ3RoICUgcGFyYW1zLmdyaWQucm93cztcbiAgICAgIGFkZEJsYW5rU2xpZGVzKHNsaWRlc1RvQWRkKTtcbiAgICAgIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd1dhcm5pbmcoJ1N3aXBlciBMb29wIFdhcm5pbmc6IFRoZSBudW1iZXIgb2Ygc2xpZGVzIGlzIG5vdCBldmVuIHRvIGdyaWQucm93cywgbG9vcCBtb2RlIG1heSBub3QgZnVuY3Rpb24gcHJvcGVybHkuIFlvdSBuZWVkIHRvIGFkZCBtb3JlIHNsaWRlcyAob3IgbWFrZSBkdXBsaWNhdGVzLCBvciBlbXB0eSBzbGlkZXMpJyk7XG4gICAgfVxuICAgIGluaXRTbGlkZXMoKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0U2xpZGVzKCk7XG4gIH1cbiAgc3dpcGVyLmxvb3BGaXgoe1xuICAgIHNsaWRlUmVhbEluZGV4LFxuICAgIGRpcmVjdGlvbjogcGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gdW5kZWZpbmVkIDogJ25leHQnLFxuICAgIGluaXRpYWxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvb3BGaXgoX3RlbXApIHtcbiAgbGV0IHtcbiAgICBzbGlkZVJlYWxJbmRleCxcbiAgICBzbGlkZVRvID0gdHJ1ZSxcbiAgICBkaXJlY3Rpb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIGFjdGl2ZVNsaWRlSW5kZXgsXG4gICAgaW5pdGlhbCxcbiAgICBieUNvbnRyb2xsZXIsXG4gICAgYnlNb3VzZXdoZWVsXG4gIH0gPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgc3dpcGVyLmVtaXQoJ2JlZm9yZUxvb3BGaXgnKTtcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBhbGxvd1NsaWRlUHJldixcbiAgICBhbGxvd1NsaWRlTmV4dCxcbiAgICBzbGlkZXNFbCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qge1xuICAgIGNlbnRlcmVkU2xpZGVzLFxuICAgIGluaXRpYWxTbGlkZVxuICB9ID0gcGFyYW1zO1xuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSB0cnVlO1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSB0cnVlO1xuICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgIGlmIChzbGlkZVRvKSB7XG4gICAgICBpZiAoIXBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBzd2lwZXIuc25hcEluZGV4ID09PSAwKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHN3aXBlci5zbmFwSW5kZXggPCBwYXJhbXMuc2xpZGVzUGVyVmlldykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoICsgc3dpcGVyLnNuYXBJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChzd2lwZXIuc25hcEluZGV4ID09PSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoIC0gMSkge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmUsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gYWxsb3dTbGlkZVByZXY7XG4gICAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gYWxsb3dTbGlkZU5leHQ7XG4gICAgc3dpcGVyLmVtaXQoJ2xvb3BGaXgnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNsaWRlc1BlclZpZXcgPSBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgaWYgKHNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgIHNsaWRlc1BlclZpZXcgPSBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKTtcbiAgfSBlbHNlIHtcbiAgICBzbGlkZXNQZXJWaWV3ID0gTWF0aC5jZWlsKHBhcnNlRmxvYXQocGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSk7XG4gICAgaWYgKGNlbnRlcmVkU2xpZGVzICYmIHNsaWRlc1BlclZpZXcgJSAyID09PSAwKSB7XG4gICAgICBzbGlkZXNQZXJWaWV3ID0gc2xpZGVzUGVyVmlldyArIDE7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNsaWRlc1Blckdyb3VwID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwQXV0byA/IHNsaWRlc1BlclZpZXcgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gIGxldCBsb29wZWRTbGlkZXMgPSBjZW50ZXJlZFNsaWRlcyA/IE1hdGgubWF4KHNsaWRlc1Blckdyb3VwLCBNYXRoLmNlaWwoc2xpZGVzUGVyVmlldyAvIDIpKSA6IHNsaWRlc1Blckdyb3VwO1xuICBpZiAobG9vcGVkU2xpZGVzICUgc2xpZGVzUGVyR3JvdXAgIT09IDApIHtcbiAgICBsb29wZWRTbGlkZXMgKz0gc2xpZGVzUGVyR3JvdXAgLSBsb29wZWRTbGlkZXMgJSBzbGlkZXNQZXJHcm91cDtcbiAgfVxuICBsb29wZWRTbGlkZXMgKz0gcGFyYW1zLmxvb3BBZGRpdGlvbmFsU2xpZGVzO1xuICBzd2lwZXIubG9vcGVkU2xpZGVzID0gbG9vcGVkU2xpZGVzO1xuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuICBpZiAoc2xpZGVzLmxlbmd0aCA8IHNsaWRlc1BlclZpZXcgKyBsb29wZWRTbGlkZXMgfHwgc3dpcGVyLnBhcmFtcy5lZmZlY3QgPT09ICdjYXJkcycgJiYgc2xpZGVzLmxlbmd0aCA8IHNsaWRlc1BlclZpZXcgKyBsb29wZWRTbGlkZXMgKiAyKSB7XG4gICAgc2hvd1dhcm5pbmcoJ1N3aXBlciBMb29wIFdhcm5pbmc6IFRoZSBudW1iZXIgb2Ygc2xpZGVzIGlzIG5vdCBlbm91Z2ggZm9yIGxvb3AgbW9kZSwgaXQgd2lsbCBiZSBkaXNhYmxlZCBvciBub3QgZnVuY3Rpb24gcHJvcGVybHkuIFlvdSBuZWVkIHRvIGFkZCBtb3JlIHNsaWRlcyAob3IgbWFrZSBkdXBsaWNhdGVzKSBvciBsb3dlciB0aGUgdmFsdWVzIG9mIHNsaWRlc1BlclZpZXcgYW5kIHNsaWRlc1Blckdyb3VwIHBhcmFtZXRlcnMnKTtcbiAgfSBlbHNlIGlmIChncmlkRW5hYmxlZCAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAncm93Jykge1xuICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBMb29wIG1vZGUgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBncmlkLmZpbGwgPSBgcm93YCcpO1xuICB9XG4gIGNvbnN0IHByZXBlbmRTbGlkZXNJbmRleGVzID0gW107XG4gIGNvbnN0IGFwcGVuZFNsaWRlc0luZGV4ZXMgPSBbXTtcbiAgY29uc3QgY29scyA9IGdyaWRFbmFibGVkID8gTWF0aC5jZWlsKHNsaWRlcy5sZW5ndGggLyBwYXJhbXMuZ3JpZC5yb3dzKSA6IHNsaWRlcy5sZW5ndGg7XG4gIGNvbnN0IGlzSW5pdGlhbE92ZXJmbG93ID0gaW5pdGlhbCAmJiBjb2xzIC0gaW5pdGlhbFNsaWRlIDwgc2xpZGVzUGVyVmlldyAmJiAhY2VudGVyZWRTbGlkZXM7XG4gIGxldCBhY3RpdmVJbmRleCA9IGlzSW5pdGlhbE92ZXJmbG93ID8gaW5pdGlhbFNsaWRlIDogc3dpcGVyLmFjdGl2ZUluZGV4O1xuICBpZiAodHlwZW9mIGFjdGl2ZVNsaWRlSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgYWN0aXZlU2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4KHNsaWRlcy5maW5kKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucyhwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcykpKTtcbiAgfSBlbHNlIHtcbiAgICBhY3RpdmVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXg7XG4gIH1cbiAgY29uc3QgaXNOZXh0ID0gZGlyZWN0aW9uID09PSAnbmV4dCcgfHwgIWRpcmVjdGlvbjtcbiAgY29uc3QgaXNQcmV2ID0gZGlyZWN0aW9uID09PSAncHJldicgfHwgIWRpcmVjdGlvbjtcbiAgbGV0IHNsaWRlc1ByZXBlbmRlZCA9IDA7XG4gIGxldCBzbGlkZXNBcHBlbmRlZCA9IDA7XG4gIGNvbnN0IGFjdGl2ZUNvbEluZGV4ID0gZ3JpZEVuYWJsZWQgPyBzbGlkZXNbYWN0aXZlU2xpZGVJbmRleF0uY29sdW1uIDogYWN0aXZlU2xpZGVJbmRleDtcbiAgY29uc3QgYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgPSBhY3RpdmVDb2xJbmRleCArIChjZW50ZXJlZFNsaWRlcyAmJiB0eXBlb2Ygc2V0VHJhbnNsYXRlID09PSAndW5kZWZpbmVkJyA/IC1zbGlkZXNQZXJWaWV3IC8gMiArIDAuNSA6IDApO1xuICAvLyBwcmVwZW5kIGxhc3Qgc2xpZGVzIGJlZm9yZSBzdGFydFxuICBpZiAoYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgPCBsb29wZWRTbGlkZXMpIHtcbiAgICBzbGlkZXNQcmVwZW5kZWQgPSBNYXRoLm1heChsb29wZWRTbGlkZXMgLSBhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCwgc2xpZGVzUGVyR3JvdXApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9vcGVkU2xpZGVzIC0gYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQ7IGkgKz0gMSkge1xuICAgICAgY29uc3QgaW5kZXggPSBpIC0gTWF0aC5mbG9vcihpIC8gY29scykgKiBjb2xzO1xuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IGNvbEluZGV4VG9QcmVwZW5kID0gY29scyAtIGluZGV4IC0gMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHNsaWRlcy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICAgIGlmIChzbGlkZXNbaV0uY29sdW1uID09PSBjb2xJbmRleFRvUHJlcGVuZCkgcHJlcGVuZFNsaWRlc0luZGV4ZXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzbGlkZXMuZm9yRWFjaCgoc2xpZGUsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgICAgLy8gICBpZiAoc2xpZGUuY29sdW1uID09PSBjb2xJbmRleFRvUHJlcGVuZCkgcHJlcGVuZFNsaWRlc0luZGV4ZXMucHVzaChzbGlkZUluZGV4KTtcbiAgICAgICAgLy8gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmVwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKGNvbHMgLSBpbmRleCAtIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCArIHNsaWRlc1BlclZpZXcgPiBjb2xzIC0gbG9vcGVkU2xpZGVzKSB7XG4gICAgc2xpZGVzQXBwZW5kZWQgPSBNYXRoLm1heChhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCAtIChjb2xzIC0gbG9vcGVkU2xpZGVzICogMiksIHNsaWRlc1Blckdyb3VwKTtcbiAgICBpZiAoaXNJbml0aWFsT3ZlcmZsb3cpIHtcbiAgICAgIHNsaWRlc0FwcGVuZGVkID0gTWF0aC5tYXgoc2xpZGVzQXBwZW5kZWQsIHNsaWRlc1BlclZpZXcgLSBjb2xzICsgaW5pdGlhbFNsaWRlICsgMSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzQXBwZW5kZWQ7IGkgKz0gMSkge1xuICAgICAgY29uc3QgaW5kZXggPSBpIC0gTWF0aC5mbG9vcihpIC8gY29scykgKiBjb2xzO1xuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIHNsaWRlcy5mb3JFYWNoKChzbGlkZSwgc2xpZGVJbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChzbGlkZS5jb2x1bW4gPT09IGluZGV4KSBhcHBlbmRTbGlkZXNJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSB0cnVlO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gZmFsc2U7XG4gIH0pO1xuICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgPT09ICdjYXJkcycgJiYgc2xpZGVzLmxlbmd0aCA8IHNsaWRlc1BlclZpZXcgKyBsb29wZWRTbGlkZXMgKiAyKSB7XG4gICAgaWYgKGFwcGVuZFNsaWRlc0luZGV4ZXMuaW5jbHVkZXMoYWN0aXZlU2xpZGVJbmRleCkpIHtcbiAgICAgIGFwcGVuZFNsaWRlc0luZGV4ZXMuc3BsaWNlKGFwcGVuZFNsaWRlc0luZGV4ZXMuaW5kZXhPZihhY3RpdmVTbGlkZUluZGV4KSwgMSk7XG4gICAgfVxuICAgIGlmIChwcmVwZW5kU2xpZGVzSW5kZXhlcy5pbmNsdWRlcyhhY3RpdmVTbGlkZUluZGV4KSkge1xuICAgICAgcHJlcGVuZFNsaWRlc0luZGV4ZXMuc3BsaWNlKHByZXBlbmRTbGlkZXNJbmRleGVzLmluZGV4T2YoYWN0aXZlU2xpZGVJbmRleCksIDEpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNQcmV2KSB7XG4gICAgcHJlcGVuZFNsaWRlc0luZGV4ZXMuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgICBzbGlkZXNbaW5kZXhdLnN3aXBlckxvb3BNb3ZlRE9NID0gdHJ1ZTtcbiAgICAgIHNsaWRlc0VsLnByZXBlbmQoc2xpZGVzW2luZGV4XSk7XG4gICAgICBzbGlkZXNbaW5kZXhdLnN3aXBlckxvb3BNb3ZlRE9NID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzTmV4dCkge1xuICAgIGFwcGVuZFNsaWRlc0luZGV4ZXMuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgICBzbGlkZXNbaW5kZXhdLnN3aXBlckxvb3BNb3ZlRE9NID0gdHJ1ZTtcbiAgICAgIHNsaWRlc0VsLmFwcGVuZChzbGlkZXNbaW5kZXhdKTtcbiAgICAgIHNsaWRlc1tpbmRleF0uc3dpcGVyTG9vcE1vdmVET00gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICB9IGVsc2UgaWYgKGdyaWRFbmFibGVkICYmIChwcmVwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzUHJldiB8fCBhcHBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCA+IDAgJiYgaXNOZXh0KSkge1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaCgoc2xpZGUsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgIHN3aXBlci5ncmlkLnVwZGF0ZVNsaWRlKHNsaWRlSW5kZXgsIHNsaWRlLCBzd2lwZXIuc2xpZGVzKTtcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIH1cbiAgaWYgKHNsaWRlVG8pIHtcbiAgICBpZiAocHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc1ByZXYpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVSZWFsSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4XTtcbiAgICAgICAgY29uc3QgbmV3U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFthY3RpdmVJbmRleCArIHNsaWRlc1ByZXBlbmRlZF07XG4gICAgICAgIGNvbnN0IGRpZmYgPSBuZXdTbGlkZVRyYW5zbGF0ZSAtIGN1cnJlbnRTbGlkZVRyYW5zbGF0ZTtcbiAgICAgICAgaWYgKGJ5TW91c2V3aGVlbCkge1xuICAgICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUoc3dpcGVyLnRyYW5zbGF0ZSAtIGRpZmYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKGFjdGl2ZUluZGV4ICsgTWF0aC5jZWlsKHNsaWRlc1ByZXBlbmRlZCksIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICBpZiAoc2V0VHJhbnNsYXRlKSB7XG4gICAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnN0YXJ0VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSAtIGRpZmY7XG4gICAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNldFRyYW5zbGF0ZSkge1xuICAgICAgICAgIGNvbnN0IHNoaWZ0ID0gZ3JpZEVuYWJsZWQgPyBwcmVwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggLyBwYXJhbXMuZ3JpZC5yb3dzIDogcHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoO1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCArIHNoaWZ0LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzTmV4dCkge1xuICAgICAgaWYgKHR5cGVvZiBzbGlkZVJlYWxJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdO1xuICAgICAgICBjb25zdCBuZXdTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4IC0gc2xpZGVzQXBwZW5kZWRdO1xuICAgICAgICBjb25zdCBkaWZmID0gbmV3U2xpZGVUcmFuc2xhdGUgLSBjdXJyZW50U2xpZGVUcmFuc2xhdGU7XG4gICAgICAgIGlmIChieU1vdXNld2hlZWwpIHtcbiAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHN3aXBlci50cmFuc2xhdGUgLSBkaWZmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCAtIHNsaWRlc0FwcGVuZGVkLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgaWYgKHNldFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNoaWZ0ID0gZ3JpZEVuYWJsZWQgPyBhcHBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCAvIHBhcmFtcy5ncmlkLnJvd3MgOiBhcHBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aDtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4IC0gc2hpZnQsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gYWxsb3dTbGlkZVByZXY7XG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuICBpZiAoc3dpcGVyLmNvbnRyb2xsZXIgJiYgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCAmJiAhYnlDb250cm9sbGVyKSB7XG4gICAgY29uc3QgbG9vcFBhcmFtcyA9IHtcbiAgICAgIHNsaWRlUmVhbEluZGV4LFxuICAgICAgZGlyZWN0aW9uLFxuICAgICAgc2V0VHJhbnNsYXRlLFxuICAgICAgYWN0aXZlU2xpZGVJbmRleCxcbiAgICAgIGJ5Q29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkpIHtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wuZm9yRWFjaChjID0+IHtcbiAgICAgICAgaWYgKCFjLmRlc3Ryb3llZCAmJiBjLnBhcmFtcy5sb29wKSBjLmxvb3BGaXgoe1xuICAgICAgICAgIC4uLmxvb3BQYXJhbXMsXG4gICAgICAgICAgc2xpZGVUbzogYy5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPyBzbGlkZVRvIDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgaW5zdGFuY2VvZiBzd2lwZXIuY29uc3RydWN0b3IgJiYgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5wYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5sb29wRml4KHtcbiAgICAgICAgLi4ubG9vcFBhcmFtcyxcbiAgICAgICAgc2xpZGVUbzogc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPyBzbGlkZVRvIDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBzd2lwZXIuZW1pdCgnbG9vcEZpeCcpO1xufVxuXG5mdW5jdGlvbiBsb29wRGVzdHJveSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbGlkZXNFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIXBhcmFtcy5sb29wIHx8ICFzbGlkZXNFbCB8fCBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gIGNvbnN0IG5ld1NsaWRlc09yZGVyID0gW107XG4gIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHR5cGVvZiBzbGlkZUVsLnN3aXBlclNsaWRlSW5kZXggPT09ICd1bmRlZmluZWQnID8gc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKiAxIDogc2xpZGVFbC5zd2lwZXJTbGlkZUluZGV4O1xuICAgIG5ld1NsaWRlc09yZGVyW2luZGV4XSA9IHNsaWRlRWw7XG4gIH0pO1xuICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgc2xpZGVFbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gIH0pO1xuICBuZXdTbGlkZXNPcmRlci5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIHNsaWRlc0VsLmFwcGVuZChzbGlkZUVsKTtcbiAgfSk7XG4gIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnJlYWxJbmRleCwgMCk7XG59XG5cbnZhciBsb29wID0ge1xuICBsb29wQ3JlYXRlLFxuICBsb29wRml4LFxuICBsb29wRGVzdHJveVxufTtcblxuZnVuY3Rpb24gc2V0R3JhYkN1cnNvcihtb3ZpbmcpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIucGFyYW1zLnNpbXVsYXRlVG91Y2ggfHwgc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5pc0xvY2tlZCB8fCBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgY29uc3QgZWwgPSBzd2lwZXIucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnY29udGFpbmVyJyA/IHN3aXBlci5lbCA6IHN3aXBlci53cmFwcGVyRWw7XG4gIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSB0cnVlO1xuICB9XG4gIGVsLnN0eWxlLmN1cnNvciA9ICdtb3ZlJztcbiAgZWwuc3R5bGUuY3Vyc29yID0gbW92aW5nID8gJ2dyYWJiaW5nJyA6ICdncmFiJztcbiAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bnNldEdyYWJDdXJzb3IoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmlzTG9ja2VkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gdHJ1ZTtcbiAgfVxuICBzd2lwZXJbc3dpcGVyLnBhcmFtcy50b3VjaEV2ZW50c1RhcmdldCA9PT0gJ2NvbnRhaW5lcicgPyAnZWwnIDogJ3dyYXBwZXJFbCddLnN0eWxlLmN1cnNvciA9ICcnO1xuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG59XG5cbnZhciBncmFiQ3Vyc29yID0ge1xuICBzZXRHcmFiQ3Vyc29yLFxuICB1bnNldEdyYWJDdXJzb3Jcbn07XG5cbi8vIE1vZGlmaWVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTQ1MjA1NTQvY3VzdG9tLWVsZW1lbnQtZ2V0cm9vdG5vZGUtY2xvc2VzdC1mdW5jdGlvbi1jcm9zc2luZy1tdWx0aXBsZS1wYXJlbnQtc2hhZG93ZFxuZnVuY3Rpb24gY2xvc2VzdEVsZW1lbnQoc2VsZWN0b3IsIGJhc2UpIHtcbiAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgIGJhc2UgPSB0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIF9fY2xvc2VzdEZyb20oZWwpIHtcbiAgICBpZiAoIWVsIHx8IGVsID09PSBnZXREb2N1bWVudCgpIHx8IGVsID09PSBnZXRXaW5kb3coKSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKGVsLmFzc2lnbmVkU2xvdCkgZWwgPSBlbC5hc3NpZ25lZFNsb3Q7XG4gICAgY29uc3QgZm91bmQgPSBlbC5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgICBpZiAoIWZvdW5kICYmICFlbC5nZXRSb290Tm9kZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZCB8fCBfX2Nsb3Nlc3RGcm9tKGVsLmdldFJvb3ROb2RlKCkuaG9zdCk7XG4gIH1cbiAgcmV0dXJuIF9fY2xvc2VzdEZyb20oYmFzZSk7XG59XG5mdW5jdGlvbiBwcmV2ZW50RWRnZVN3aXBlKHN3aXBlciwgZXZlbnQsIHN0YXJ0WCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3Qge1xuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBjb25zdCBlZGdlU3dpcGVEZXRlY3Rpb24gPSBwYXJhbXMuZWRnZVN3aXBlRGV0ZWN0aW9uO1xuICBjb25zdCBlZGdlU3dpcGVUaHJlc2hvbGQgPSBwYXJhbXMuZWRnZVN3aXBlVGhyZXNob2xkO1xuICBpZiAoZWRnZVN3aXBlRGV0ZWN0aW9uICYmIChzdGFydFggPD0gZWRnZVN3aXBlVGhyZXNob2xkIHx8IHN0YXJ0WCA+PSB3aW5kb3cuaW5uZXJXaWR0aCAtIGVkZ2VTd2lwZVRocmVzaG9sZCkpIHtcbiAgICBpZiAoZWRnZVN3aXBlRGV0ZWN0aW9uID09PSAncHJldmVudCcpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgbGV0IGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgY29uc3QgZGF0YSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGE7XG4gIGlmIChlLnR5cGUgPT09ICdwb2ludGVyZG93bicpIHtcbiAgICBpZiAoZGF0YS5wb2ludGVySWQgIT09IG51bGwgJiYgZGF0YS5wb2ludGVySWQgIT09IGUucG9pbnRlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRhdGEucG9pbnRlcklkID0gZS5wb2ludGVySWQ7XG4gIH0gZWxzZSBpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgIGRhdGEudG91Y2hJZCA9IGUudGFyZ2V0VG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICB9XG4gIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuICAgIC8vIGRvbid0IHByb2NlZWQgdG91Y2ggZXZlbnRcbiAgICBwcmV2ZW50RWRnZVN3aXBlKHN3aXBlciwgZSwgZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIGlmICghcGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgZS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgcmV0dXJuO1xuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMuY3NzTW9kZSAmJiBwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wRml4KCk7XG4gIH1cbiAgbGV0IHRhcmdldEVsID0gZS50YXJnZXQ7XG4gIGlmIChwYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPT09ICd3cmFwcGVyJykge1xuICAgIGlmICghZWxlbWVudElzQ2hpbGRPZih0YXJnZXRFbCwgc3dpcGVyLndyYXBwZXJFbCkpIHJldHVybjtcbiAgfVxuICBpZiAoJ3doaWNoJyBpbiBlICYmIGUud2hpY2ggPT09IDMpIHJldHVybjtcbiAgaWYgKCdidXR0b24nIGluIGUgJiYgZS5idXR0b24gPiAwKSByZXR1cm47XG4gIGlmIChkYXRhLmlzVG91Y2hlZCAmJiBkYXRhLmlzTW92ZWQpIHJldHVybjtcblxuICAvLyBjaGFuZ2UgdGFyZ2V0IGVsIGZvciBzaGFkb3cgcm9vdCBjb21wb25lbnRcbiAgY29uc3Qgc3dpcGluZ0NsYXNzSGFzVmFsdWUgPSAhIXBhcmFtcy5ub1N3aXBpbmdDbGFzcyAmJiBwYXJhbXMubm9Td2lwaW5nQ2xhc3MgIT09ICcnO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgY29uc3QgZXZlbnRQYXRoID0gZS5jb21wb3NlZFBhdGggPyBlLmNvbXBvc2VkUGF0aCgpIDogZS5wYXRoO1xuICBpZiAoc3dpcGluZ0NsYXNzSGFzVmFsdWUgJiYgZS50YXJnZXQgJiYgZS50YXJnZXQuc2hhZG93Um9vdCAmJiBldmVudFBhdGgpIHtcbiAgICB0YXJnZXRFbCA9IGV2ZW50UGF0aFswXTtcbiAgfVxuICBjb25zdCBub1N3aXBpbmdTZWxlY3RvciA9IHBhcmFtcy5ub1N3aXBpbmdTZWxlY3RvciA/IHBhcmFtcy5ub1N3aXBpbmdTZWxlY3RvciA6IGAuJHtwYXJhbXMubm9Td2lwaW5nQ2xhc3N9YDtcbiAgY29uc3QgaXNUYXJnZXRTaGFkb3cgPSAhIShlLnRhcmdldCAmJiBlLnRhcmdldC5zaGFkb3dSb290KTtcblxuICAvLyB1c2UgY2xvc2VzdEVsZW1lbnQgZm9yIHNoYWRvdyByb290IGVsZW1lbnQgdG8gZ2V0IHRoZSBhY3R1YWwgY2xvc2VzdCBmb3IgbmVzdGVkIHNoYWRvdyByb290IGVsZW1lbnRcbiAgaWYgKHBhcmFtcy5ub1N3aXBpbmcgJiYgKGlzVGFyZ2V0U2hhZG93ID8gY2xvc2VzdEVsZW1lbnQobm9Td2lwaW5nU2VsZWN0b3IsIHRhcmdldEVsKSA6IHRhcmdldEVsLmNsb3Nlc3Qobm9Td2lwaW5nU2VsZWN0b3IpKSkge1xuICAgIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy5zd2lwZUhhbmRsZXIpIHtcbiAgICBpZiAoIXRhcmdldEVsLmNsb3Nlc3QocGFyYW1zLnN3aXBlSGFuZGxlcikpIHJldHVybjtcbiAgfVxuICB0b3VjaGVzLmN1cnJlbnRYID0gZS5wYWdlWDtcbiAgdG91Y2hlcy5jdXJyZW50WSA9IGUucGFnZVk7XG4gIGNvbnN0IHN0YXJ0WCA9IHRvdWNoZXMuY3VycmVudFg7XG4gIGNvbnN0IHN0YXJ0WSA9IHRvdWNoZXMuY3VycmVudFk7XG5cbiAgLy8gRG8gTk9UIHN0YXJ0IGlmIGlPUyBlZGdlIHN3aXBlIGlzIGRldGVjdGVkLiBPdGhlcndpc2UgaU9TIGFwcCBjYW5ub3Qgc3dpcGUtdG8tZ28tYmFjayBhbnltb3JlXG5cbiAgaWYgKCFwcmV2ZW50RWRnZVN3aXBlKHN3aXBlciwgZSwgc3RhcnRYKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBPYmplY3QuYXNzaWduKGRhdGEsIHtcbiAgICBpc1RvdWNoZWQ6IHRydWUsXG4gICAgaXNNb3ZlZDogZmFsc2UsXG4gICAgYWxsb3dUb3VjaENhbGxiYWNrczogdHJ1ZSxcbiAgICBpc1Njcm9sbGluZzogdW5kZWZpbmVkLFxuICAgIHN0YXJ0TW92aW5nOiB1bmRlZmluZWRcbiAgfSk7XG4gIHRvdWNoZXMuc3RhcnRYID0gc3RhcnRYO1xuICB0b3VjaGVzLnN0YXJ0WSA9IHN0YXJ0WTtcbiAgZGF0YS50b3VjaFN0YXJ0VGltZSA9IG5vdygpO1xuICBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gIHN3aXBlci51cGRhdGVTaXplKCk7XG4gIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgaWYgKHBhcmFtcy50aHJlc2hvbGQgPiAwKSBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSA9IGZhbHNlO1xuICBsZXQgcHJldmVudERlZmF1bHQgPSB0cnVlO1xuICBpZiAodGFyZ2V0RWwubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgIHByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG4gICAgaWYgKHRhcmdldEVsLm5vZGVOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRhcmdldEVsICYmIChlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScgJiYgIXRhcmdldEVsLm1hdGNoZXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykpKSB7XG4gICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gIH1cbiAgY29uc3Qgc2hvdWxkUHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdCAmJiBzd2lwZXIuYWxsb3dUb3VjaE1vdmUgJiYgcGFyYW1zLnRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDtcbiAgaWYgKChwYXJhbXMudG91Y2hTdGFydEZvcmNlUHJldmVudERlZmF1bHQgfHwgc2hvdWxkUHJldmVudERlZmF1bHQpICYmICF0YXJnZXRFbC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmIHN3aXBlci5mcmVlTW9kZSAmJiBzd2lwZXIuYW5pbWF0aW5nICYmICFwYXJhbXMuY3NzTW9kZSkge1xuICAgIHN3aXBlci5mcmVlTW9kZS5vblRvdWNoU3RhcnQoKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgndG91Y2hTdGFydCcsIGUpO1xufVxuXG5mdW5jdGlvbiBvblRvdWNoTW92ZShldmVudCkge1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHRvdWNoZXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgcmV0dXJuO1xuICBsZXQgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICBpZiAoZS50eXBlID09PSAncG9pbnRlcm1vdmUnKSB7XG4gICAgaWYgKGRhdGEudG91Y2hJZCAhPT0gbnVsbCkgcmV0dXJuOyAvLyByZXR1cm4gZnJvbSBwb2ludGVyIGlmIHdlIHVzZSB0b3VjaFxuICAgIGNvbnN0IGlkID0gZS5wb2ludGVySWQ7XG4gICAgaWYgKGlkICE9PSBkYXRhLnBvaW50ZXJJZCkgcmV0dXJuO1xuICB9XG4gIGxldCB0YXJnZXRUb3VjaDtcbiAgaWYgKGUudHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcbiAgICB0YXJnZXRUb3VjaCA9IFsuLi5lLmNoYW5nZWRUb3VjaGVzXS5maW5kKHQgPT4gdC5pZGVudGlmaWVyID09PSBkYXRhLnRvdWNoSWQpO1xuICAgIGlmICghdGFyZ2V0VG91Y2ggfHwgdGFyZ2V0VG91Y2guaWRlbnRpZmllciAhPT0gZGF0YS50b3VjaElkKSByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0VG91Y2ggPSBlO1xuICB9XG4gIGlmICghZGF0YS5pc1RvdWNoZWQpIHtcbiAgICBpZiAoZGF0YS5zdGFydE1vdmluZyAmJiBkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlT3Bwb3NpdGUnLCBlKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHBhZ2VYID0gdGFyZ2V0VG91Y2gucGFnZVg7XG4gIGNvbnN0IHBhZ2VZID0gdGFyZ2V0VG91Y2gucGFnZVk7XG4gIGlmIChlLnByZXZlbnRlZEJ5TmVzdGVkU3dpcGVyKSB7XG4gICAgdG91Y2hlcy5zdGFydFggPSBwYWdlWDtcbiAgICB0b3VjaGVzLnN0YXJ0WSA9IHBhZ2VZO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXN3aXBlci5hbGxvd1RvdWNoTW92ZSkge1xuICAgIGlmICghZS50YXJnZXQubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGRhdGEuaXNUb3VjaGVkKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRvdWNoZXMsIHtcbiAgICAgICAgc3RhcnRYOiBwYWdlWCxcbiAgICAgICAgc3RhcnRZOiBwYWdlWSxcbiAgICAgICAgY3VycmVudFg6IHBhZ2VYLFxuICAgICAgICBjdXJyZW50WTogcGFnZVlcbiAgICAgIH0pO1xuICAgICAgZGF0YS50b3VjaFN0YXJ0VGltZSA9IG5vdygpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzICYmICFwYXJhbXMubG9vcCkge1xuICAgIGlmIChzd2lwZXIuaXNWZXJ0aWNhbCgpKSB7XG4gICAgICAvLyBWZXJ0aWNhbFxuICAgICAgaWYgKHBhZ2VZIDwgdG91Y2hlcy5zdGFydFkgJiYgc3dpcGVyLnRyYW5zbGF0ZSA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgfHwgcGFnZVkgPiB0b3VjaGVzLnN0YXJ0WSAmJiBzd2lwZXIudHJhbnNsYXRlID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocnRsICYmIChwYWdlWCA+IHRvdWNoZXMuc3RhcnRYICYmIC1zd2lwZXIudHJhbnNsYXRlIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSB8fCBwYWdlWCA8IHRvdWNoZXMuc3RhcnRYICYmIC1zd2lwZXIudHJhbnNsYXRlID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKCFydGwgJiYgKHBhZ2VYIDwgdG91Y2hlcy5zdGFydFggJiYgc3dpcGVyLnRyYW5zbGF0ZSA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgfHwgcGFnZVggPiB0b3VjaGVzLnN0YXJ0WCAmJiBzd2lwZXIudHJhbnNsYXRlID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGUudGFyZ2V0ICYmIGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScpIHtcbiAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgfVxuICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBlLnRhcmdldC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSB7XG4gICAgICBkYXRhLmlzTW92ZWQgPSB0cnVlO1xuICAgICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCd0b3VjaE1vdmUnLCBlKTtcbiAgfVxuICB0b3VjaGVzLnByZXZpb3VzWCA9IHRvdWNoZXMuY3VycmVudFg7XG4gIHRvdWNoZXMucHJldmlvdXNZID0gdG91Y2hlcy5jdXJyZW50WTtcbiAgdG91Y2hlcy5jdXJyZW50WCA9IHBhZ2VYO1xuICB0b3VjaGVzLmN1cnJlbnRZID0gcGFnZVk7XG4gIGNvbnN0IGRpZmZYID0gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMuc3RhcnRYO1xuICBjb25zdCBkaWZmWSA9IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnN0YXJ0WTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudGhyZXNob2xkICYmIE1hdGguc3FydChkaWZmWCAqKiAyICsgZGlmZlkgKiogMikgPCBzd2lwZXIucGFyYW1zLnRocmVzaG9sZCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIGRhdGEuaXNTY3JvbGxpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgbGV0IHRvdWNoQW5nbGU7XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSAmJiB0b3VjaGVzLmN1cnJlbnRZID09PSB0b3VjaGVzLnN0YXJ0WSB8fCBzd2lwZXIuaXNWZXJ0aWNhbCgpICYmIHRvdWNoZXMuY3VycmVudFggPT09IHRvdWNoZXMuc3RhcnRYKSB7XG4gICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgaWYgKGRpZmZYICogZGlmZlggKyBkaWZmWSAqIGRpZmZZID49IDI1KSB7XG4gICAgICAgIHRvdWNoQW5nbGUgPSBNYXRoLmF0YW4yKE1hdGguYWJzKGRpZmZZKSwgTWF0aC5hYnMoZGlmZlgpKSAqIDE4MCAvIE1hdGguUEk7XG4gICAgICAgIGRhdGEuaXNTY3JvbGxpbmcgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB0b3VjaEFuZ2xlID4gcGFyYW1zLnRvdWNoQW5nbGUgOiA5MCAtIHRvdWNoQW5nbGUgPiBwYXJhbXMudG91Y2hBbmdsZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlT3Bwb3NpdGUnLCBlKTtcbiAgfVxuICBpZiAodHlwZW9mIGRhdGEuc3RhcnRNb3ZpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHRvdWNoZXMuY3VycmVudFggIT09IHRvdWNoZXMuc3RhcnRYIHx8IHRvdWNoZXMuY3VycmVudFkgIT09IHRvdWNoZXMuc3RhcnRZKSB7XG4gICAgICBkYXRhLnN0YXJ0TW92aW5nID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGRhdGEuaXNTY3JvbGxpbmcgfHwgZS50eXBlID09PSAndG91Y2htb3ZlJyAmJiBkYXRhLnByZXZlbnRUb3VjaE1vdmVGcm9tUG9pbnRlck1vdmUpIHtcbiAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWRhdGEuc3RhcnRNb3ZpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgaWYgKCFwYXJhbXMuY3NzTW9kZSAmJiBlLmNhbmNlbGFibGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgaWYgKHBhcmFtcy50b3VjaE1vdmVTdG9wUHJvcGFnYXRpb24gJiYgIXBhcmFtcy5uZXN0ZWQpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIGxldCBkaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gZGlmZlggOiBkaWZmWTtcbiAgbGV0IHRvdWNoZXNEaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMucHJldmlvdXNYIDogdG91Y2hlcy5jdXJyZW50WSAtIHRvdWNoZXMucHJldmlvdXNZO1xuICBpZiAocGFyYW1zLm9uZVdheU1vdmVtZW50KSB7XG4gICAgZGlmZiA9IE1hdGguYWJzKGRpZmYpICogKHJ0bCA/IDEgOiAtMSk7XG4gICAgdG91Y2hlc0RpZmYgPSBNYXRoLmFicyh0b3VjaGVzRGlmZikgKiAocnRsID8gMSA6IC0xKTtcbiAgfVxuICB0b3VjaGVzLmRpZmYgPSBkaWZmO1xuICBkaWZmICo9IHBhcmFtcy50b3VjaFJhdGlvO1xuICBpZiAocnRsKSB7XG4gICAgZGlmZiA9IC1kaWZmO1xuICAgIHRvdWNoZXNEaWZmID0gLXRvdWNoZXNEaWZmO1xuICB9XG4gIGNvbnN0IHByZXZUb3VjaGVzRGlyZWN0aW9uID0gc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb247XG4gIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9IGRpZmYgPiAwID8gJ3ByZXYnIDogJ25leHQnO1xuICBzd2lwZXIudG91Y2hlc0RpcmVjdGlvbiA9IHRvdWNoZXNEaWZmID4gMCA/ICdwcmV2JyA6ICduZXh0JztcbiAgY29uc3QgaXNMb29wID0gc3dpcGVyLnBhcmFtcy5sb29wICYmICFwYXJhbXMuY3NzTW9kZTtcbiAgY29uc3QgYWxsb3dMb29wRml4ID0gc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gPT09ICduZXh0JyAmJiBzd2lwZXIuYWxsb3dTbGlkZU5leHQgfHwgc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gPT09ICdwcmV2JyAmJiBzd2lwZXIuYWxsb3dTbGlkZVByZXY7XG4gIGlmICghZGF0YS5pc01vdmVkKSB7XG4gICAgaWYgKGlzTG9vcCAmJiBhbGxvd0xvb3BGaXgpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgZGlyZWN0aW9uOiBzd2lwZXIuc3dpcGVEaXJlY3Rpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRhLnN0YXJ0VHJhbnNsYXRlID0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpO1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIGlmIChzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBjb25zdCBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KCd0cmFuc2l0aW9uZW5kJywge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBieVN3aXBlclRvdWNoTW92ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN3aXBlci53cmFwcGVyRWwuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgIH1cbiAgICBkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UgPSBmYWxzZTtcbiAgICAvLyBHcmFiIEN1cnNvclxuICAgIGlmIChwYXJhbXMuZ3JhYkN1cnNvciAmJiAoc3dpcGVyLmFsbG93U2xpZGVOZXh0ID09PSB0cnVlIHx8IHN3aXBlci5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKHRydWUpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVyRmlyc3RNb3ZlJywgZSk7XG4gIH1cbiAgbGV0IGxvb3BGaXhlZDtcbiAgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGlmIChwYXJhbXMuX2xvb3BTd2FwUmVzZXQgIT09IGZhbHNlICYmIGRhdGEuaXNNb3ZlZCAmJiBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSAmJiBwcmV2VG91Y2hlc0RpcmVjdGlvbiAhPT0gc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gJiYgaXNMb29wICYmIGFsbG93TG9vcEZpeCAmJiBNYXRoLmFicyhkaWZmKSA+PSAxKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0b3VjaGVzLCB7XG4gICAgICBzdGFydFg6IHBhZ2VYLFxuICAgICAgc3RhcnRZOiBwYWdlWSxcbiAgICAgIGN1cnJlbnRYOiBwYWdlWCxcbiAgICAgIGN1cnJlbnRZOiBwYWdlWSxcbiAgICAgIHN0YXJ0VHJhbnNsYXRlOiBkYXRhLmN1cnJlbnRUcmFuc2xhdGVcbiAgICB9KTtcbiAgICBkYXRhLmxvb3BTd2FwUmVzZXQgPSB0cnVlO1xuICAgIGRhdGEuc3RhcnRUcmFuc2xhdGUgPSBkYXRhLmN1cnJlbnRUcmFuc2xhdGU7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzbGlkZXJNb3ZlJywgZSk7XG4gIGRhdGEuaXNNb3ZlZCA9IHRydWU7XG4gIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRpZmYgKyBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICBsZXQgZGlzYWJsZVBhcmVudFN3aXBlciA9IHRydWU7XG4gIGxldCByZXNpc3RhbmNlUmF0aW8gPSBwYXJhbXMucmVzaXN0YW5jZVJhdGlvO1xuICBpZiAocGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMpIHtcbiAgICByZXNpc3RhbmNlUmF0aW8gPSAwO1xuICB9XG4gIGlmIChkaWZmID4gMCkge1xuICAgIGlmIChpc0xvb3AgJiYgYWxsb3dMb29wRml4ICYmICFsb29wRml4ZWQgJiYgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSAtIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbc3dpcGVyLmFjdGl2ZUluZGV4ICsgMV0gLSAocGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHBhcmFtcy5zbGlkZXNQZXJWaWV3ID49IDIgPyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW3N3aXBlci5hY3RpdmVJbmRleCArIDFdICsgc3dpcGVyLnBhcmFtcy5zcGFjZUJldHdlZW4gOiAwKSAtIHN3aXBlci5wYXJhbXMuc3BhY2VCZXR3ZWVuIDogc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSkge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICBkaXJlY3Rpb246ICdwcmV2JyxcbiAgICAgICAgc2V0VHJhbnNsYXRlOiB0cnVlLFxuICAgICAgICBhY3RpdmVTbGlkZUluZGV4OiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY3VycmVudFRyYW5zbGF0ZSA+IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IGZhbHNlO1xuICAgICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSB7XG4gICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci5taW5UcmFuc2xhdGUoKSAtIDEgKyAoLXN3aXBlci5taW5UcmFuc2xhdGUoKSArIGRhdGEuc3RhcnRUcmFuc2xhdGUgKyBkaWZmKSAqKiByZXNpc3RhbmNlUmF0aW87XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpZmYgPCAwKSB7XG4gICAgaWYgKGlzTG9vcCAmJiBhbGxvd0xvb3BGaXggJiYgIWxvb3BGaXhlZCAmJiBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCAocGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gc3dpcGVyLm1heFRyYW5zbGF0ZSgpICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkLmxlbmd0aCAtIDFdICsgc3dpcGVyLnBhcmFtcy5zcGFjZUJldHdlZW4gKyAocGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHBhcmFtcy5zbGlkZXNQZXJWaWV3ID49IDIgPyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW3N3aXBlci5zbGlkZXNTaXplc0dyaWQubGVuZ3RoIC0gMV0gKyBzd2lwZXIucGFyYW1zLnNwYWNlQmV0d2VlbiA6IDApIDogc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSkge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICBkaXJlY3Rpb246ICduZXh0JyxcbiAgICAgICAgc2V0VHJhbnNsYXRlOiB0cnVlLFxuICAgICAgICBhY3RpdmVTbGlkZUluZGV4OiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiBNYXRoLmNlaWwocGFyc2VGbG9hdChwYXJhbXMuc2xpZGVzUGVyVmlldywgMTApKSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBkaXNhYmxlUGFyZW50U3dpcGVyID0gZmFsc2U7XG4gICAgICBpZiAocGFyYW1zLnJlc2lzdGFuY2UpIHtcbiAgICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpICsgMSAtIChzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBkYXRhLnN0YXJ0VHJhbnNsYXRlIC0gZGlmZikgKiogcmVzaXN0YW5jZVJhdGlvO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGlzYWJsZVBhcmVudFN3aXBlcikge1xuICAgIGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIgPSB0cnVlO1xuICB9XG5cbiAgLy8gRGlyZWN0aW9ucyBsb2Nrc1xuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0JyAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCBkYXRhLnN0YXJ0VHJhbnNsYXRlKSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2JyAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiBkYXRhLnN0YXJ0VHJhbnNsYXRlKSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiAhc3dpcGVyLmFsbG93U2xpZGVOZXh0KSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuXG4gIC8vIFRocmVzaG9sZFxuICBpZiAocGFyYW1zLnRocmVzaG9sZCA+IDApIHtcbiAgICBpZiAoTWF0aC5hYnMoZGlmZikgPiBwYXJhbXMudGhyZXNob2xkIHx8IGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlKSB7XG4gICAgICBpZiAoIWRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlKSB7XG4gICAgICAgIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlID0gdHJ1ZTtcbiAgICAgICAgdG91Y2hlcy5zdGFydFggPSB0b3VjaGVzLmN1cnJlbnRYO1xuICAgICAgICB0b3VjaGVzLnN0YXJ0WSA9IHRvdWNoZXMuY3VycmVudFk7XG4gICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gICAgICAgIHRvdWNoZXMuZGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnN0YXJ0WCA6IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnN0YXJ0WTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAoIXBhcmFtcy5mb2xsb3dGaW5nZXIgfHwgcGFyYW1zLmNzc01vZGUpIHJldHVybjtcblxuICAvLyBVcGRhdGUgYWN0aXZlIGluZGV4IGluIGZyZWUgbW9kZVxuICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmIHN3aXBlci5mcmVlTW9kZSB8fCBwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH1cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUpIHtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaE1vdmUoKTtcbiAgfVxuICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKGRhdGEuY3VycmVudFRyYW5zbGF0ZSk7XG4gIC8vIFVwZGF0ZSB0cmFuc2xhdGVcbiAgc3dpcGVyLnNldFRyYW5zbGF0ZShkYXRhLmN1cnJlbnRUcmFuc2xhdGUpO1xufVxuXG5mdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICBsZXQgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICBsZXQgdGFyZ2V0VG91Y2g7XG4gIGNvbnN0IGlzVG91Y2hFdmVudCA9IGUudHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICd0b3VjaGNhbmNlbCc7XG4gIGlmICghaXNUb3VjaEV2ZW50KSB7XG4gICAgaWYgKGRhdGEudG91Y2hJZCAhPT0gbnVsbCkgcmV0dXJuOyAvLyByZXR1cm4gZnJvbSBwb2ludGVyIGlmIHdlIHVzZSB0b3VjaFxuICAgIGlmIChlLnBvaW50ZXJJZCAhPT0gZGF0YS5wb2ludGVySWQpIHJldHVybjtcbiAgICB0YXJnZXRUb3VjaCA9IGU7XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0VG91Y2ggPSBbLi4uZS5jaGFuZ2VkVG91Y2hlc10uZmluZCh0ID0+IHQuaWRlbnRpZmllciA9PT0gZGF0YS50b3VjaElkKTtcbiAgICBpZiAoIXRhcmdldFRvdWNoIHx8IHRhcmdldFRvdWNoLmlkZW50aWZpZXIgIT09IGRhdGEudG91Y2hJZCkgcmV0dXJuO1xuICB9XG4gIGlmIChbJ3BvaW50ZXJjYW5jZWwnLCAncG9pbnRlcm91dCcsICdwb2ludGVybGVhdmUnLCAnY29udGV4dG1lbnUnXS5pbmNsdWRlcyhlLnR5cGUpKSB7XG4gICAgY29uc3QgcHJvY2VlZCA9IFsncG9pbnRlcmNhbmNlbCcsICdjb250ZXh0bWVudSddLmluY2x1ZGVzKGUudHlwZSkgJiYgKHN3aXBlci5icm93c2VyLmlzU2FmYXJpIHx8IHN3aXBlci5icm93c2VyLmlzV2ViVmlldyk7XG4gICAgaWYgKCFwcm9jZWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGRhdGEucG9pbnRlcklkID0gbnVsbDtcbiAgZGF0YS50b3VjaElkID0gbnVsbDtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiBlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSByZXR1cm47XG4gIGlmIChkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hFbmQnLCBlKTtcbiAgfVxuICBkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MgPSBmYWxzZTtcbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCkge1xuICAgIGlmIChkYXRhLmlzTW92ZWQgJiYgcGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKGZhbHNlKTtcbiAgICB9XG4gICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFJldHVybiBHcmFiIEN1cnNvclxuICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgZGF0YS5pc01vdmVkICYmIGRhdGEuaXNUb3VjaGVkICYmIChzd2lwZXIuYWxsb3dTbGlkZU5leHQgPT09IHRydWUgfHwgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID09PSB0cnVlKSkge1xuICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKGZhbHNlKTtcbiAgfVxuXG4gIC8vIFRpbWUgZGlmZlxuICBjb25zdCB0b3VjaEVuZFRpbWUgPSBub3coKTtcbiAgY29uc3QgdGltZURpZmYgPSB0b3VjaEVuZFRpbWUgLSBkYXRhLnRvdWNoU3RhcnRUaW1lO1xuXG4gIC8vIFRhcCwgZG91YmxlVGFwLCBDbGlja1xuICBpZiAoc3dpcGVyLmFsbG93Q2xpY2spIHtcbiAgICBjb25zdCBwYXRoVHJlZSA9IGUucGF0aCB8fCBlLmNvbXBvc2VkUGF0aCAmJiBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIHN3aXBlci51cGRhdGVDbGlja2VkU2xpZGUocGF0aFRyZWUgJiYgcGF0aFRyZWVbMF0gfHwgZS50YXJnZXQsIHBhdGhUcmVlKTtcbiAgICBzd2lwZXIuZW1pdCgndGFwIGNsaWNrJywgZSk7XG4gICAgaWYgKHRpbWVEaWZmIDwgMzAwICYmIHRvdWNoRW5kVGltZSAtIGRhdGEubGFzdENsaWNrVGltZSA8IDMwMCkge1xuICAgICAgc3dpcGVyLmVtaXQoJ2RvdWJsZVRhcCBkb3VibGVDbGljaycsIGUpO1xuICAgIH1cbiAgfVxuICBkYXRhLmxhc3RDbGlja1RpbWUgPSBub3coKTtcbiAgbmV4dFRpY2soKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLmRlc3Ryb3llZCkgc3dpcGVyLmFsbG93Q2xpY2sgPSB0cnVlO1xuICB9KTtcbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCB8fCAhZGF0YS5pc01vdmVkIHx8ICFzd2lwZXIuc3dpcGVEaXJlY3Rpb24gfHwgdG91Y2hlcy5kaWZmID09PSAwICYmICFkYXRhLmxvb3BTd2FwUmVzZXQgfHwgZGF0YS5jdXJyZW50VHJhbnNsYXRlID09PSBkYXRhLnN0YXJ0VHJhbnNsYXRlICYmICFkYXRhLmxvb3BTd2FwUmVzZXQpIHtcbiAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgbGV0IGN1cnJlbnRQb3M7XG4gIGlmIChwYXJhbXMuZm9sbG93RmluZ2VyKSB7XG4gICAgY3VycmVudFBvcyA9IHJ0bCA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50UG9zID0gLWRhdGEuY3VycmVudFRyYW5zbGF0ZTtcbiAgfVxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCkge1xuICAgIHN3aXBlci5mcmVlTW9kZS5vblRvdWNoRW5kKHtcbiAgICAgIGN1cnJlbnRQb3NcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGaW5kIGN1cnJlbnQgc2xpZGVcbiAgY29uc3Qgc3dpcGVUb0xhc3QgPSBjdXJyZW50UG9zID49IC1zd2lwZXIubWF4VHJhbnNsYXRlKCkgJiYgIXN3aXBlci5wYXJhbXMubG9vcDtcbiAgbGV0IHN0b3BJbmRleCA9IDA7XG4gIGxldCBncm91cFNpemUgPSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkWzBdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IGkgPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cCkge1xuICAgIGNvbnN0IGluY3JlbWVudCA9IGkgPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwIC0gMSA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHN3aXBlVG9MYXN0IHx8IGN1cnJlbnRQb3MgPj0gc2xpZGVzR3JpZFtpXSAmJiBjdXJyZW50UG9zIDwgc2xpZGVzR3JpZFtpICsgaW5jcmVtZW50XSkge1xuICAgICAgICBzdG9wSW5kZXggPSBpO1xuICAgICAgICBncm91cFNpemUgPSBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdIC0gc2xpZGVzR3JpZFtpXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN3aXBlVG9MYXN0IHx8IGN1cnJlbnRQb3MgPj0gc2xpZGVzR3JpZFtpXSkge1xuICAgICAgc3RvcEluZGV4ID0gaTtcbiAgICAgIGdyb3VwU2l6ZSA9IHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAxXSAtIHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAyXTtcbiAgICB9XG4gIH1cbiAgbGV0IHJld2luZEZpcnN0SW5kZXggPSBudWxsO1xuICBsZXQgcmV3aW5kTGFzdEluZGV4ID0gbnVsbDtcbiAgaWYgKHBhcmFtcy5yZXdpbmQpIHtcbiAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgICByZXdpbmRMYXN0SW5kZXggPSBwYXJhbXMudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCAtIDEgOiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNFbmQpIHtcbiAgICAgIHJld2luZEZpcnN0SW5kZXggPSAwO1xuICAgIH1cbiAgfVxuICAvLyBGaW5kIGN1cnJlbnQgc2xpZGUgc2l6ZVxuICBjb25zdCByYXRpbyA9IChjdXJyZW50UG9zIC0gc2xpZGVzR3JpZFtzdG9wSW5kZXhdKSAvIGdyb3VwU2l6ZTtcbiAgY29uc3QgaW5jcmVtZW50ID0gc3RvcEluZGV4IDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCAtIDEgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICBpZiAodGltZURpZmYgPiBwYXJhbXMubG9uZ1N3aXBlc01zKSB7XG4gICAgLy8gTG9uZyB0b3VjaGVzXG4gICAgaWYgKCFwYXJhbXMubG9uZ1N3aXBlcykge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICBpZiAocmF0aW8gPj0gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykgc3dpcGVyLnNsaWRlVG8ocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNFbmQgPyByZXdpbmRGaXJzdEluZGV4IDogc3RvcEluZGV4ICsgaW5jcmVtZW50KTtlbHNlIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgaWYgKHJhdGlvID4gMSAtIHBhcmFtcy5sb25nU3dpcGVzUmF0aW8pIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAocmV3aW5kTGFzdEluZGV4ICE9PSBudWxsICYmIHJhdGlvIDwgMCAmJiBNYXRoLmFicyhyYXRpbykgPiBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHJld2luZExhc3RJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBTaG9ydCBzd2lwZXNcbiAgICBpZiAoIXBhcmFtcy5zaG9ydFN3aXBlcykge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXNOYXZCdXR0b25UYXJnZXQgPSBzd2lwZXIubmF2aWdhdGlvbiAmJiAoZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsKTtcbiAgICBpZiAoIWlzTmF2QnV0dG9uVGFyZ2V0KSB7XG4gICAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8ocmV3aW5kRmlyc3RJbmRleCAhPT0gbnVsbCA/IHJld2luZEZpcnN0SW5kZXggOiBzdG9wSW5kZXggKyBpbmNyZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHJld2luZExhc3RJbmRleCAhPT0gbnVsbCA/IHJld2luZExhc3RJbmRleCA6IHN0b3BJbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXggKyBpbmNyZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBlbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoZWwgJiYgZWwub2Zmc2V0V2lkdGggPT09IDApIHJldHVybjtcblxuICAvLyBCcmVha3BvaW50c1xuICBpZiAocGFyYW1zLmJyZWFrcG9pbnRzKSB7XG4gICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgfVxuXG4gIC8vIFNhdmUgbG9ja3NcbiAgY29uc3Qge1xuICAgIGFsbG93U2xpZGVOZXh0LFxuICAgIGFsbG93U2xpZGVQcmV2LFxuICAgIHNuYXBHcmlkXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuXG4gIC8vIERpc2FibGUgbG9ja3Mgb24gcmVzaXplXG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IHRydWU7XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IHRydWU7XG4gIHN3aXBlci51cGRhdGVTaXplKCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgY29uc3QgaXNWaXJ0dWFsTG9vcCA9IGlzVmlydHVhbCAmJiBwYXJhbXMubG9vcDtcbiAgaWYgKChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nIHx8IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkgJiYgc3dpcGVyLmlzRW5kICYmICFzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgIWlzVmlydHVhbExvb3ApIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEsIDAsIGZhbHNlLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wICYmICFpc1ZpcnR1YWwpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvTG9vcChzd2lwZXIucmVhbEluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgfVxuICBpZiAoc3dpcGVyLmF1dG9wbGF5ICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICBjbGVhclRpbWVvdXQoc3dpcGVyLmF1dG9wbGF5LnJlc2l6ZVRpbWVvdXQpO1xuICAgIHN3aXBlci5hdXRvcGxheS5yZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoc3dpcGVyLmF1dG9wbGF5ICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnJlc3VtZSgpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG4gIH1cbiAgLy8gUmV0dXJuIGxvY2tzIGFmdGVyIHJlc2l6ZVxuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSBhbGxvd1NsaWRlUHJldjtcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gYWxsb3dTbGlkZU5leHQ7XG4gIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc25hcEdyaWQgIT09IHN3aXBlci5zbmFwR3JpZCkge1xuICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25DbGljayhlKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFzd2lwZXIuYWxsb3dDbGljaykge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnByZXZlbnRDbGlja3MpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb24gJiYgc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgd3JhcHBlckVsLFxuICAgIHJ0bFRyYW5zbGF0ZSxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBzd2lwZXIucHJldmlvdXNUcmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlO1xuICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgc3dpcGVyLnRyYW5zbGF0ZSA9IC13cmFwcGVyRWwuc2Nyb2xsTGVmdDtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIudHJhbnNsYXRlID0gLXdyYXBwZXJFbC5zY3JvbGxUb3A7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGlmIChzd2lwZXIudHJhbnNsYXRlID09PSAwKSBzd2lwZXIudHJhbnNsYXRlID0gMDtcbiAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIGxldCBuZXdQcm9ncmVzcztcbiAgY29uc3QgdHJhbnNsYXRlc0RpZmYgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIG5ld1Byb2dyZXNzID0gMDtcbiAgfSBlbHNlIHtcbiAgICBuZXdQcm9ncmVzcyA9IChzd2lwZXIudHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICB9XG4gIGlmIChuZXdQcm9ncmVzcyAhPT0gc3dpcGVyLnByb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHJ0bFRyYW5zbGF0ZSA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZSk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zbGF0ZScsIHN3aXBlci50cmFuc2xhdGUsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gb25Mb2FkKGUpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBlLnRhcmdldCk7XG4gIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUgfHwgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgIXN3aXBlci5wYXJhbXMuYXV0b0hlaWdodCkge1xuICAgIHJldHVybjtcbiAgfVxuICBzd2lwZXIudXBkYXRlKCk7XG59XG5cbmZ1bmN0aW9uIG9uRG9jdW1lbnRUb3VjaFN0YXJ0KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLmRvY3VtZW50VG91Y2hIYW5kbGVyUHJvY2VlZGVkKSByZXR1cm47XG4gIHN3aXBlci5kb2N1bWVudFRvdWNoSGFuZGxlclByb2NlZWRlZCA9IHRydWU7XG4gIGlmIChzd2lwZXIucGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMpIHtcbiAgICBzd2lwZXIuZWwuc3R5bGUudG91Y2hBY3Rpb24gPSAnYXV0byc7XG4gIH1cbn1cblxuY29uc3QgZXZlbnRzID0gKHN3aXBlciwgbWV0aG9kKSA9PiB7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBlbCxcbiAgICB3cmFwcGVyRWwsXG4gICAgZGV2aWNlXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGNhcHR1cmUgPSAhIXBhcmFtcy5uZXN0ZWQ7XG4gIGNvbnN0IGRvbU1ldGhvZCA9IG1ldGhvZCA9PT0gJ29uJyA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdyZW1vdmVFdmVudExpc3RlbmVyJztcbiAgY29uc3Qgc3dpcGVyTWV0aG9kID0gbWV0aG9kO1xuICBpZiAoIWVsIHx8IHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHJldHVybjtcblxuICAvLyBUb3VjaCBFdmVudHNcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgndG91Y2hzdGFydCcsIHN3aXBlci5vbkRvY3VtZW50VG91Y2hTdGFydCwge1xuICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIGNhcHR1cmVcbiAgfSk7XG4gIGVsW2RvbU1ldGhvZF0oJ3RvdWNoc3RhcnQnLCBzd2lwZXIub25Ub3VjaFN0YXJ0LCB7XG4gICAgcGFzc2l2ZTogZmFsc2VcbiAgfSk7XG4gIGVsW2RvbU1ldGhvZF0oJ3BvaW50ZXJkb3duJywgc3dpcGVyLm9uVG91Y2hTdGFydCwge1xuICAgIHBhc3NpdmU6IGZhbHNlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaG1vdmUnLCBzd2lwZXIub25Ub3VjaE1vdmUsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICBjYXB0dXJlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVybW92ZScsIHN3aXBlci5vblRvdWNoTW92ZSwge1xuICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIGNhcHR1cmVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNoZW5kJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVydXAnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3BvaW50ZXJjYW5jZWwnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNoY2FuY2VsJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVyb3V0Jywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVybGVhdmUnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ2NvbnRleHRtZW51Jywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuXG4gIC8vIFByZXZlbnQgTGlua3MgQ2xpY2tzXG4gIGlmIChwYXJhbXMucHJldmVudENsaWNrcyB8fCBwYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uKSB7XG4gICAgZWxbZG9tTWV0aG9kXSgnY2xpY2snLCBzd2lwZXIub25DbGljaywgdHJ1ZSk7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsW2RvbU1ldGhvZF0oJ3Njcm9sbCcsIHN3aXBlci5vblNjcm9sbCk7XG4gIH1cblxuICAvLyBSZXNpemUgaGFuZGxlclxuICBpZiAocGFyYW1zLnVwZGF0ZU9uV2luZG93UmVzaXplKSB7XG4gICAgc3dpcGVyW3N3aXBlck1ldGhvZF0oZGV2aWNlLmlvcyB8fCBkZXZpY2UuYW5kcm9pZCA/ICdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2Ugb2JzZXJ2ZXJVcGRhdGUnIDogJ3Jlc2l6ZSBvYnNlcnZlclVwZGF0ZScsIG9uUmVzaXplLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXJbc3dpcGVyTWV0aG9kXSgnb2JzZXJ2ZXJVcGRhdGUnLCBvblJlc2l6ZSwgdHJ1ZSk7XG4gIH1cblxuICAvLyBJbWFnZXMgbG9hZGVyXG4gIGVsW2RvbU1ldGhvZF0oJ2xvYWQnLCBzd2lwZXIub25Mb2FkLCB7XG4gICAgY2FwdHVyZTogdHJ1ZVxuICB9KTtcbn07XG5mdW5jdGlvbiBhdHRhY2hFdmVudHMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgc3dpcGVyLm9uVG91Y2hTdGFydCA9IG9uVG91Y2hTdGFydC5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vblRvdWNoTW92ZSA9IG9uVG91Y2hNb3ZlLmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uVG91Y2hFbmQgPSBvblRvdWNoRW5kLmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uRG9jdW1lbnRUb3VjaFN0YXJ0ID0gb25Eb2N1bWVudFRvdWNoU3RhcnQuYmluZChzd2lwZXIpO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBzd2lwZXIub25TY3JvbGwgPSBvblNjcm9sbC5iaW5kKHN3aXBlcik7XG4gIH1cbiAgc3dpcGVyLm9uQ2xpY2sgPSBvbkNsaWNrLmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uTG9hZCA9IG9uTG9hZC5iaW5kKHN3aXBlcik7XG4gIGV2ZW50cyhzd2lwZXIsICdvbicpO1xufVxuZnVuY3Rpb24gZGV0YWNoRXZlbnRzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBldmVudHMoc3dpcGVyLCAnb2ZmJyk7XG59XG52YXIgZXZlbnRzJDEgPSB7XG4gIGF0dGFjaEV2ZW50cyxcbiAgZGV0YWNoRXZlbnRzXG59O1xuXG5jb25zdCBpc0dyaWRFbmFibGVkID0gKHN3aXBlciwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbn07XG5mdW5jdGlvbiBzZXRCcmVha3BvaW50KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcmVhbEluZGV4LFxuICAgIGluaXRpYWxpemVkLFxuICAgIHBhcmFtcyxcbiAgICBlbFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBicmVha3BvaW50cyA9IHBhcmFtcy5icmVha3BvaW50cztcbiAgaWYgKCFicmVha3BvaW50cyB8fCBicmVha3BvaW50cyAmJiBPYmplY3Qua2V5cyhicmVha3BvaW50cykubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcblxuICAvLyBHZXQgYnJlYWtwb2ludCBmb3Igd2luZG93L2NvbnRhaW5lciB3aWR0aCBhbmQgdXBkYXRlIHBhcmFtZXRlcnNcbiAgY29uc3QgYnJlYWtwb2ludHNCYXNlID0gcGFyYW1zLmJyZWFrcG9pbnRzQmFzZSA9PT0gJ3dpbmRvdycgfHwgIXBhcmFtcy5icmVha3BvaW50c0Jhc2UgPyBwYXJhbXMuYnJlYWtwb2ludHNCYXNlIDogJ2NvbnRhaW5lcic7XG4gIGNvbnN0IGJyZWFrcG9pbnRDb250YWluZXIgPSBbJ3dpbmRvdycsICdjb250YWluZXInXS5pbmNsdWRlcyhwYXJhbXMuYnJlYWtwb2ludHNCYXNlKSB8fCAhcGFyYW1zLmJyZWFrcG9pbnRzQmFzZSA/IHN3aXBlci5lbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyYW1zLmJyZWFrcG9pbnRzQmFzZSk7XG4gIGNvbnN0IGJyZWFrcG9pbnQgPSBzd2lwZXIuZ2V0QnJlYWtwb2ludChicmVha3BvaW50cywgYnJlYWtwb2ludHNCYXNlLCBicmVha3BvaW50Q29udGFpbmVyKTtcbiAgaWYgKCFicmVha3BvaW50IHx8IHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9PT0gYnJlYWtwb2ludCkgcmV0dXJuO1xuICBjb25zdCBicmVha3BvaW50T25seVBhcmFtcyA9IGJyZWFrcG9pbnQgaW4gYnJlYWtwb2ludHMgPyBicmVha3BvaW50c1ticmVha3BvaW50XSA6IHVuZGVmaW5lZDtcbiAgY29uc3QgYnJlYWtwb2ludFBhcmFtcyA9IGJyZWFrcG9pbnRPbmx5UGFyYW1zIHx8IHN3aXBlci5vcmlnaW5hbFBhcmFtcztcbiAgY29uc3Qgd2FzTXVsdGlSb3cgPSBpc0dyaWRFbmFibGVkKHN3aXBlciwgcGFyYW1zKTtcbiAgY29uc3QgaXNNdWx0aVJvdyA9IGlzR3JpZEVuYWJsZWQoc3dpcGVyLCBicmVha3BvaW50UGFyYW1zKTtcbiAgY29uc3Qgd2FzR3JhYkN1cnNvciA9IHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvcjtcbiAgY29uc3QgaXNHcmFiQ3Vyc29yID0gYnJlYWtwb2ludFBhcmFtcy5ncmFiQ3Vyc29yO1xuICBjb25zdCB3YXNFbmFibGVkID0gcGFyYW1zLmVuYWJsZWQ7XG4gIGlmICh3YXNNdWx0aVJvdyAmJiAhaXNNdWx0aVJvdykge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZGAsIGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWQtY29sdW1uYCk7XG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gIH0gZWxzZSBpZiAoIXdhc011bHRpUm93ICYmIGlzTXVsdGlSb3cpIHtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWRgKTtcbiAgICBpZiAoYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgJiYgYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgPT09ICdjb2x1bW4nIHx8ICFicmVha3BvaW50UGFyYW1zLmdyaWQuZmlsbCAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJykge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgfVxuICBpZiAod2FzR3JhYkN1cnNvciAmJiAhaXNHcmFiQ3Vyc29yKSB7XG4gICAgc3dpcGVyLnVuc2V0R3JhYkN1cnNvcigpO1xuICB9IGVsc2UgaWYgKCF3YXNHcmFiQ3Vyc29yICYmIGlzR3JhYkN1cnNvcikge1xuICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKCk7XG4gIH1cblxuICAvLyBUb2dnbGUgbmF2aWdhdGlvbiwgcGFnaW5hdGlvbiwgc2Nyb2xsYmFyXG4gIFsnbmF2aWdhdGlvbicsICdwYWdpbmF0aW9uJywgJ3Njcm9sbGJhciddLmZvckVhY2gocHJvcCA9PiB7XG4gICAgaWYgKHR5cGVvZiBicmVha3BvaW50UGFyYW1zW3Byb3BdID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIGNvbnN0IHdhc01vZHVsZUVuYWJsZWQgPSBwYXJhbXNbcHJvcF0gJiYgcGFyYW1zW3Byb3BdLmVuYWJsZWQ7XG4gICAgY29uc3QgaXNNb2R1bGVFbmFibGVkID0gYnJlYWtwb2ludFBhcmFtc1twcm9wXSAmJiBicmVha3BvaW50UGFyYW1zW3Byb3BdLmVuYWJsZWQ7XG4gICAgaWYgKHdhc01vZHVsZUVuYWJsZWQgJiYgIWlzTW9kdWxlRW5hYmxlZCkge1xuICAgICAgc3dpcGVyW3Byb3BdLmRpc2FibGUoKTtcbiAgICB9XG4gICAgaWYgKCF3YXNNb2R1bGVFbmFibGVkICYmIGlzTW9kdWxlRW5hYmxlZCkge1xuICAgICAgc3dpcGVyW3Byb3BdLmVuYWJsZSgpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGRpcmVjdGlvbkNoYW5nZWQgPSBicmVha3BvaW50UGFyYW1zLmRpcmVjdGlvbiAmJiBicmVha3BvaW50UGFyYW1zLmRpcmVjdGlvbiAhPT0gcGFyYW1zLmRpcmVjdGlvbjtcbiAgY29uc3QgbmVlZHNSZUxvb3AgPSBwYXJhbXMubG9vcCAmJiAoYnJlYWtwb2ludFBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSBwYXJhbXMuc2xpZGVzUGVyVmlldyB8fCBkaXJlY3Rpb25DaGFuZ2VkKTtcbiAgY29uc3Qgd2FzTG9vcCA9IHBhcmFtcy5sb29wO1xuICBpZiAoZGlyZWN0aW9uQ2hhbmdlZCAmJiBpbml0aWFsaXplZCkge1xuICAgIHN3aXBlci5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgfVxuICBleHRlbmQoc3dpcGVyLnBhcmFtcywgYnJlYWtwb2ludFBhcmFtcyk7XG4gIGNvbnN0IGlzRW5hYmxlZCA9IHN3aXBlci5wYXJhbXMuZW5hYmxlZDtcbiAgY29uc3QgaGFzTG9vcCA9IHN3aXBlci5wYXJhbXMubG9vcDtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBhbGxvd1RvdWNoTW92ZTogc3dpcGVyLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxcbiAgICBhbGxvd1NsaWRlTmV4dDogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCxcbiAgICBhbGxvd1NsaWRlUHJldjogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlUHJldlxuICB9KTtcbiAgaWYgKHdhc0VuYWJsZWQgJiYgIWlzRW5hYmxlZCkge1xuICAgIHN3aXBlci5kaXNhYmxlKCk7XG4gIH0gZWxzZSBpZiAoIXdhc0VuYWJsZWQgJiYgaXNFbmFibGVkKSB7XG4gICAgc3dpcGVyLmVuYWJsZSgpO1xuICB9XG4gIHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9IGJyZWFrcG9pbnQ7XG4gIHN3aXBlci5lbWl0KCdfYmVmb3JlQnJlYWtwb2ludCcsIGJyZWFrcG9pbnRQYXJhbXMpO1xuICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICBpZiAobmVlZHNSZUxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUocmVhbEluZGV4KTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICB9IGVsc2UgaWYgKCF3YXNMb29wICYmIGhhc0xvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKHJlYWxJbmRleCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIGlmICh3YXNMb29wICYmICFoYXNMb29wKSB7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICB9XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ2JyZWFrcG9pbnQnLCBicmVha3BvaW50UGFyYW1zKTtcbn1cblxuZnVuY3Rpb24gZ2V0QnJlYWtwb2ludChicmVha3BvaW50cywgYmFzZSwgY29udGFpbmVyRWwpIHtcbiAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgIGJhc2UgPSAnd2luZG93JztcbiAgfVxuICBpZiAoIWJyZWFrcG9pbnRzIHx8IGJhc2UgPT09ICdjb250YWluZXInICYmICFjb250YWluZXJFbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgbGV0IGJyZWFrcG9pbnQgPSBmYWxzZTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGN1cnJlbnRIZWlnaHQgPSBiYXNlID09PSAnd2luZG93JyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IGNvbnRhaW5lckVsLmNsaWVudEhlaWdodDtcbiAgY29uc3QgcG9pbnRzID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLm1hcChwb2ludCA9PiB7XG4gICAgaWYgKHR5cGVvZiBwb2ludCA9PT0gJ3N0cmluZycgJiYgcG9pbnQuaW5kZXhPZignQCcpID09PSAwKSB7XG4gICAgICBjb25zdCBtaW5SYXRpbyA9IHBhcnNlRmxvYXQocG9pbnQuc3Vic3RyKDEpKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gY3VycmVudEhlaWdodCAqIG1pblJhdGlvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHBvaW50XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHBvaW50LFxuICAgICAgcG9pbnRcbiAgICB9O1xuICB9KTtcbiAgcG9pbnRzLnNvcnQoKGEsIGIpID0+IHBhcnNlSW50KGEudmFsdWUsIDEwKSAtIHBhcnNlSW50KGIudmFsdWUsIDEwKSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3Qge1xuICAgICAgcG9pbnQsXG4gICAgICB2YWx1ZVxuICAgIH0gPSBwb2ludHNbaV07XG4gICAgaWYgKGJhc2UgPT09ICd3aW5kb3cnKSB7XG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoYChtaW4td2lkdGg6ICR7dmFsdWV9cHgpYCkubWF0Y2hlcykge1xuICAgICAgICBicmVha3BvaW50ID0gcG9pbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA8PSBjb250YWluZXJFbC5jbGllbnRXaWR0aCkge1xuICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gYnJlYWtwb2ludCB8fCAnbWF4Jztcbn1cblxudmFyIGJyZWFrcG9pbnRzID0ge1xuICBzZXRCcmVha3BvaW50LFxuICBnZXRCcmVha3BvaW50XG59O1xuXG5mdW5jdGlvbiBwcmVwYXJlQ2xhc3NlcyhlbnRyaWVzLCBwcmVmaXgpIHtcbiAgY29uc3QgcmVzdWx0Q2xhc3NlcyA9IFtdO1xuICBlbnRyaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChjbGFzc05hbWVzID0+IHtcbiAgICAgICAgaWYgKGl0ZW1bY2xhc3NOYW1lc10pIHtcbiAgICAgICAgICByZXN1bHRDbGFzc2VzLnB1c2gocHJlZml4ICsgY2xhc3NOYW1lcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXN1bHRDbGFzc2VzLnB1c2gocHJlZml4ICsgaXRlbSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdENsYXNzZXM7XG59XG5mdW5jdGlvbiBhZGRDbGFzc2VzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lcyxcbiAgICBwYXJhbXMsXG4gICAgcnRsLFxuICAgIGVsLFxuICAgIGRldmljZVxuICB9ID0gc3dpcGVyO1xuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgY29uc3Qgc3VmZml4ZXMgPSBwcmVwYXJlQ2xhc3NlcyhbJ2luaXRpYWxpemVkJywgcGFyYW1zLmRpcmVjdGlvbiwge1xuICAgICdmcmVlLW1vZGUnOiBzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkXG4gIH0sIHtcbiAgICAnYXV0b2hlaWdodCc6IHBhcmFtcy5hdXRvSGVpZ2h0XG4gIH0sIHtcbiAgICAncnRsJzogcnRsXG4gIH0sIHtcbiAgICAnZ3JpZCc6IHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxXG4gIH0sIHtcbiAgICAnZ3JpZC1jb2x1bW4nOiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMSAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJ1xuICB9LCB7XG4gICAgJ2FuZHJvaWQnOiBkZXZpY2UuYW5kcm9pZFxuICB9LCB7XG4gICAgJ2lvcyc6IGRldmljZS5pb3NcbiAgfSwge1xuICAgICdjc3MtbW9kZSc6IHBhcmFtcy5jc3NNb2RlXG4gIH0sIHtcbiAgICAnY2VudGVyZWQnOiBwYXJhbXMuY3NzTW9kZSAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXNcbiAgfSwge1xuICAgICd3YXRjaC1wcm9ncmVzcyc6IHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzXG4gIH1dLCBwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyk7XG4gIGNsYXNzTmFtZXMucHVzaCguLi5zdWZmaXhlcyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lcyk7XG4gIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzc2VzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgZWwsXG4gICAgY2xhc3NOYW1lc1xuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVsIHx8IHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHJldHVybjtcbiAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc05hbWVzKTtcbiAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG59XG5cbnZhciBjbGFzc2VzID0ge1xuICBhZGRDbGFzc2VzLFxuICByZW1vdmVDbGFzc2VzXG59O1xuXG5mdW5jdGlvbiBjaGVja092ZXJmbG93KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgaXNMb2NrZWQ6IHdhc0xvY2tlZCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qge1xuICAgIHNsaWRlc09mZnNldEJlZm9yZVxuICB9ID0gcGFyYW1zO1xuICBpZiAoc2xpZGVzT2Zmc2V0QmVmb3JlKSB7XG4gICAgY29uc3QgbGFzdFNsaWRlSW5kZXggPSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgbGFzdFNsaWRlUmlnaHRFZGdlID0gc3dpcGVyLnNsaWRlc0dyaWRbbGFzdFNsaWRlSW5kZXhdICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtsYXN0U2xpZGVJbmRleF0gKyBzbGlkZXNPZmZzZXRCZWZvcmUgKiAyO1xuICAgIHN3aXBlci5pc0xvY2tlZCA9IHN3aXBlci5zaXplID4gbGFzdFNsaWRlUmlnaHRFZGdlO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci5pc0xvY2tlZCA9IHN3aXBlci5zbmFwR3JpZC5sZW5ndGggPT09IDE7XG4gIH1cbiAgaWYgKHBhcmFtcy5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIH1cbiAgaWYgKHBhcmFtcy5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIH1cbiAgaWYgKHdhc0xvY2tlZCAmJiB3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5pc0VuZCA9IGZhbHNlO1xuICB9XG4gIGlmICh3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5lbWl0KHN3aXBlci5pc0xvY2tlZCA/ICdsb2NrJyA6ICd1bmxvY2snKTtcbiAgfVxufVxudmFyIGNoZWNrT3ZlcmZsb3ckMSA9IHtcbiAgY2hlY2tPdmVyZmxvd1xufTtcblxudmFyIGRlZmF1bHRzID0ge1xuICBpbml0OiB0cnVlLFxuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgb25lV2F5TW92ZW1lbnQ6IGZhbHNlLFxuICBzd2lwZXJFbGVtZW50Tm9kZU5hbWU6ICdTV0lQRVItQ09OVEFJTkVSJyxcbiAgdG91Y2hFdmVudHNUYXJnZXQ6ICd3cmFwcGVyJyxcbiAgaW5pdGlhbFNsaWRlOiAwLFxuICBzcGVlZDogMzAwLFxuICBjc3NNb2RlOiBmYWxzZSxcbiAgdXBkYXRlT25XaW5kb3dSZXNpemU6IHRydWUsXG4gIHJlc2l6ZU9ic2VydmVyOiB0cnVlLFxuICBuZXN0ZWQ6IGZhbHNlLFxuICBjcmVhdGVFbGVtZW50czogZmFsc2UsXG4gIGV2ZW50c1ByZWZpeDogJ3N3aXBlcicsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIGZvY3VzYWJsZUVsZW1lbnRzOiAnaW5wdXQsIHNlbGVjdCwgb3B0aW9uLCB0ZXh0YXJlYSwgYnV0dG9uLCB2aWRlbywgbGFiZWwnLFxuICAvLyBPdmVycmlkZXNcbiAgd2lkdGg6IG51bGwsXG4gIGhlaWdodDogbnVsbCxcbiAgLy9cbiAgcHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uOiBmYWxzZSxcbiAgLy8gc3NyXG4gIHVzZXJBZ2VudDogbnVsbCxcbiAgdXJsOiBudWxsLFxuICAvLyBUbyBzdXBwb3J0IGlPUydzIHN3aXBlLXRvLWdvLWJhY2sgZ2VzdHVyZSAod2hlbiBiZWluZyB1c2VkIGluLWFwcCkuXG4gIGVkZ2VTd2lwZURldGVjdGlvbjogZmFsc2UsXG4gIGVkZ2VTd2lwZVRocmVzaG9sZDogMjAsXG4gIC8vIEF1dG9oZWlnaHRcbiAgYXV0b0hlaWdodDogZmFsc2UsXG4gIC8vIFNldCB3cmFwcGVyIHdpZHRoXG4gIHNldFdyYXBwZXJTaXplOiBmYWxzZSxcbiAgLy8gVmlydHVhbCBUcmFuc2xhdGVcbiAgdmlydHVhbFRyYW5zbGF0ZTogZmFsc2UsXG4gIC8vIEVmZmVjdHNcbiAgZWZmZWN0OiAnc2xpZGUnLFxuICAvLyAnc2xpZGUnIG9yICdmYWRlJyBvciAnY3ViZScgb3IgJ2NvdmVyZmxvdycgb3IgJ2ZsaXAnXG5cbiAgLy8gQnJlYWtwb2ludHNcbiAgYnJlYWtwb2ludHM6IHVuZGVmaW5lZCxcbiAgYnJlYWtwb2ludHNCYXNlOiAnd2luZG93JyxcbiAgLy8gU2xpZGVzIGdyaWRcbiAgc3BhY2VCZXR3ZWVuOiAwLFxuICBzbGlkZXNQZXJWaWV3OiAxLFxuICBzbGlkZXNQZXJHcm91cDogMSxcbiAgc2xpZGVzUGVyR3JvdXBTa2lwOiAwLFxuICBzbGlkZXNQZXJHcm91cEF1dG86IGZhbHNlLFxuICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gIGNlbnRlcmVkU2xpZGVzQm91bmRzOiBmYWxzZSxcbiAgc2xpZGVzT2Zmc2V0QmVmb3JlOiAwLFxuICAvLyBpbiBweFxuICBzbGlkZXNPZmZzZXRBZnRlcjogMCxcbiAgLy8gaW4gcHhcbiAgbm9ybWFsaXplU2xpZGVJbmRleDogdHJ1ZSxcbiAgY2VudGVySW5zdWZmaWNpZW50U2xpZGVzOiBmYWxzZSxcbiAgLy8gRGlzYWJsZSBzd2lwZXIgYW5kIGhpZGUgbmF2aWdhdGlvbiB3aGVuIGNvbnRhaW5lciBub3Qgb3ZlcmZsb3dcbiAgd2F0Y2hPdmVyZmxvdzogdHJ1ZSxcbiAgLy8gUm91bmQgbGVuZ3RoXG4gIHJvdW5kTGVuZ3RoczogZmFsc2UsXG4gIC8vIFRvdWNoZXNcbiAgdG91Y2hSYXRpbzogMSxcbiAgdG91Y2hBbmdsZTogNDUsXG4gIHNpbXVsYXRlVG91Y2g6IHRydWUsXG4gIHNob3J0U3dpcGVzOiB0cnVlLFxuICBsb25nU3dpcGVzOiB0cnVlLFxuICBsb25nU3dpcGVzUmF0aW86IDAuNSxcbiAgbG9uZ1N3aXBlc01zOiAzMDAsXG4gIGZvbGxvd0ZpbmdlcjogdHJ1ZSxcbiAgYWxsb3dUb3VjaE1vdmU6IHRydWUsXG4gIHRocmVzaG9sZDogNSxcbiAgdG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgdG91Y2hTdGFydFByZXZlbnREZWZhdWx0OiB0cnVlLFxuICB0b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdDogZmFsc2UsXG4gIHRvdWNoUmVsZWFzZU9uRWRnZXM6IGZhbHNlLFxuICAvLyBVbmlxdWUgTmF2aWdhdGlvbiBFbGVtZW50c1xuICB1bmlxdWVOYXZFbGVtZW50czogdHJ1ZSxcbiAgLy8gUmVzaXN0YW5jZVxuICByZXNpc3RhbmNlOiB0cnVlLFxuICByZXNpc3RhbmNlUmF0aW86IDAuODUsXG4gIC8vIFByb2dyZXNzXG4gIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IGZhbHNlLFxuICAvLyBDdXJzb3JcbiAgZ3JhYkN1cnNvcjogZmFsc2UsXG4gIC8vIENsaWNrc1xuICBwcmV2ZW50Q2xpY2tzOiB0cnVlLFxuICBwcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb246IHRydWUsXG4gIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlLFxuICAvLyBsb29wXG4gIGxvb3A6IGZhbHNlLFxuICBsb29wQWRkQmxhbmtTbGlkZXM6IHRydWUsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAwLFxuICBsb29wUHJldmVudHNTbGlkaW5nOiB0cnVlLFxuICAvLyByZXdpbmRcbiAgcmV3aW5kOiBmYWxzZSxcbiAgLy8gU3dpcGluZy9ubyBzd2lwaW5nXG4gIGFsbG93U2xpZGVQcmV2OiB0cnVlLFxuICBhbGxvd1NsaWRlTmV4dDogdHJ1ZSxcbiAgc3dpcGVIYW5kbGVyOiBudWxsLFxuICAvLyAnLnN3aXBlLWhhbmRsZXInLFxuICBub1N3aXBpbmc6IHRydWUsXG4gIG5vU3dpcGluZ0NsYXNzOiAnc3dpcGVyLW5vLXN3aXBpbmcnLFxuICBub1N3aXBpbmdTZWxlY3RvcjogbnVsbCxcbiAgLy8gUGFzc2l2ZSBMaXN0ZW5lcnNcbiAgcGFzc2l2ZUxpc3RlbmVyczogdHJ1ZSxcbiAgbWF4QmFja2ZhY2VIaWRkZW5TbGlkZXM6IDEwLFxuICAvLyBOU1xuICBjb250YWluZXJNb2RpZmllckNsYXNzOiAnc3dpcGVyLScsXG4gIC8vIE5FV1xuICBzbGlkZUNsYXNzOiAnc3dpcGVyLXNsaWRlJyxcbiAgc2xpZGVCbGFua0NsYXNzOiAnc3dpcGVyLXNsaWRlLWJsYW5rJyxcbiAgc2xpZGVBY3RpdmVDbGFzczogJ3N3aXBlci1zbGlkZS1hY3RpdmUnLFxuICBzbGlkZVZpc2libGVDbGFzczogJ3N3aXBlci1zbGlkZS12aXNpYmxlJyxcbiAgc2xpZGVGdWxseVZpc2libGVDbGFzczogJ3N3aXBlci1zbGlkZS1mdWxseS12aXNpYmxlJyxcbiAgc2xpZGVOZXh0Q2xhc3M6ICdzd2lwZXItc2xpZGUtbmV4dCcsXG4gIHNsaWRlUHJldkNsYXNzOiAnc3dpcGVyLXNsaWRlLXByZXYnLFxuICB3cmFwcGVyQ2xhc3M6ICdzd2lwZXItd3JhcHBlcicsXG4gIGxhenlQcmVsb2FkZXJDbGFzczogJ3N3aXBlci1sYXp5LXByZWxvYWRlcicsXG4gIGxhenlQcmVsb2FkUHJldk5leHQ6IDAsXG4gIC8vIENhbGxiYWNrc1xuICBydW5DYWxsYmFja3NPbkluaXQ6IHRydWUsXG4gIC8vIEludGVybmFsc1xuICBfZW1pdENsYXNzZXM6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBtb2R1bGVFeHRlbmRQYXJhbXMocGFyYW1zLCBhbGxNb2R1bGVzUGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbiBleHRlbmRQYXJhbXMob2JqKSB7XG4gICAgaWYgKG9iaiA9PT0gdm9pZCAwKSB7XG4gICAgICBvYmogPSB7fTtcbiAgICB9XG4gICAgY29uc3QgbW9kdWxlUGFyYW1OYW1lID0gT2JqZWN0LmtleXMob2JqKVswXTtcbiAgICBjb25zdCBtb2R1bGVQYXJhbXMgPSBvYmpbbW9kdWxlUGFyYW1OYW1lXTtcbiAgICBpZiAodHlwZW9mIG1vZHVsZVBhcmFtcyAhPT0gJ29iamVjdCcgfHwgbW9kdWxlUGFyYW1zID09PSBudWxsKSB7XG4gICAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSB0cnVlKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZVBhcmFtTmFtZSA9PT0gJ25hdmlnYXRpb24nICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVuYWJsZWQgJiYgIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLnByZXZFbCAmJiAhcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0ubmV4dEVsKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5hdXRvID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFsncGFnaW5hdGlvbicsICdzY3JvbGxiYXInXS5pbmRleE9mKG1vZHVsZVBhcmFtTmFtZSkgPj0gMCAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbmFibGVkICYmICFwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbCkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uYXV0byA9IHRydWU7XG4gICAgfVxuICAgIGlmICghKG1vZHVsZVBhcmFtTmFtZSBpbiBwYXJhbXMgJiYgJ2VuYWJsZWQnIGluIG1vZHVsZVBhcmFtcykpIHtcbiAgICAgIGV4dGVuZChhbGxNb2R1bGVzUGFyYW1zLCBvYmopO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSAnb2JqZWN0JyAmJiAhKCdlbmFibGVkJyBpbiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSkpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdKSBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgfTtcbiAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgfTtcbn1cblxuLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiBcIm9mZlwiICovXG5jb25zdCBwcm90b3R5cGVzID0ge1xuICBldmVudHNFbWl0dGVyLFxuICB1cGRhdGUsXG4gIHRyYW5zbGF0ZSxcbiAgdHJhbnNpdGlvbixcbiAgc2xpZGUsXG4gIGxvb3AsXG4gIGdyYWJDdXJzb3IsXG4gIGV2ZW50czogZXZlbnRzJDEsXG4gIGJyZWFrcG9pbnRzLFxuICBjaGVja092ZXJmbG93OiBjaGVja092ZXJmbG93JDEsXG4gIGNsYXNzZXNcbn07XG5jb25zdCBleHRlbmRlZERlZmF1bHRzID0ge307XG5jbGFzcyBTd2lwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgZWw7XG4gICAgbGV0IHBhcmFtcztcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBhcmdzWzBdLmNvbnN0cnVjdG9yICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmdzWzBdKS5zbGljZSg4LCAtMSkgPT09ICdPYmplY3QnKSB7XG4gICAgICBwYXJhbXMgPSBhcmdzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBbZWwsIHBhcmFtc10gPSBhcmdzO1xuICAgIH1cbiAgICBpZiAoIXBhcmFtcykgcGFyYW1zID0ge307XG4gICAgcGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMpO1xuICAgIGlmIChlbCAmJiAhcGFyYW1zLmVsKSBwYXJhbXMuZWwgPSBlbDtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgaWYgKHBhcmFtcy5lbCAmJiB0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbCkubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3Qgc3dpcGVycyA9IFtdO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJhbXMuZWwpLmZvckVhY2goY29udGFpbmVyRWwgPT4ge1xuICAgICAgICBjb25zdCBuZXdQYXJhbXMgPSBleHRlbmQoe30sIHBhcmFtcywge1xuICAgICAgICAgIGVsOiBjb250YWluZXJFbFxuICAgICAgICB9KTtcbiAgICAgICAgc3dpcGVycy5wdXNoKG5ldyBTd2lwZXIobmV3UGFyYW1zKSk7XG4gICAgICB9KTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cbiAgICAgIHJldHVybiBzd2lwZXJzO1xuICAgIH1cblxuICAgIC8vIFN3aXBlciBJbnN0YW5jZVxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLl9fc3dpcGVyX18gPSB0cnVlO1xuICAgIHN3aXBlci5zdXBwb3J0ID0gZ2V0U3VwcG9ydCgpO1xuICAgIHN3aXBlci5kZXZpY2UgPSBnZXREZXZpY2Uoe1xuICAgICAgdXNlckFnZW50OiBwYXJhbXMudXNlckFnZW50XG4gICAgfSk7XG4gICAgc3dpcGVyLmJyb3dzZXIgPSBnZXRCcm93c2VyKCk7XG4gICAgc3dpcGVyLmV2ZW50c0xpc3RlbmVycyA9IHt9O1xuICAgIHN3aXBlci5ldmVudHNBbnlMaXN0ZW5lcnMgPSBbXTtcbiAgICBzd2lwZXIubW9kdWxlcyA9IFsuLi5zd2lwZXIuX19tb2R1bGVzX19dO1xuICAgIGlmIChwYXJhbXMubW9kdWxlcyAmJiBBcnJheS5pc0FycmF5KHBhcmFtcy5tb2R1bGVzKSkge1xuICAgICAgc3dpcGVyLm1vZHVsZXMucHVzaCguLi5wYXJhbXMubW9kdWxlcyk7XG4gICAgfVxuICAgIGNvbnN0IGFsbE1vZHVsZXNQYXJhbXMgPSB7fTtcbiAgICBzd2lwZXIubW9kdWxlcy5mb3JFYWNoKG1vZCA9PiB7XG4gICAgICBtb2Qoe1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHN3aXBlcixcbiAgICAgICAgZXh0ZW5kUGFyYW1zOiBtb2R1bGVFeHRlbmRQYXJhbXMocGFyYW1zLCBhbGxNb2R1bGVzUGFyYW1zKSxcbiAgICAgICAgb246IHN3aXBlci5vbi5iaW5kKHN3aXBlciksXG4gICAgICAgIG9uY2U6IHN3aXBlci5vbmNlLmJpbmQoc3dpcGVyKSxcbiAgICAgICAgb2ZmOiBzd2lwZXIub2ZmLmJpbmQoc3dpcGVyKSxcbiAgICAgICAgZW1pdDogc3dpcGVyLmVtaXQuYmluZChzd2lwZXIpXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEV4dGVuZCBkZWZhdWx0cyB3aXRoIG1vZHVsZXMgcGFyYW1zXG4gICAgY29uc3Qgc3dpcGVyUGFyYW1zID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgYWxsTW9kdWxlc1BhcmFtcyk7XG5cbiAgICAvLyBFeHRlbmQgZGVmYXVsdHMgd2l0aCBwYXNzZWQgcGFyYW1zXG4gICAgc3dpcGVyLnBhcmFtcyA9IGV4dGVuZCh7fSwgc3dpcGVyUGFyYW1zLCBleHRlbmRlZERlZmF1bHRzLCBwYXJhbXMpO1xuICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcyA9IGV4dGVuZCh7fSwgc3dpcGVyLnBhcmFtcyk7XG4gICAgc3dpcGVyLnBhc3NlZFBhcmFtcyA9IGV4dGVuZCh7fSwgcGFyYW1zKTtcblxuICAgIC8vIGFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICBpZiAoc3dpcGVyLnBhcmFtcyAmJiBzd2lwZXIucGFyYW1zLm9uKSB7XG4gICAgICBPYmplY3Qua2V5cyhzd2lwZXIucGFyYW1zLm9uKS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgIHN3aXBlci5vbihldmVudE5hbWUsIHN3aXBlci5wYXJhbXMub25bZXZlbnROYW1lXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMgJiYgc3dpcGVyLnBhcmFtcy5vbkFueSkge1xuICAgICAgc3dpcGVyLm9uQW55KHN3aXBlci5wYXJhbXMub25BbnkpO1xuICAgIH1cblxuICAgIC8vIEV4dGVuZCBTd2lwZXJcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgICAgZW5hYmxlZDogc3dpcGVyLnBhcmFtcy5lbmFibGVkLFxuICAgICAgZWwsXG4gICAgICAvLyBDbGFzc2VzXG4gICAgICBjbGFzc05hbWVzOiBbXSxcbiAgICAgIC8vIFNsaWRlc1xuICAgICAgc2xpZGVzOiBbXSxcbiAgICAgIHNsaWRlc0dyaWQ6IFtdLFxuICAgICAgc25hcEdyaWQ6IFtdLFxuICAgICAgc2xpZGVzU2l6ZXNHcmlkOiBbXSxcbiAgICAgIC8vIGlzRGlyZWN0aW9uXG4gICAgICBpc0hvcml6b250YWwoKSB7XG4gICAgICAgIHJldHVybiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICAgICAgfSxcbiAgICAgIGlzVmVydGljYWwoKSB7XG4gICAgICAgIHJldHVybiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJztcbiAgICAgIH0sXG4gICAgICAvLyBJbmRleGVzXG4gICAgICBhY3RpdmVJbmRleDogMCxcbiAgICAgIHJlYWxJbmRleDogMCxcbiAgICAgIC8vXG4gICAgICBpc0JlZ2lubmluZzogdHJ1ZSxcbiAgICAgIGlzRW5kOiBmYWxzZSxcbiAgICAgIC8vIFByb3BzXG4gICAgICB0cmFuc2xhdGU6IDAsXG4gICAgICBwcmV2aW91c1RyYW5zbGF0ZTogMCxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgdmVsb2NpdHk6IDAsXG4gICAgICBhbmltYXRpbmc6IGZhbHNlLFxuICAgICAgY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCkge1xuICAgICAgICAvLyBSZXR1cm5zIDAgdW5sZXNzIGB0cmFuc2xhdGVgIGlzID4gMioqMjNcbiAgICAgICAgLy8gU2hvdWxkIGJlIHN1YnRyYWN0ZWQgZnJvbSBjc3MgdmFsdWVzIHRvIHByZXZlbnQgb3ZlcmZsb3dcbiAgICAgICAgcmV0dXJuIE1hdGgudHJ1bmModGhpcy50cmFuc2xhdGUgLyAyICoqIDIzKSAqIDIgKiogMjM7XG4gICAgICB9LFxuICAgICAgLy8gTG9ja3NcbiAgICAgIGFsbG93U2xpZGVOZXh0OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVOZXh0LFxuICAgICAgYWxsb3dTbGlkZVByZXY6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZVByZXYsXG4gICAgICAvLyBUb3VjaCBFdmVudHNcbiAgICAgIHRvdWNoRXZlbnRzRGF0YToge1xuICAgICAgICBpc1RvdWNoZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNNb3ZlZDogdW5kZWZpbmVkLFxuICAgICAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB1bmRlZmluZWQsXG4gICAgICAgIHRvdWNoU3RhcnRUaW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxsb3dUaHJlc2hvbGRNb3ZlOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIEZvcm0gZWxlbWVudHMgdG8gbWF0Y2hcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudHM6IHN3aXBlci5wYXJhbXMuZm9jdXNhYmxlRWxlbWVudHMsXG4gICAgICAgIC8vIExhc3QgY2xpY2sgdGltZVxuICAgICAgICBsYXN0Q2xpY2tUaW1lOiAwLFxuICAgICAgICBjbGlja1RpbWVvdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gVmVsb2NpdGllc1xuICAgICAgICB2ZWxvY2l0aWVzOiBbXSxcbiAgICAgICAgYWxsb3dNb21lbnR1bUJvdW5jZTogdW5kZWZpbmVkLFxuICAgICAgICBzdGFydE1vdmluZzogdW5kZWZpbmVkLFxuICAgICAgICBwb2ludGVySWQ6IG51bGwsXG4gICAgICAgIHRvdWNoSWQ6IG51bGxcbiAgICAgIH0sXG4gICAgICAvLyBDbGlja3NcbiAgICAgIGFsbG93Q2xpY2s6IHRydWUsXG4gICAgICAvLyBUb3VjaGVzXG4gICAgICBhbGxvd1RvdWNoTW92ZTogc3dpcGVyLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxcbiAgICAgIHRvdWNoZXM6IHtcbiAgICAgICAgc3RhcnRYOiAwLFxuICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgIGN1cnJlbnRYOiAwLFxuICAgICAgICBjdXJyZW50WTogMCxcbiAgICAgICAgZGlmZjogMFxuICAgICAgfSxcbiAgICAgIC8vIEltYWdlc1xuICAgICAgaW1hZ2VzVG9Mb2FkOiBbXSxcbiAgICAgIGltYWdlc0xvYWRlZDogMFxuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfc3dpcGVyJyk7XG5cbiAgICAvLyBJbml0XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaW5pdCkge1xuICAgICAgc3dpcGVyLmluaXQoKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYXBwIGluc3RhbmNlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0cnVjdG9yLXJldHVyblxuICAgIHJldHVybiBzd2lwZXI7XG4gIH1cbiAgZ2V0RGlyZWN0aW9uTGFiZWwocHJvcGVydHkpIHtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4ge1xuICAgICAgJ3dpZHRoJzogJ2hlaWdodCcsXG4gICAgICAnbWFyZ2luLXRvcCc6ICdtYXJnaW4tbGVmdCcsXG4gICAgICAnbWFyZ2luLWJvdHRvbSAnOiAnbWFyZ2luLXJpZ2h0JyxcbiAgICAgICdtYXJnaW4tbGVmdCc6ICdtYXJnaW4tdG9wJyxcbiAgICAgICdtYXJnaW4tcmlnaHQnOiAnbWFyZ2luLWJvdHRvbScsXG4gICAgICAncGFkZGluZy1sZWZ0JzogJ3BhZGRpbmctdG9wJyxcbiAgICAgICdwYWRkaW5nLXJpZ2h0JzogJ3BhZGRpbmctYm90dG9tJyxcbiAgICAgICdtYXJnaW5SaWdodCc6ICdtYXJnaW5Cb3R0b20nXG4gICAgfVtwcm9wZXJ0eV07XG4gIH1cbiAgZ2V0U2xpZGVJbmRleChzbGlkZUVsKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzRWwsXG4gICAgICBwYXJhbXNcbiAgICB9ID0gdGhpcztcbiAgICBjb25zdCBzbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICAgIGNvbnN0IGZpcnN0U2xpZGVJbmRleCA9IGVsZW1lbnRJbmRleChzbGlkZXNbMF0pO1xuICAgIHJldHVybiBlbGVtZW50SW5kZXgoc2xpZGVFbCkgLSBmaXJzdFNsaWRlSW5kZXg7XG4gIH1cbiAgZ2V0U2xpZGVJbmRleEJ5RGF0YShpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmdldFNsaWRlSW5kZXgodGhpcy5zbGlkZXMuZmluZChzbGlkZUVsID0+IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA9PT0gaW5kZXgpKTtcbiAgfVxuICBnZXRTbGlkZUluZGV4V2hlbkdyaWQoaW5kZXgpIHtcbiAgICBpZiAodGhpcy5ncmlkICYmIHRoaXMucGFyYW1zLmdyaWQgJiYgdGhpcy5wYXJhbXMuZ3JpZC5yb3dzID4gMSkge1xuICAgICAgaWYgKHRoaXMucGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgaW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gdGhpcy5wYXJhbXMuZ3JpZC5yb3dzKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJhbXMuZ3JpZC5maWxsID09PSAncm93Jykge1xuICAgICAgICBpbmRleCA9IGluZGV4ICUgTWF0aC5jZWlsKHRoaXMuc2xpZGVzLmxlbmd0aCAvIHRoaXMucGFyYW1zLmdyaWQucm93cyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuICByZWNhbGNTbGlkZXMoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXNFbCxcbiAgICAgIHBhcmFtc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgc3dpcGVyLnNsaWRlcyA9IGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLmVuYWJsZWQgPSB0cnVlO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdlbmFibGUnKTtcbiAgfVxuICBkaXNhYmxlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5lbmFibGVkID0gZmFsc2U7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnVuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnZGlzYWJsZScpO1xuICB9XG4gIHNldFByb2dyZXNzKHByb2dyZXNzLCBzcGVlZCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgcHJvZ3Jlc3MgPSBNYXRoLm1pbihNYXRoLm1heChwcm9ncmVzcywgMCksIDEpO1xuICAgIGNvbnN0IG1pbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICBjb25zdCBtYXggPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgY29uc3QgY3VycmVudCA9IChtYXggLSBtaW4pICogcHJvZ3Jlc3MgKyBtaW47XG4gICAgc3dpcGVyLnRyYW5zbGF0ZVRvKGN1cnJlbnQsIHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogc3BlZWQpO1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH1cbiAgZW1pdENvbnRhaW5lckNsYXNzZXMoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuX2VtaXRDbGFzc2VzIHx8ICFzd2lwZXIuZWwpIHJldHVybjtcbiAgICBjb25zdCBjbHMgPSBzd2lwZXIuZWwuY2xhc3NOYW1lLnNwbGl0KCcgJykuZmlsdGVyKGNsYXNzTmFtZSA9PiB7XG4gICAgICByZXR1cm4gY2xhc3NOYW1lLmluZGV4T2YoJ3N3aXBlcicpID09PSAwIHx8IGNsYXNzTmFtZS5pbmRleE9mKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcykgPT09IDA7XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ19jb250YWluZXJDbGFzc2VzJywgY2xzLmpvaW4oJyAnKSk7XG4gIH1cbiAgZ2V0U2xpZGVDbGFzc2VzKHNsaWRlRWwpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIHNsaWRlRWwuY2xhc3NOYW1lLnNwbGl0KCcgJykuZmlsdGVyKGNsYXNzTmFtZSA9PiB7XG4gICAgICByZXR1cm4gY2xhc3NOYW1lLmluZGV4T2YoJ3N3aXBlci1zbGlkZScpID09PSAwIHx8IGNsYXNzTmFtZS5pbmRleE9mKHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcykgPT09IDA7XG4gICAgfSkuam9pbignICcpO1xuICB9XG4gIGVtaXRTbGlkZXNDbGFzc2VzKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLl9lbWl0Q2xhc3NlcyB8fCAhc3dpcGVyLmVsKSByZXR1cm47XG4gICAgY29uc3QgdXBkYXRlcyA9IFtdO1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBzd2lwZXIuZ2V0U2xpZGVDbGFzc2VzKHNsaWRlRWwpO1xuICAgICAgdXBkYXRlcy5wdXNoKHtcbiAgICAgICAgc2xpZGVFbCxcbiAgICAgICAgY2xhc3NOYW1lc1xuICAgICAgfSk7XG4gICAgICBzd2lwZXIuZW1pdCgnX3NsaWRlQ2xhc3MnLCBzbGlkZUVsLCBjbGFzc05hbWVzKTtcbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnX3NsaWRlQ2xhc3NlcycsIHVwZGF0ZXMpO1xuICB9XG4gIHNsaWRlc1BlclZpZXdEeW5hbWljKHZpZXcsIGV4YWN0KSB7XG4gICAgaWYgKHZpZXcgPT09IHZvaWQgMCkge1xuICAgICAgdmlldyA9ICdjdXJyZW50JztcbiAgICB9XG4gICAgaWYgKGV4YWN0ID09PSB2b2lkIDApIHtcbiAgICAgIGV4YWN0ID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgcGFyYW1zLFxuICAgICAgc2xpZGVzLFxuICAgICAgc2xpZGVzR3JpZCxcbiAgICAgIHNsaWRlc1NpemVzR3JpZCxcbiAgICAgIHNpemU6IHN3aXBlclNpemUsXG4gICAgICBhY3RpdmVJbmRleFxuICAgIH0gPSBzd2lwZXI7XG4gICAgbGV0IHNwdiA9IDE7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ251bWJlcicpIHJldHVybiBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBsZXQgc2xpZGVTaXplID0gc2xpZGVzW2FjdGl2ZUluZGV4XSA/IE1hdGguY2VpbChzbGlkZXNbYWN0aXZlSW5kZXhdLnN3aXBlclNsaWRlU2l6ZSkgOiAwO1xuICAgICAgbGV0IGJyZWFrTG9vcDtcbiAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCArIDE7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSAmJiAhYnJlYWtMb29wKSB7XG4gICAgICAgICAgc2xpZGVTaXplICs9IE1hdGguY2VpbChzbGlkZXNbaV0uc3dpcGVyU2xpZGVTaXplKTtcbiAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICBpZiAoc2xpZGVTaXplID4gc3dpcGVyU2l6ZSkgYnJlYWtMb29wID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4IC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSAmJiAhYnJlYWtMb29wKSB7XG4gICAgICAgICAgc2xpZGVTaXplICs9IHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemU7XG4gICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgaWYgKHNsaWRlU2l6ZSA+IHN3aXBlclNpemUpIGJyZWFrTG9vcCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBpZiAodmlldyA9PT0gJ2N1cnJlbnQnKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCArIDE7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZUluVmlldyA9IGV4YWN0ID8gc2xpZGVzR3JpZFtpXSArIHNsaWRlc1NpemVzR3JpZFtpXSAtIHNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdIDwgc3dpcGVyU2l6ZSA6IHNsaWRlc0dyaWRbaV0gLSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSA8IHN3aXBlclNpemU7XG4gICAgICAgICAgaWYgKHNsaWRlSW5WaWV3KSB7XG4gICAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHByZXZpb3VzXG4gICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVJblZpZXcgPSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSAtIHNsaWRlc0dyaWRbaV0gPCBzd2lwZXJTaXplO1xuICAgICAgICAgIGlmIChzbGlkZUluVmlldykge1xuICAgICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzcHY7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHNuYXBHcmlkLFxuICAgICAgcGFyYW1zXG4gICAgfSA9IHN3aXBlcjtcbiAgICAvLyBCcmVha3BvaW50c1xuICAgIGlmIChwYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gICAgfVxuICAgIFsuLi5zd2lwZXIuZWwucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9XCJsYXp5XCJdJyldLmZvckVhY2goaW1hZ2VFbCA9PiB7XG4gICAgICBpZiAoaW1hZ2VFbC5jb21wbGV0ZSkge1xuICAgICAgICBwcm9jZXNzTGF6eVByZWxvYWRlcihzd2lwZXIsIGltYWdlRWwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN3aXBlci51cGRhdGVTaXplKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgICAgY29uc3QgdHJhbnNsYXRlVmFsdWUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSAqIC0xIDogc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgIGNvbnN0IG5ld1RyYW5zbGF0ZSA9IE1hdGgubWluKE1hdGgubWF4KHRyYW5zbGF0ZVZhbHVlLCBzd2lwZXIubWF4VHJhbnNsYXRlKCkpLCBzd2lwZXIubWluVHJhbnNsYXRlKCkpO1xuICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdUcmFuc2xhdGUpO1xuICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIH1cbiAgICBsZXQgdHJhbnNsYXRlZDtcbiAgICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmICFwYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICBpZiAocGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nIHx8IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkgJiYgc3dpcGVyLmlzRW5kICYmICFwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVzID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcyA6IHN3aXBlci5zbGlkZXM7XG4gICAgICAgIHRyYW5zbGF0ZWQgPSBzd2lwZXIuc2xpZGVUbyhzbGlkZXMubGVuZ3RoIC0gMSwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKCF0cmFuc2xhdGVkKSB7XG4gICAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc25hcEdyaWQgIT09IHN3aXBlci5zbmFwR3JpZCkge1xuICAgICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ3VwZGF0ZScpO1xuICB9XG4gIGNoYW5nZURpcmVjdGlvbihuZXdEaXJlY3Rpb24sIG5lZWRVcGRhdGUpIHtcbiAgICBpZiAobmVlZFVwZGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBuZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCBjdXJyZW50RGlyZWN0aW9uID0gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb247XG4gICAgaWYgKCFuZXdEaXJlY3Rpb24pIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbmV3RGlyZWN0aW9uID0gY3VycmVudERpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICB9XG4gICAgaWYgKG5ld0RpcmVjdGlvbiA9PT0gY3VycmVudERpcmVjdGlvbiB8fCBuZXdEaXJlY3Rpb24gIT09ICdob3Jpem9udGFsJyAmJiBuZXdEaXJlY3Rpb24gIT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIHJldHVybiBzd2lwZXI7XG4gICAgfVxuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke2N1cnJlbnREaXJlY3Rpb259YCk7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7bmV3RGlyZWN0aW9ufWApO1xuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICAgIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID0gbmV3RGlyZWN0aW9uO1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIGlmIChuZXdEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgc2xpZGVFbC5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVFbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnY2hhbmdlRGlyZWN0aW9uJyk7XG4gICAgaWYgKG5lZWRVcGRhdGUpIHN3aXBlci51cGRhdGUoKTtcbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG4gIGNoYW5nZUxhbmd1YWdlRGlyZWN0aW9uKGRpcmVjdGlvbikge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5ydGwgJiYgZGlyZWN0aW9uID09PSAncnRsJyB8fCAhc3dpcGVyLnJ0bCAmJiBkaXJlY3Rpb24gPT09ICdsdHInKSByZXR1cm47XG4gICAgc3dpcGVyLnJ0bCA9IGRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gICAgc3dpcGVyLnJ0bFRyYW5zbGF0ZSA9IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgc3dpcGVyLnJ0bDtcbiAgICBpZiAoc3dpcGVyLnJ0bCkge1xuICAgICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfXJ0bGApO1xuICAgICAgc3dpcGVyLmVsLmRpciA9ICdydGwnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZShgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9cnRsYCk7XG4gICAgICBzd2lwZXIuZWwuZGlyID0gJ2x0cic7XG4gICAgfVxuICAgIHN3aXBlci51cGRhdGUoKTtcbiAgfVxuICBtb3VudChlbGVtZW50KSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLm1vdW50ZWQpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gRmluZCBlbFxuICAgIGxldCBlbCA9IGVsZW1lbnQgfHwgc3dpcGVyLnBhcmFtcy5lbDtcbiAgICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICB9XG4gICAgaWYgKCFlbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbC5zd2lwZXIgPSBzd2lwZXI7XG4gICAgaWYgKGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5ob3N0ICYmIGVsLnBhcmVudE5vZGUuaG9zdC5ub2RlTmFtZSA9PT0gc3dpcGVyLnBhcmFtcy5zd2lwZXJFbGVtZW50Tm9kZU5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgc3dpcGVyLmlzRWxlbWVudCA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGdldFdyYXBwZXJTZWxlY3RvciA9ICgpID0+IHtcbiAgICAgIHJldHVybiBgLiR7KHN3aXBlci5wYXJhbXMud3JhcHBlckNsYXNzIHx8ICcnKS50cmltKCkuc3BsaXQoJyAnKS5qb2luKCcuJyl9YDtcbiAgICB9O1xuICAgIGNvbnN0IGdldFdyYXBwZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoZWwgJiYgZWwuc2hhZG93Um9vdCAmJiBlbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IpIHtcbiAgICAgICAgY29uc3QgcmVzID0gZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGdldFdyYXBwZXJTZWxlY3RvcigpKTtcbiAgICAgICAgLy8gQ2hpbGRyZW4gbmVlZHMgdG8gcmV0dXJuIHNsb3QgaXRlbXNcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50Q2hpbGRyZW4oZWwsIGdldFdyYXBwZXJTZWxlY3RvcigpKVswXTtcbiAgICB9O1xuICAgIC8vIEZpbmQgV3JhcHBlclxuICAgIGxldCB3cmFwcGVyRWwgPSBnZXRXcmFwcGVyKCk7XG4gICAgaWYgKCF3cmFwcGVyRWwgJiYgc3dpcGVyLnBhcmFtcy5jcmVhdGVFbGVtZW50cykge1xuICAgICAgd3JhcHBlckVsID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3MpO1xuICAgICAgZWwuYXBwZW5kKHdyYXBwZXJFbCk7XG4gICAgICBlbGVtZW50Q2hpbGRyZW4oZWwsIGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9YCkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgd3JhcHBlckVsLmFwcGVuZChzbGlkZUVsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgICAgZWwsXG4gICAgICB3cmFwcGVyRWwsXG4gICAgICBzbGlkZXNFbDogc3dpcGVyLmlzRWxlbWVudCAmJiAhZWwucGFyZW50Tm9kZS5ob3N0LnNsaWRlU2xvdHMgPyBlbC5wYXJlbnROb2RlLmhvc3QgOiB3cmFwcGVyRWwsXG4gICAgICBob3N0RWw6IHN3aXBlci5pc0VsZW1lbnQgPyBlbC5wYXJlbnROb2RlLmhvc3QgOiBlbCxcbiAgICAgIG1vdW50ZWQ6IHRydWUsXG4gICAgICAvLyBSVExcbiAgICAgIHJ0bDogZWwuZGlyLnRvTG93ZXJDYXNlKCkgPT09ICdydGwnIHx8IGVsZW1lbnRTdHlsZShlbCwgJ2RpcmVjdGlvbicpID09PSAncnRsJyxcbiAgICAgIHJ0bFRyYW5zbGF0ZTogc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyAmJiAoZWwuZGlyLnRvTG93ZXJDYXNlKCkgPT09ICdydGwnIHx8IGVsZW1lbnRTdHlsZShlbCwgJ2RpcmVjdGlvbicpID09PSAncnRsJyksXG4gICAgICB3cm9uZ1JUTDogZWxlbWVudFN0eWxlKHdyYXBwZXJFbCwgJ2Rpc3BsYXknKSA9PT0gJy13ZWJraXQtYm94J1xuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGluaXQoZWwpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybiBzd2lwZXI7XG4gICAgY29uc3QgbW91bnRlZCA9IHN3aXBlci5tb3VudChlbCk7XG4gICAgaWYgKG1vdW50ZWQgPT09IGZhbHNlKSByZXR1cm4gc3dpcGVyO1xuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVJbml0Jyk7XG5cbiAgICAvLyBTZXQgYnJlYWtwb2ludFxuICAgIGlmIChzd2lwZXIucGFyYW1zLmJyZWFrcG9pbnRzKSB7XG4gICAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICAgIH1cblxuICAgIC8vIEFkZCBDbGFzc2VzXG4gICAgc3dpcGVyLmFkZENsYXNzZXMoKTtcblxuICAgIC8vIFVwZGF0ZSBzaXplXG4gICAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcblxuICAgIC8vIFVwZGF0ZSBzbGlkZXNcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdykge1xuICAgICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgR3JhYiBDdXJzb3JcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cblxuICAgIC8vIFNsaWRlIFRvIEluaXRpYWwgU2xpZGVcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wICYmIHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSwgMCwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsIGZhbHNlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUsIDAsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGxvb3BcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIubG9vcENyZWF0ZSh1bmRlZmluZWQsIHRydWUpO1xuICAgIH1cblxuICAgIC8vIEF0dGFjaCBldmVudHNcbiAgICBzd2lwZXIuYXR0YWNoRXZlbnRzKCk7XG4gICAgY29uc3QgbGF6eUVsZW1lbnRzID0gWy4uLnN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9hZGluZz1cImxhenlcIl0nKV07XG4gICAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIGxhenlFbGVtZW50cy5wdXNoKC4uLnN3aXBlci5ob3N0RWwucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9XCJsYXp5XCJdJykpO1xuICAgIH1cbiAgICBsYXp5RWxlbWVudHMuZm9yRWFjaChpbWFnZUVsID0+IHtcbiAgICAgIGlmIChpbWFnZUVsLmNvbXBsZXRlKSB7XG4gICAgICAgIHByb2Nlc3NMYXp5UHJlbG9hZGVyKHN3aXBlciwgaW1hZ2VFbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBlID0+IHtcbiAgICAgICAgICBwcm9jZXNzTGF6eVByZWxvYWRlcihzd2lwZXIsIGUudGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJlbG9hZChzd2lwZXIpO1xuXG4gICAgLy8gSW5pdCBGbGFnXG4gICAgc3dpcGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBwcmVsb2FkKHN3aXBlcik7XG5cbiAgICAvLyBFbWl0XG4gICAgc3dpcGVyLmVtaXQoJ2luaXQnKTtcbiAgICBzd2lwZXIuZW1pdCgnYWZ0ZXJJbml0Jyk7XG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfVxuICBkZXN0cm95KGRlbGV0ZUluc3RhbmNlLCBjbGVhblN0eWxlcykge1xuICAgIGlmIChkZWxldGVJbnN0YW5jZSA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWxldGVJbnN0YW5jZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChjbGVhblN0eWxlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBjbGVhblN0eWxlcyA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgcGFyYW1zLFxuICAgICAgZWwsXG4gICAgICB3cmFwcGVyRWwsXG4gICAgICBzbGlkZXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcyA9PT0gJ3VuZGVmaW5lZCcgfHwgc3dpcGVyLmRlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVEZXN0cm95Jyk7XG5cbiAgICAvLyBJbml0IEZsYWdcbiAgICBzd2lwZXIuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuICAgIC8vIERldGFjaCBldmVudHNcbiAgICBzd2lwZXIuZGV0YWNoRXZlbnRzKCk7XG5cbiAgICAvLyBEZXN0cm95IGxvb3BcbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8vIENsZWFudXAgc3R5bGVzXG4gICAgaWYgKGNsZWFuU3R5bGVzKSB7XG4gICAgICBzd2lwZXIucmVtb3ZlQ2xhc3NlcygpO1xuICAgICAgaWYgKGVsICYmIHR5cGVvZiBlbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgfVxuICAgICAgaWYgKHdyYXBwZXJFbCkge1xuICAgICAgICB3cmFwcGVyRWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgfVxuICAgICAgaWYgKHNsaWRlcyAmJiBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MsIHBhcmFtcy5zbGlkZUZ1bGx5VmlzaWJsZUNsYXNzLCBwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcywgcGFyYW1zLnNsaWRlTmV4dENsYXNzLCBwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICAgICAgICAgIHNsaWRlRWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgIHNsaWRlRWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2Rlc3Ryb3knKTtcblxuICAgIC8vIERldGFjaCBlbWl0dGVyIGV2ZW50c1xuICAgIE9iamVjdC5rZXlzKHN3aXBlci5ldmVudHNMaXN0ZW5lcnMpLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgIHN3aXBlci5vZmYoZXZlbnROYW1lKTtcbiAgICB9KTtcbiAgICBpZiAoZGVsZXRlSW5zdGFuY2UgIT09IGZhbHNlKSB7XG4gICAgICBpZiAoc3dpcGVyLmVsICYmIHR5cGVvZiBzd2lwZXIuZWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHN3aXBlci5lbC5zd2lwZXIgPSBudWxsO1xuICAgICAgfVxuICAgICAgZGVsZXRlUHJvcHMoc3dpcGVyKTtcbiAgICB9XG4gICAgc3dpcGVyLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc3RhdGljIGV4dGVuZERlZmF1bHRzKG5ld0RlZmF1bHRzKSB7XG4gICAgZXh0ZW5kKGV4dGVuZGVkRGVmYXVsdHMsIG5ld0RlZmF1bHRzKTtcbiAgfVxuICBzdGF0aWMgZ2V0IGV4dGVuZGVkRGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIGV4dGVuZGVkRGVmYXVsdHM7XG4gIH1cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gZGVmYXVsdHM7XG4gIH1cbiAgc3RhdGljIGluc3RhbGxNb2R1bGUobW9kKSB7XG4gICAgaWYgKCFTd2lwZXIucHJvdG90eXBlLl9fbW9kdWxlc19fKSBTd2lwZXIucHJvdG90eXBlLl9fbW9kdWxlc19fID0gW107XG4gICAgY29uc3QgbW9kdWxlcyA9IFN3aXBlci5wcm90b3R5cGUuX19tb2R1bGVzX187XG4gICAgaWYgKHR5cGVvZiBtb2QgPT09ICdmdW5jdGlvbicgJiYgbW9kdWxlcy5pbmRleE9mKG1vZCkgPCAwKSB7XG4gICAgICBtb2R1bGVzLnB1c2gobW9kKTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIHVzZShtb2R1bGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtb2R1bGUpKSB7XG4gICAgICBtb2R1bGUuZm9yRWFjaChtID0+IFN3aXBlci5pbnN0YWxsTW9kdWxlKG0pKTtcbiAgICAgIHJldHVybiBTd2lwZXI7XG4gICAgfVxuICAgIFN3aXBlci5pbnN0YWxsTW9kdWxlKG1vZHVsZSk7XG4gICAgcmV0dXJuIFN3aXBlcjtcbiAgfVxufVxuT2JqZWN0LmtleXMocHJvdG90eXBlcykuZm9yRWFjaChwcm90b3R5cGVHcm91cCA9PiB7XG4gIE9iamVjdC5rZXlzKHByb3RvdHlwZXNbcHJvdG90eXBlR3JvdXBdKS5mb3JFYWNoKHByb3RvTWV0aG9kID0+IHtcbiAgICBTd2lwZXIucHJvdG90eXBlW3Byb3RvTWV0aG9kXSA9IHByb3RvdHlwZXNbcHJvdG90eXBlR3JvdXBdW3Byb3RvTWV0aG9kXTtcbiAgfSk7XG59KTtcblN3aXBlci51c2UoW1Jlc2l6ZSwgT2JzZXJ2ZXJdKTtcblxuZXhwb3J0IHsgU3dpcGVyIGFzIFMsIGRlZmF1bHRzIGFzIGQgfTtcbiIsICJpbXBvcnQgeyBlIGFzIGVsZW1lbnRDaGlsZHJlbiwgYyBhcyBjcmVhdGVFbGVtZW50IH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKHN3aXBlciwgb3JpZ2luYWxQYXJhbXMsIHBhcmFtcywgY2hlY2tQcm9wcykge1xuICBpZiAoc3dpcGVyLnBhcmFtcy5jcmVhdGVFbGVtZW50cykge1xuICAgIE9iamVjdC5rZXlzKGNoZWNrUHJvcHMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmICghcGFyYW1zW2tleV0gJiYgcGFyYW1zLmF1dG8gPT09IHRydWUpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50Q2hpbGRyZW4oc3dpcGVyLmVsLCBgLiR7Y2hlY2tQcm9wc1trZXldfWApWzBdO1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCgnZGl2JywgY2hlY2tQcm9wc1trZXldKTtcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNoZWNrUHJvcHNba2V5XTtcbiAgICAgICAgICBzd2lwZXIuZWwuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtc1trZXldID0gZWxlbWVudDtcbiAgICAgICAgb3JpZ2luYWxQYXJhbXNba2V5XSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtcztcbn1cblxuZXhwb3J0IHsgY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCBhcyBjIH07XG4iLCAiaW1wb3J0IHsgYyBhcyBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIH0gZnJvbSAnLi4vc2hhcmVkL2NyZWF0ZS1lbGVtZW50LWlmLW5vdC1kZWZpbmVkLm1qcyc7XG5pbXBvcnQgeyBtIGFzIG1ha2VFbGVtZW50c0FycmF5IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIE5hdmlnYXRpb24oX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IG51bGwsXG4gICAgICBwcmV2RWw6IG51bGwsXG4gICAgICBoaWRlT25DbGljazogZmFsc2UsXG4gICAgICBkaXNhYmxlZENsYXNzOiAnc3dpcGVyLWJ1dHRvbi1kaXNhYmxlZCcsXG4gICAgICBoaWRkZW5DbGFzczogJ3N3aXBlci1idXR0b24taGlkZGVuJyxcbiAgICAgIGxvY2tDbGFzczogJ3N3aXBlci1idXR0b24tbG9jaycsXG4gICAgICBuYXZpZ2F0aW9uRGlzYWJsZWRDbGFzczogJ3N3aXBlci1uYXZpZ2F0aW9uLWRpc2FibGVkJ1xuICAgIH1cbiAgfSk7XG4gIHN3aXBlci5uYXZpZ2F0aW9uID0ge1xuICAgIG5leHRFbDogbnVsbCxcbiAgICBwcmV2RWw6IG51bGxcbiAgfTtcbiAgZnVuY3Rpb24gZ2V0RWwoZWwpIHtcbiAgICBsZXQgcmVzO1xuICAgIGlmIChlbCAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIHJlcyA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKGVsKSB8fCBzd2lwZXIuaG9zdEVsLnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgICAgaWYgKHJlcykgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgaWYgKGVsKSB7XG4gICAgICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykgcmVzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWwpXTtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIHR5cGVvZiBlbCA9PT0gJ3N0cmluZycgJiYgcmVzICYmIHJlcy5sZW5ndGggPiAxICYmIHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKGVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmVzID0gc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgICAgfSBlbHNlIGlmIChyZXMgJiYgcmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXMgPSByZXNbMF07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbCAmJiAhcmVzKSByZXR1cm4gZWw7XG4gICAgLy8gaWYgKEFycmF5LmlzQXJyYXkocmVzKSAmJiByZXMubGVuZ3RoID09PSAxKSByZXMgPSByZXNbMF07XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBmdW5jdGlvbiB0b2dnbGVFbChlbCwgZGlzYWJsZWQpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBpZiAoc3ViRWwpIHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0W2Rpc2FibGVkID8gJ2FkZCcgOiAncmVtb3ZlJ10oLi4ucGFyYW1zLmRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgIGlmIChzdWJFbC50YWdOYW1lID09PSAnQlVUVE9OJykgc3ViRWwuZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgICAgIHN1YkVsLmNsYXNzTGlzdFtzd2lwZXIuaXNMb2NrZWQgPyAnYWRkJyA6ICdyZW1vdmUnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAvLyBVcGRhdGUgTmF2aWdhdGlvbiBCdXR0b25zXG4gICAgY29uc3Qge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHRvZ2dsZUVsKHByZXZFbCwgZmFsc2UpO1xuICAgICAgdG9nZ2xlRWwobmV4dEVsLCBmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRvZ2dsZUVsKHByZXZFbCwgc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLnJld2luZCk7XG4gICAgdG9nZ2xlRWwobmV4dEVsLCBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKTtcbiAgfVxuICBmdW5jdGlvbiBvblByZXZDbGljayhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMubG9vcCAmJiAhc3dpcGVyLnBhcmFtcy5yZXdpbmQpIHJldHVybjtcbiAgICBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgZW1pdCgnbmF2aWdhdGlvblByZXYnKTtcbiAgfVxuICBmdW5jdGlvbiBvbk5leHRDbGljayhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMubG9vcCAmJiAhc3dpcGVyLnBhcmFtcy5yZXdpbmQpIHJldHVybjtcbiAgICBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgZW1pdCgnbmF2aWdhdGlvbk5leHQnKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbjtcbiAgICBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24gPSBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKHN3aXBlciwgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLm5hdmlnYXRpb24sIHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbiwge1xuICAgICAgbmV4dEVsOiAnc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgIHByZXZFbDogJ3N3aXBlci1idXR0b24tcHJldidcbiAgICB9KTtcbiAgICBpZiAoIShwYXJhbXMubmV4dEVsIHx8IHBhcmFtcy5wcmV2RWwpKSByZXR1cm47XG4gICAgbGV0IG5leHRFbCA9IGdldEVsKHBhcmFtcy5uZXh0RWwpO1xuICAgIGxldCBwcmV2RWwgPSBnZXRFbChwYXJhbXMucHJldkVsKTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5uYXZpZ2F0aW9uLCB7XG4gICAgICBuZXh0RWwsXG4gICAgICBwcmV2RWxcbiAgICB9KTtcbiAgICBuZXh0RWwgPSBtYWtlRWxlbWVudHNBcnJheShuZXh0RWwpO1xuICAgIHByZXZFbCA9IG1ha2VFbGVtZW50c0FycmF5KHByZXZFbCk7XG4gICAgY29uc3QgaW5pdEJ1dHRvbiA9IChlbCwgZGlyKSA9PiB7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkaXIgPT09ICduZXh0JyA/IG9uTmV4dENsaWNrIDogb25QcmV2Q2xpY2spO1xuICAgICAgfVxuICAgICAgaWYgKCFzd2lwZXIuZW5hYmxlZCAmJiBlbCkge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKC4uLnBhcmFtcy5sb2NrQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBuZXh0RWwuZm9yRWFjaChlbCA9PiBpbml0QnV0dG9uKGVsLCAnbmV4dCcpKTtcbiAgICBwcmV2RWwuZm9yRWFjaChlbCA9PiBpbml0QnV0dG9uKGVsLCAncHJldicpKTtcbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGxldCB7XG4gICAgICBuZXh0RWwsXG4gICAgICBwcmV2RWxcbiAgICB9ID0gc3dpcGVyLm5hdmlnYXRpb247XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGNvbnN0IGRlc3Ryb3lCdXR0b24gPSAoZWwsIGRpcikgPT4ge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkaXIgPT09ICduZXh0JyA/IG9uTmV4dENsaWNrIDogb25QcmV2Q2xpY2spO1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5zd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcy5zcGxpdCgnICcpKTtcbiAgICB9O1xuICAgIG5leHRFbC5mb3JFYWNoKGVsID0+IGRlc3Ryb3lCdXR0b24oZWwsICduZXh0JykpO1xuICAgIHByZXZFbC5mb3JFYWNoKGVsID0+IGRlc3Ryb3lCdXR0b24oZWwsICdwcmV2JykpO1xuICB9XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uZW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0KCk7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbigndG9FZGdlIGZyb21FZGdlIGxvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgZGVzdHJveSgpO1xuICB9KTtcbiAgb24oJ2VuYWJsZSBkaXNhYmxlJywgKCkgPT4ge1xuICAgIGxldCB7XG4gICAgICBuZXh0RWwsXG4gICAgICBwcmV2RWxcbiAgICB9ID0gc3dpcGVyLm5hdmlnYXRpb247XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGlmIChzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFsuLi5uZXh0RWwsIC4uLnByZXZFbF0uZmlsdGVyKGVsID0+ICEhZWwpLmZvckVhY2goZWwgPT4gZWwuY2xhc3NMaXN0LmFkZChzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubG9ja0NsYXNzKSk7XG4gIH0pO1xuICBvbignY2xpY2snLCAoX3MsIGUpID0+IHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBjb25zdCB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuICAgIGxldCB0YXJnZXRJc0J1dHRvbiA9IHByZXZFbC5pbmNsdWRlcyh0YXJnZXRFbCkgfHwgbmV4dEVsLmluY2x1ZGVzKHRhcmdldEVsKTtcbiAgICBpZiAoc3dpcGVyLmlzRWxlbWVudCAmJiAhdGFyZ2V0SXNCdXR0b24pIHtcbiAgICAgIGNvbnN0IHBhdGggPSBlLnBhdGggfHwgZS5jb21wb3NlZFBhdGggJiYgZS5jb21wb3NlZFBhdGgoKTtcbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIHRhcmdldElzQnV0dG9uID0gcGF0aC5maW5kKHBhdGhFbCA9PiBuZXh0RWwuaW5jbHVkZXMocGF0aEVsKSB8fCBwcmV2RWwuaW5jbHVkZXMocGF0aEVsKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZU9uQ2xpY2sgJiYgIXRhcmdldElzQnV0dG9uKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgKHN3aXBlci5wYWdpbmF0aW9uLmVsID09PSB0YXJnZXRFbCB8fCBzd2lwZXIucGFnaW5hdGlvbi5lbC5jb250YWlucyh0YXJnZXRFbCkpKSByZXR1cm47XG4gICAgICBsZXQgaXNIaWRkZW47XG4gICAgICBpZiAobmV4dEVsLmxlbmd0aCkge1xuICAgICAgICBpc0hpZGRlbiA9IG5leHRFbFswXS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH0gZWxzZSBpZiAocHJldkVsLmxlbmd0aCkge1xuICAgICAgICBpc0hpZGRlbiA9IHByZXZFbFswXS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICBlbWl0KCduYXZpZ2F0aW9uU2hvdycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW1pdCgnbmF2aWdhdGlvbkhpZGUnKTtcbiAgICAgIH1cbiAgICAgIFsuLi5uZXh0RWwsIC4uLnByZXZFbF0uZmlsdGVyKGVsID0+ICEhZWwpLmZvckVhY2goZWwgPT4gZWwuY2xhc3NMaXN0LnRvZ2dsZShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBlbmFibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLm5hdmlnYXRpb25EaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgIGluaXQoKTtcbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZCguLi5zd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubmF2aWdhdGlvbkRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgZGVzdHJveSgpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5uYXZpZ2F0aW9uLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGUsXG4gICAgdXBkYXRlLFxuICAgIGluaXQsXG4gICAgZGVzdHJveVxuICB9KTtcbn1cblxuZXhwb3J0IHsgTmF2aWdhdGlvbiBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuXG4vKiBlc2xpbnQgbm8tdW5kZXJzY29yZS1kYW5nbGU6IFwib2ZmXCIgKi9cbi8qIGVzbGludCBuby11c2UtYmVmb3JlLWRlZmluZTogXCJvZmZcIiAqL1xuZnVuY3Rpb24gQXV0b3BsYXkoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdCxcbiAgICBwYXJhbXNcbiAgfSA9IF9yZWY7XG4gIHN3aXBlci5hdXRvcGxheSA9IHtcbiAgICBydW5uaW5nOiBmYWxzZSxcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIHRpbWVMZWZ0OiAwXG4gIH07XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgYXV0b3BsYXk6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgZGVsYXk6IDMwMDAsXG4gICAgICB3YWl0Rm9yVHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgIHN0b3BPbkxhc3RTbGlkZTogZmFsc2UsXG4gICAgICByZXZlcnNlRGlyZWN0aW9uOiBmYWxzZSxcbiAgICAgIHBhdXNlT25Nb3VzZUVudGVyOiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIGxldCB0aW1lb3V0O1xuICBsZXQgcmFmO1xuICBsZXQgYXV0b3BsYXlEZWxheVRvdGFsID0gcGFyYW1zICYmIHBhcmFtcy5hdXRvcGxheSA/IHBhcmFtcy5hdXRvcGxheS5kZWxheSA6IDMwMDA7XG4gIGxldCBhdXRvcGxheURlbGF5Q3VycmVudCA9IHBhcmFtcyAmJiBwYXJhbXMuYXV0b3BsYXkgPyBwYXJhbXMuYXV0b3BsYXkuZGVsYXkgOiAzMDAwO1xuICBsZXQgYXV0b3BsYXlUaW1lTGVmdDtcbiAgbGV0IGF1dG9wbGF5U3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGxldCB3YXNQYXVzZWQ7XG4gIGxldCBpc1RvdWNoZWQ7XG4gIGxldCBwYXVzZWRCeVRvdWNoO1xuICBsZXQgdG91Y2hTdGFydFRpbWVvdXQ7XG4gIGxldCBzbGlkZUNoYW5nZWQ7XG4gIGxldCBwYXVzZWRCeUludGVyYWN0aW9uO1xuICBsZXQgcGF1c2VkQnlQb2ludGVyRW50ZXI7XG4gIGZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZChlKSB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLndyYXBwZXJFbCkgcmV0dXJuO1xuICAgIGlmIChlLnRhcmdldCAhPT0gc3dpcGVyLndyYXBwZXJFbCkgcmV0dXJuO1xuICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIG9uVHJhbnNpdGlvbkVuZCk7XG4gICAgaWYgKHBhdXNlZEJ5UG9pbnRlckVudGVyIHx8IGUuZGV0YWlsICYmIGUuZGV0YWlsLmJ5U3dpcGVyVG91Y2hNb3ZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc3VtZSgpO1xuICB9XG4gIGNvbnN0IGNhbGNUaW1lTGVmdCA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkge1xuICAgICAgd2FzUGF1c2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdhc1BhdXNlZCkge1xuICAgICAgYXV0b3BsYXlEZWxheUN1cnJlbnQgPSBhdXRvcGxheVRpbWVMZWZ0O1xuICAgICAgd2FzUGF1c2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVMZWZ0ID0gc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA/IGF1dG9wbGF5VGltZUxlZnQgOiBhdXRvcGxheVN0YXJ0VGltZSArIGF1dG9wbGF5RGVsYXlDdXJyZW50IC0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnRpbWVMZWZ0ID0gdGltZUxlZnQ7XG4gICAgZW1pdCgnYXV0b3BsYXlUaW1lTGVmdCcsIHRpbWVMZWZ0LCB0aW1lTGVmdCAvIGF1dG9wbGF5RGVsYXlUb3RhbCk7XG4gICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGNhbGNUaW1lTGVmdCgpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBnZXRTbGlkZURlbGF5ID0gKCkgPT4ge1xuICAgIGxldCBhY3RpdmVTbGlkZUVsO1xuICAgIGlmIChzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgYWN0aXZlU2xpZGVFbCA9IHN3aXBlci5zbGlkZXMuZmluZChzbGlkZUVsID0+IHNsaWRlRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzd2lwZXItc2xpZGUtYWN0aXZlJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVTbGlkZUVsID0gc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdO1xuICAgIH1cbiAgICBpZiAoIWFjdGl2ZVNsaWRlRWwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgY3VycmVudFNsaWRlRGVsYXkgPSBwYXJzZUludChhY3RpdmVTbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItYXV0b3BsYXknKSwgMTApO1xuICAgIHJldHVybiBjdXJyZW50U2xpZGVEZWxheTtcbiAgfTtcbiAgY29uc3QgcnVuID0gZGVsYXlGb3JjZSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICBjYWxjVGltZUxlZnQoKTtcbiAgICBsZXQgZGVsYXkgPSB0eXBlb2YgZGVsYXlGb3JjZSA9PT0gJ3VuZGVmaW5lZCcgPyBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5IDogZGVsYXlGb3JjZTtcbiAgICBhdXRvcGxheURlbGF5VG90YWwgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgIGF1dG9wbGF5RGVsYXlDdXJyZW50ID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICBjb25zdCBjdXJyZW50U2xpZGVEZWxheSA9IGdldFNsaWRlRGVsYXkoKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihjdXJyZW50U2xpZGVEZWxheSkgJiYgY3VycmVudFNsaWRlRGVsYXkgPiAwICYmIHR5cGVvZiBkZWxheUZvcmNlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGVsYXkgPSBjdXJyZW50U2xpZGVEZWxheTtcbiAgICAgIGF1dG9wbGF5RGVsYXlUb3RhbCA9IGN1cnJlbnRTbGlkZURlbGF5O1xuICAgICAgYXV0b3BsYXlEZWxheUN1cnJlbnQgPSBjdXJyZW50U2xpZGVEZWxheTtcbiAgICB9XG4gICAgYXV0b3BsYXlUaW1lTGVmdCA9IGRlbGF5O1xuICAgIGNvbnN0IHNwZWVkID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgICBjb25zdCBwcm9jZWVkID0gKCkgPT4ge1xuICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucmV2ZXJzZURpcmVjdGlvbikge1xuICAgICAgICBpZiAoIXN3aXBlci5pc0JlZ2lubmluZyB8fCBzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLnBhcmFtcy5yZXdpbmQpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVQcmV2KHNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZSkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghc3dpcGVyLmlzRW5kIHx8IHN3aXBlci5wYXJhbXMubG9vcCB8fCBzd2lwZXIucGFyYW1zLnJld2luZCkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZU5leHQoc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuc3RvcE9uTGFzdFNsaWRlKSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oMCwgc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgYXV0b3BsYXlTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBydW4oKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHByb2NlZWQoKTtcbiAgICAgIH0sIGRlbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgcHJvY2VlZCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgcmV0dXJuIGRlbGF5O1xuICB9O1xuICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICBhdXRvcGxheVN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nID0gdHJ1ZTtcbiAgICBydW4oKTtcbiAgICBlbWl0KCdhdXRvcGxheVN0YXJ0Jyk7XG4gIH07XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICBlbWl0KCdhdXRvcGxheVN0b3AnKTtcbiAgfTtcbiAgY29uc3QgcGF1c2UgPSAoaW50ZXJuYWwsIHJlc2V0KSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBwcm9jZWVkID0gKCkgPT4ge1xuICAgICAgZW1pdCgnYXV0b3BsYXlQYXVzZScpO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkud2FpdEZvclRyYW5zaXRpb24pIHtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VtZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IHRydWU7XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICBpZiAoc2xpZGVDaGFuZ2VkKSB7XG4gICAgICAgIGF1dG9wbGF5VGltZUxlZnQgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgICAgfVxuICAgICAgc2xpZGVDaGFuZ2VkID0gZmFsc2U7XG4gICAgICBwcm9jZWVkKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRlbGF5ID0gYXV0b3BsYXlUaW1lTGVmdCB8fCBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgIGF1dG9wbGF5VGltZUxlZnQgPSBkZWxheSAtIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGF1dG9wbGF5U3RhcnRUaW1lKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmIGF1dG9wbGF5VGltZUxlZnQgPCAwICYmICFzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgICBpZiAoYXV0b3BsYXlUaW1lTGVmdCA8IDApIGF1dG9wbGF5VGltZUxlZnQgPSAwO1xuICAgIHByb2NlZWQoKTtcbiAgfTtcbiAgY29uc3QgcmVzdW1lID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuaXNFbmQgJiYgYXV0b3BsYXlUaW1lTGVmdCA8IDAgJiYgIXN3aXBlci5wYXJhbXMubG9vcCB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGF1dG9wbGF5U3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgaWYgKHBhdXNlZEJ5SW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSBmYWxzZTtcbiAgICAgIHJ1bihhdXRvcGxheVRpbWVMZWZ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcnVuKCk7XG4gICAgfVxuICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSBmYWxzZTtcbiAgICBlbWl0KCdhdXRvcGxheVJlc3VtZScpO1xuICB9O1xuICBjb25zdCBvblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICAgIHBhdXNlKHRydWUpO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScpIHtcbiAgICAgIHJlc3VtZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb25Qb2ludGVyRW50ZXIgPSBlID0+IHtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSAhPT0gJ21vdXNlJykgcmV0dXJuO1xuICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgIHBhdXNlZEJ5UG9pbnRlckVudGVyID0gdHJ1ZTtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZyB8fCBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSByZXR1cm47XG4gICAgcGF1c2UodHJ1ZSk7XG4gIH07XG4gIGNvbnN0IG9uUG9pbnRlckxlYXZlID0gZSA9PiB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScpIHJldHVybjtcbiAgICBwYXVzZWRCeVBvaW50ZXJFbnRlciA9IGZhbHNlO1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgICByZXN1bWUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGF0dGFjaE1vdXNlRXZlbnRzID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnBhdXNlT25Nb3VzZUVudGVyKSB7XG4gICAgICBzd2lwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgb25Qb2ludGVyRW50ZXIpO1xuICAgICAgc3dpcGVyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIG9uUG9pbnRlckxlYXZlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRldGFjaE1vdXNlRXZlbnRzID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZWwgJiYgdHlwZW9mIHN3aXBlci5lbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHN3aXBlci5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCBvblBvaW50ZXJFbnRlcik7XG4gICAgICBzd2lwZXIuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgb25Qb2ludGVyTGVhdmUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXR0YWNoRG9jdW1lbnRFdmVudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UpO1xuICB9O1xuICBjb25zdCBkZXRhY2hEb2N1bWVudEV2ZW50cyA9ICgpID0+IHtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH07XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQpIHtcbiAgICAgIGF0dGFjaE1vdXNlRXZlbnRzKCk7XG4gICAgICBhdHRhY2hEb2N1bWVudEV2ZW50cygpO1xuICAgICAgc3RhcnQoKTtcbiAgICB9XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBkZXRhY2hNb3VzZUV2ZW50cygpO1xuICAgIGRldGFjaERvY3VtZW50RXZlbnRzKCk7XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ19mcmVlTW9kZVN0YXRpY1JlbGVhc2UnLCAoKSA9PiB7XG4gICAgaWYgKHBhdXNlZEJ5VG91Y2ggfHwgcGF1c2VkQnlJbnRlcmFjdGlvbikge1xuICAgICAgcmVzdW1lKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ19mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgcGF1c2UodHJ1ZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3AoKTtcbiAgICB9XG4gIH0pO1xuICBvbignYmVmb3JlVHJhbnNpdGlvblN0YXJ0JywgKF9zLCBzcGVlZCwgaW50ZXJuYWwpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoaW50ZXJuYWwgfHwgIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlKHRydWUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3NsaWRlckZpcnN0TW92ZScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgc3RvcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc1RvdWNoZWQgPSB0cnVlO1xuICAgIHBhdXNlZEJ5VG91Y2ggPSBmYWxzZTtcbiAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gZmFsc2U7XG4gICAgdG91Y2hTdGFydFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgICAgcGF1c2VkQnlUb3VjaCA9IHRydWU7XG4gICAgICBwYXVzZSh0cnVlKTtcbiAgICB9LCAyMDApO1xuICB9KTtcbiAgb24oJ3RvdWNoRW5kJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZyB8fCAhaXNUb3VjaGVkKSByZXR1cm47XG4gICAgY2xlYXJUaW1lb3V0KHRvdWNoU3RhcnRUaW1lb3V0KTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlZEJ5VG91Y2ggPSBmYWxzZTtcbiAgICAgIGlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGF1c2VkQnlUb3VjaCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHJlc3VtZSgpO1xuICAgIHBhdXNlZEJ5VG91Y2ggPSBmYWxzZTtcbiAgICBpc1RvdWNoZWQgPSBmYWxzZTtcbiAgfSk7XG4gIG9uKCdzbGlkZUNoYW5nZScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBzbGlkZUNoYW5nZWQgPSB0cnVlO1xuICB9KTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIuYXV0b3BsYXksIHtcbiAgICBzdGFydCxcbiAgICBzdG9wLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZVxuICB9KTtcbn1cblxuZXhwb3J0IHsgQXV0b3BsYXkgYXMgZGVmYXVsdCB9O1xuIiwgImZ1bmN0aW9uIGVmZmVjdEluaXQocGFyYW1zKSB7XG4gIGNvbnN0IHtcbiAgICBlZmZlY3QsXG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBzZXRUcmFuc2l0aW9uLFxuICAgIG92ZXJ3cml0ZVBhcmFtcyxcbiAgICBwZXJzcGVjdGl2ZSxcbiAgICByZWNyZWF0ZVNoYWRvd3MsXG4gICAgZ2V0RWZmZWN0UGFyYW1zXG4gIH0gPSBwYXJhbXM7XG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtlZmZlY3R9YCk7XG4gICAgaWYgKHBlcnNwZWN0aXZlICYmIHBlcnNwZWN0aXZlKCkpIHtcbiAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfTNkYCk7XG4gICAgfVxuICAgIGNvbnN0IG92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCA9IG92ZXJ3cml0ZVBhcmFtcyA/IG92ZXJ3cml0ZVBhcmFtcygpIDoge307XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIucGFyYW1zLCBvdmVyd3JpdGVQYXJhbXNSZXN1bHQpO1xuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLm9yaWdpbmFsUGFyYW1zLCBvdmVyd3JpdGVQYXJhbXNSZXN1bHQpO1xuICB9KTtcbiAgb24oJ3NldFRyYW5zbGF0ZSBfdmlydHVhbFVwZGF0ZWQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbikgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH0pO1xuICBvbigndHJhbnNpdGlvbkVuZCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIGlmIChyZWNyZWF0ZVNoYWRvd3MpIHtcbiAgICAgIGlmICghZ2V0RWZmZWN0UGFyYW1zIHx8ICFnZXRFZmZlY3RQYXJhbXMoKS5zbGlkZVNoYWRvd3MpIHJldHVybjtcbiAgICAgIC8vIHJlbW92ZSBzaGFkb3dzXG4gICAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgIHNsaWRlRWwucXVlcnlTZWxlY3RvckFsbCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykuZm9yRWFjaChzaGFkb3dFbCA9PiBzaGFkb3dFbC5yZW1vdmUoKSk7XG4gICAgICB9KTtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgb25lXG4gICAgICByZWNyZWF0ZVNoYWRvd3MoKTtcbiAgICB9XG4gIH0pO1xuICBsZXQgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbDtcbiAgb24oJ3ZpcnR1YWxVcGRhdGUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBpZiAoIXN3aXBlci5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICByZXF1aXJlVXBkYXRlT25WaXJ0dWFsID0gdHJ1ZTtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmIChyZXF1aXJlVXBkYXRlT25WaXJ0dWFsICYmIHN3aXBlci5zbGlkZXMgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICAgIHJlcXVpcmVVcGRhdGVPblZpcnR1YWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IGVmZmVjdEluaXQgYXMgZSB9O1xuIiwgImltcG9ydCB7IGcgYXMgZ2V0U2xpZGVUcmFuc2Zvcm1FbCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gZWZmZWN0VGFyZ2V0KGVmZmVjdFBhcmFtcywgc2xpZGVFbCkge1xuICBjb25zdCB0cmFuc2Zvcm1FbCA9IGdldFNsaWRlVHJhbnNmb3JtRWwoc2xpZGVFbCk7XG4gIGlmICh0cmFuc2Zvcm1FbCAhPT0gc2xpZGVFbCkge1xuICAgIHRyYW5zZm9ybUVsLnN0eWxlLmJhY2tmYWNlVmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIHRyYW5zZm9ybUVsLnN0eWxlWyctd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHknXSA9ICdoaWRkZW4nO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1FbDtcbn1cblxuZXhwb3J0IHsgZWZmZWN0VGFyZ2V0IGFzIGUgfTtcbiIsICJpbXBvcnQgeyBsIGFzIGVsZW1lbnRUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGR1cmF0aW9uLFxuICAgIHRyYW5zZm9ybUVsZW1lbnRzLFxuICAgIGFsbFNsaWRlc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUluZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGdldFNsaWRlID0gZWwgPT4ge1xuICAgIGlmICghZWwucGFyZW50RWxlbWVudCkge1xuICAgICAgLy8gYXNzdW1lIHNoYWRvdyByb290XG4gICAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXMuZmluZChzbGlkZUVsID0+IHNsaWRlRWwuc2hhZG93Um9vdCAmJiBzbGlkZUVsLnNoYWRvd1Jvb3QgPT09IGVsLnBhcmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHNsaWRlO1xuICAgIH1cbiAgICByZXR1cm4gZWwucGFyZW50RWxlbWVudDtcbiAgfTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiBkdXJhdGlvbiAhPT0gMCkge1xuICAgIGxldCBldmVudFRyaWdnZXJlZCA9IGZhbHNlO1xuICAgIGxldCB0cmFuc2l0aW9uRW5kVGFyZ2V0O1xuICAgIGlmIChhbGxTbGlkZXMpIHtcbiAgICAgIHRyYW5zaXRpb25FbmRUYXJnZXQgPSB0cmFuc2Zvcm1FbGVtZW50cztcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNpdGlvbkVuZFRhcmdldCA9IHRyYW5zZm9ybUVsZW1lbnRzLmZpbHRlcih0cmFuc2Zvcm1FbCA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gdHJhbnNmb3JtRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzd2lwZXItc2xpZGUtdHJhbnNmb3JtJykgPyBnZXRTbGlkZSh0cmFuc2Zvcm1FbCkgOiB0cmFuc2Zvcm1FbDtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5nZXRTbGlkZUluZGV4KGVsKSA9PT0gYWN0aXZlSW5kZXg7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdHJhbnNpdGlvbkVuZFRhcmdldC5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsZW1lbnRUcmFuc2l0aW9uRW5kKGVsLCAoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFRyaWdnZXJlZCkgcmV0dXJuO1xuICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGV2ZW50VHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KCd0cmFuc2l0aW9uZW5kJywge1xuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCBhcyBlIH07XG4iLCAiaW1wb3J0IHsgZSBhcyBlZmZlY3RJbml0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFRhcmdldCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyc7XG5pbXBvcnQgeyBnIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gRWZmZWN0RmFkZShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBmYWRlRWZmZWN0OiB7XG4gICAgICBjcm9zc0ZhZGU6IGZhbHNlXG4gICAgfVxuICB9KTtcbiAgY29uc3Qgc2V0VHJhbnNsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzbGlkZUVsID0gc3dpcGVyLnNsaWRlc1tpXTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHNsaWRlRWwuc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICBsZXQgdHggPSAtb2Zmc2V0O1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHR4IC09IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICBsZXQgdHkgPSAwO1xuICAgICAgaWYgKCFzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgdHkgPSB0eDtcbiAgICAgICAgdHggPSAwO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2xpZGVPcGFjaXR5ID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0LmNyb3NzRmFkZSA/IE1hdGgubWF4KDEgLSBNYXRoLmFicyhzbGlkZUVsLnByb2dyZXNzKSwgMCkgOiAxICsgTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVFbC5wcm9ncmVzcywgLTEpLCAwKTtcbiAgICAgIGNvbnN0IHRhcmdldEVsID0gZWZmZWN0VGFyZ2V0KHBhcmFtcywgc2xpZGVFbCk7XG4gICAgICB0YXJnZXRFbC5zdHlsZS5vcGFjaXR5ID0gc2xpZGVPcGFjaXR5O1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHh9cHgsICR7dHl9cHgsIDBweClgO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgfSk7XG4gICAgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoe1xuICAgICAgc3dpcGVyLFxuICAgICAgZHVyYXRpb24sXG4gICAgICB0cmFuc2Zvcm1FbGVtZW50cyxcbiAgICAgIGFsbFNsaWRlczogdHJ1ZVxuICAgIH0pO1xuICB9O1xuICBlZmZlY3RJbml0KHtcbiAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICFzd2lwZXIucGFyYW1zLmNzc01vZGVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0RmFkZSBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IFN3aXBlciBmcm9tICdzd2lwZXInO1xuaW1wb3J0IHsgRWZmZWN0RmFkZSwgQXV0b3BsYXksIE5hdmlnYXRpb24gfSBmcm9tICdzd2lwZXIvbW9kdWxlcyc7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gIGluaXRTbGlkZXJzKCk7XG59KTtcblxuY29uc3QgaW5pdFNsaWRlcnMgPSAoKSA9PiB7XG4gIG5ldyBTd2lwZXIoJy5oZXJvLXNsaWRlcicsIHtcbiAgICBtb2R1bGVzOiBbRWZmZWN0RmFkZSwgQXV0b3BsYXldLFxuICAgIGxvb3A6IHRydWUsXG5cbiAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICBmYWRlRWZmZWN0OiB7XG4gICAgICBjcm9zc0ZhZGU6IGZhbHNlXG4gICAgfSxcblxuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogMTAwMCxcbiAgICB9LFxuICB9KTtcblxuICBuZXcgU3dpcGVyKCcuY29tcGFueS1yZXZpZXctc2xpZGVyJywge1xuICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgc3BhY2VCZXR3ZWVuOiAyNCxcbiAgICBsb29wOiB0cnVlLFxuICB9KTtcblxuICBuZXcgU3dpcGVyKCcuc2VydmljZS1ibG9jay1zbGlkZXInLCB7XG4gICAgbW9kdWxlczogW0F1dG9wbGF5XSxcbiAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgIHNwYWNlQmV0d2VlbjogMjAsXG4gICAgbG9vcDogdHJ1ZSxcblxuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogNTAwMCxcbiAgICB9LFxuICB9KTtcblxuICBuZXcgU3dpcGVyKCcuaW5mby1zbGlkZXInLCB7XG4gICAgbW9kdWxlczogW0VmZmVjdEZhZGUsIE5hdmlnYXRpb25dLFxuICAgIGxvb3A6IHRydWUsXG5cbiAgICAvLyBlZmZlY3Q6ICdmYWRlJyxcbiAgICAvLyBmYWRlRWZmZWN0OiB7XG4gICAgLy8gICBjcm9zc0ZhZGU6IHRydWVcbiAgICAvLyB9LFxuXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiAnLmluZm8tc2xpZGVyX19uZXh0LWJ0bicsXG4gICAgICBwcmV2RWw6ICcuaW5mby1zbGlkZXJfX3ByZXYtYnRuJyxcbiAgICB9LFxuICB9KTtcblxuICBuZXcgU3dpcGVyKCcudGVzdGltb25pYWwtc2xpZGVyJywge1xuICAgIG1vZHVsZXM6IFtFZmZlY3RGYWRlLCBOYXZpZ2F0aW9uXSxcbiAgICBsb29wOiB0cnVlLFxuXG4gICAgLy8gZWZmZWN0OiAnZmFkZScsXG4gICAgLy8gZmFkZUVmZmVjdDoge1xuICAgIC8vICAgY3Jvc3NGYWRlOiB0cnVlXG4gICAgLy8gfSxcblxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogJy50ZXN0aW1vbmlhbC1zbGlkZXJfX25leHQtYnRuJyxcbiAgICAgIHByZXZFbDogJy50ZXN0aW1vbmlhbC1zbGlkZXJfX3ByZXYtYnRuJyxcbiAgICB9LFxuICB9KTtcbn07Il0sCiAgIm1hcHBpbmdzIjogIkFBWUEsU0FBUyxTQUFTLElBQUssQ0FDckIsT0FBTyxNQUFRLE1BQVEsT0FBTyxNQUFRLFVBQVksZ0JBQWlCLEtBQU8sSUFBSSxjQUFnQixNQUNoRyxDQUNBLFNBQVMsT0FBTyxPQUFRLElBQUssQ0FDM0IsR0FBSSxTQUFXLE9BQVEsQ0FDckIsT0FBUyxDQUFDLENBQ1osQ0FDQSxHQUFJLE1BQVEsT0FBUSxDQUNsQixJQUFNLENBQUMsQ0FDVCxDQUNBLE1BQU0sU0FBVyxDQUFDLFlBQWEsY0FBZSxXQUFXLEVBQ3pELE9BQU8s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WUFBYyxJQUFNLENBQ3hCLElBQUksT0FBTyxlQUFnQixDQUN6QixRQUFTLENBQUMsV0FBWSxRQUFRLEVBQzlCLEtBQU0sS0FFTixPQUFRLE9BQ1IsV0FBWSxDQUNWLFVBQVcsS0FDYixFQUVBLFNBQVUsQ0FDUixNQUFPLEdBQ1QsQ0FDRixDQUFDLEVBRUQsSUFBSSxPQUFPLHlCQUEwQixDQUNuQyxjQUFlLEVBQ2YsYUFBYyxHQUNkLEtBQU0sSUFDUixDQUFDLEVBRUQsSUFBSSxPQUFPLHdCQUF5QixDQUNsQyxRQUFTLENBQUMsUUFBUSxFQUNsQixjQUFlLEVBQ2YsYUFBYyxHQUNkLEtBQU0sS0FFTixTQUFVLENBQ1IsTUFBTyxHQUNULENBQ0YsQ0FBQyxFQUVELElBQUksT0FBTyxlQUFnQixDQUN6QixRQUFTLENBQUMsV0FBWSxVQUFVLEVBQ2hDLEtBQU0sS0FPTixXQUFZLENBQ1YsT0FBUSx5QkFDUixPQUFRLHdCQUNWLENBQ0YsQ0FBQyxFQUVELElBQUksT0FBTyxzQkFBdUIsQ0FDaEMsUUFBUyxDQUFDLFdBQVksVUFBVSxFQUNoQyxLQUFNLEtBT04sV0FBWSxDQUNWLE9BQVEsZ0NBQ1IsT0FBUSwrQkFDVixDQUNGLENBQUMsQ0FDSCIsCiAgIm5hbWVzIjogWyJjbGFzc2VzIiwgImdldENvbXB1dGVkU3R5bGUiLCAid2luZG93IiwgImlzT2JqZWN0IiwgImV4dGVuZCIsICJ3aW5kb3ciLCAid2luZG93IiwgImRvY3VtZW50IiwgInN1cHBvcnQiLCAib2JzZXJ2ZXJVcGRhdGUiLCAiZXZlbnRzIiwgImV2ZW50IiwgInNsaWRlIiwgInRyYW5zbGF0ZSIsICJyZWFsSW5kZXgiLCAibWluVHJhbnNsYXRlIiwgIm1heFRyYW5zbGF0ZSIsICJ0cmFuc2l0aW9uRW5kIiwgImJyb3dzZXIiLCAic2xpZGVUbyIsICJzZXRUcmFuc2xhdGUiLCAiaSIsICJpbmNyZW1lbnQiLCAiYnJlYWtwb2ludHMiLCAiZXh0ZW5kIiwgInVwZGF0ZSIsICJkb2N1bWVudCIsICJzZXRUcmFuc2xhdGUiLCAic2V0VHJhbnNpdGlvbiIsICJzbGlkZSIsICJzZXRUcmFuc2xhdGUiLCAic2V0VHJhbnNpdGlvbiJdCn0K
